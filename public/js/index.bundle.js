!function(t){var a={};function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=a,e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)e.d(i,n,function(a){return t[a]}.bind(null,n));return i},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=10)}([function(t,a,e){"use strict";function i(t,a,e,i,n){var s=t+"px";return s+=" "+a+"px",s+=e?" "+e+"px":"",(s+=i?" "+i+"px":"")+(n?" "+n:"")}function n(t,a,e,i,n){var s=a;return""!=t&&(s="url("+t+")"+(e=""!=e?" "+e:" no-repeat")+(i=""!=i?" "+i:"")+(a=""!=a?" "+a:"")+(n=""!=n?" "+n:"")),s}function s(t){if("object"!=typeof t)return!(t&&!/^[ ]*$/.test(t.toString()));var a=0;for(var e in t)t[e]&&!/^[ ]*$/.test(t[e].toString())&&a++;return 0==a}function o(t){return s(t)?"":t}function l(t){var a=!1;switch(typeof t){case"undefined":a=!0;case"string":0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length&&(a=!0);break;case"boolean":t||(a=!0);break;case"number":0!==t&&!isNaN(t)||(a=!0);break;case"object":for(var e in null!==t&&0!==t.length||(a=!0),t)a=!1;a=!0}if(!a)return Number.parseInt(t)}Object.defineProperty(a,"__esModule",{value:!0}),a.wwUrl=function(t,a,e,i){return"wwlink"==a?"//amos.alicdn.com/msg.aw?&v=2&uid="+e+"&site=enaliint&s="+i+"&charset=UTF-8":t},a.onLinkModeChanged=function(t,a){var e=t.find(".wang-box"),i=t.find(".link-box");"urlink"===a?(e.hide(),i.show()):"wwlink"===a&&(i.hide(),e.show())},a.boxShadow=i,a.bgImage=n,a.textLine=function(t,a,e){var i=""!=e?e:"";return i+=""!=t?" "+t:"",""==(i+=""!=a?" "+a:"")&&(i="none"),i},a.onDisabledChanged=function(t,a,e){var i=a.next();i.removeAttr("disabled"),i.removeClass("state-disabled"),""!==e&&"xins-box-fromleft"!==e&&"xins-box-fromright"!==e&&"xins-box-fromtop"!==e&&"xins-box-frombottom"!==e||(i.attr("disabled","disabled"),i.addClass("state-disabled"))},a.onTongBuBd=function(t,a,e){var i=t.find("input[type=text][name=bdWidth]").val();t.find("input[type=text][name=mbdWidth]").val(i);var n=t.find("input[type=radio][name=bdStyle]:checked").val();t.find("input[type=radio][name=mbdStyle][value="+n+"]").prop("checked",!0);var s=t.find("input[type=text][name=bdColor]").val(),o=t.find("input[type=text][name=mbdColor]");o.val(s),o.prev().find(".sp-preview-inner").css("background-color",s);var l=t.find("input[type=checkbox][name=bdT]"),r=t.find("input[type=checkbox][name=mbdT]"),d=l.is(":checked");r.prop("checked",d);var p=t.find("input[type=checkbox][name=bdB]"),m=t.find("input[type=checkbox][name=mbdB]"),c=p.is(":checked");m.prop("checked",c);var u=t.find("input[type=checkbox][name=bdL]"),f=t.find("input[type=checkbox][name=mbdL]"),h=u.is(":checked");f.prop("checked",h);var v=t.find("input[type=checkbox][name=bdR]"),b=t.find("input[type=checkbox][name=mbdR]"),y=v.is(":checked");b.prop("checked",y),a&&(e.formData.mbdT=t.find("input[type=checkbox][name=mbdT]:checked").val(),e.formData.mbdB=t.find("input[type=checkbox][name=mbdB]:checked").val(),e.formData.mbdL=t.find("input[type=checkbox][name=mbdL]:checked").val(),e.formData.mbdR=t.find("input[type=checkbox][name=mbdR]:checked").val(),e.formData.mbdWidth=i,e.formData.mbdColor=s,e.formData.mbdStyle=n)},a.BezierCss=function(t,a){var e="";if("bs"==t)switch(a){case"b":e="1, 0, 1, 0";break;case"m":e="1, 0, 1, 1";break;default:e="0.42, 0, 1, 1"}else if("bq"==t)switch(a){case"b":e="0, 1, 0, 1";break;case"m":e="0, 0, 0, 1";break;default:e="0, 0, 0.58, 1"}else if("bt"==t)switch(a){case"b":e="0.5,2.2,1,0.8";break;case"m":e="0.5, 2.2, 0.5, 0.8";break;default:e="1, 2.2, 0.5, 0.8"}else if("bc"==t)switch(a){case"b":e="0.5, 0.2, 1, -1.2";break;case"m":e="0.5, 0.2, 0.5, -1.2";break;default:e="1, 0.2, 0.5, -1.2"}else if("bd"==t)switch(a){case"b":e="0.5, 1, 1, 0";break;case"m":e="0.5, 1, 0.5, 0";break;default:e="1, 1, 0.5, 0"}else if("bx"==t)switch(a){case"b":e="0.5, 1.5, 0.5, -1.5";break;case"m":e="0.5, 2, 0.5, -1";break;default:e="0.5, 3, 0.5, 0"}return""!=e?"cubic-bezier("+e+") ":""},a.isnull=s,a.valEmpty=o,a.valInt=l,a.ImgBgHtml=function(t){var a={imgBgStyle:"",Html:""},e=o(t.bRadius),i=""!=e?"border-radius:"+e+"px;":"",s=o(t.imgMode),l=o(t.bgImg),r=""!=o(t.bgColor)?t.bgColor:"",d="";if(""!=l){var p="";switch(s){case"cut":d=n(l,r,"no-repeat","0% 0%",""),a.imgBgStyle=""!=d?"background:"+d+";":"";break;case"full":p='<img  class="sf"  src='+l+'  style="'+i+'width:100%;height:100%;" />';break;case"scaleX":p='<img  class="sx"  src='+l+'   style="'+i+'height:100%;"  />';break;case"scaleY":p='<img  class="sy"  src='+l+'   style="'+i+'width:100%;" />'}a.Html=p}return a},a.ShadowStyle=function(t){var a={onShadow:"",offShadow:""},e=o(t.bRadius),n=""!=e?"border-radius:"+e+"px;":"";if("on"===o(t.shadow)){var s=i(""!=o(t.sdX)?t.sdX:0,""!=o(t.sdY)?t.sdY:0,o(t.sdBlur),o(t.sdSize),o(t.sdColor));a.onShadow=""!=s?"box-shadow:"+s+";":""}if("on"===o(t.mshadow)){var l=i(""!=o(t.msdX)?t.msdX:0,""!=o(t.msdY)?t.msdY:0,o(t.msdBlur),o(t.msdSize),o(t.msdColor));l=""!=l?"box-shadow:"+l+";":"";var r=o(t.msdTsDur)?t.msdTsDur+"s linear":"",d=r?"transition:"+r+";":"";a.offShadow='<div class="abs mchild xins-box-fadein" style="'+d+l+n+'" ></div>'}return a},a.BorderHtml=function(t){var a,e,i,n,s,r,d,p,m,c,u,f,h,v,b,y,g,x,D={bdpdStyle:"",mbdpdStyle:"",Html:""},w=o(t.bRadius),k=""!=w?"border-radius:"+w+"px;":"";a=o(t.bdT),e=o(t.bdB),i=o(t.bdL),n=o(t.bdR),s=l(t.bdWidth),r=o(t.bdColor),d=o(t.bdStyle),p=o(t.mbdT),m=o(t.mbdB),c=o(t.mbdL),u=o(t.mbdR),f=l(t.mbdWidth),h=o(t.mbdColor),v=o(t.mbdStyle),b=o(t.mbdTsDur),y=o(t.mbdTsFun),g=o(t.mbdTsAnt);var $,T,C,S,B,z,M,I,A,E,P,L,R,_,F,X="";S=C=T=$=0,"on"===a&&(X+="padding-top:"+($=s)+"px;"),"on"===e&&(X+="padding-bottom:"+(T=s)+"px;"),"on"===i&&(X+="padding-left:"+(C=s)+"px;"),"on"===n&&(X+="padding-right:"+(S=s)+"px;"),I=M=z=B=0,A="","on"===p&&(B=f,A+="padding-top:"+$+"px;"),"on"===m&&(z=f,A+="padding-bottom:"+T+"px;"),"on"===c&&(M=f,A+="padding-left:"+C+"px;"),"on"===u&&(I=f,A+="padding-right:"+S+"px;");var W=[];return E='<div class="bk-aline" style="'+(x="transition-timing-function:"+("cubic-bezier"===y?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":y)+";"+(""!=b?"transition-duration:"+b+"s;":""))+k+"border-color:"+r+";border-style:"+d+";border-top-width:"+$+"px;border-bottom-width:"+T+"px;border-left-width:"+C+"px;border-right-width:"+S+'px;" ></div>',P='<div class="bk-mline" style="'+x+k+"border-color:"+h+";border-style:"+v+";border-top-width:"+B+"px;border-bottom-width:"+z+"px;border-left-width:"+M+"px;border-right-width:"+I+'px;" ></div>',L='<div class="bk-line w-lt" style="'+x+"border-top-style:"+v+";border-top-color:"+h+";border-top-width:"+f+'px;"></div>',R='<div class="bk-line w-lb" style="'+x+"border-bottom-style:"+v+";border-bottom-color:"+h+";border-bottom-width:"+f+'px;"></div>',_='<div class="bk-line w-ll" style="'+x+"border-left-style:"+v+";border-left-color:"+h+";border-left-width:"+f+'px;"></div>',F='<div class="bk-line w-lr" style="'+x+"border-right-style:"+v+";border-right-color:"+h+";border-right-width:"+f+'px;"></div>',W.push(E),"bdtx0"==g||"bdtx1"==g?W.push(P):("on"===p&&W.push(L),"on"===m&&W.push(R),"on"===c&&W.push(_),"on"===u&&W.push(F)),D.bdpdStyle=X,D.mbdpdStyle=A,D.Html=W.join(""),D}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3),n=(s.prototype.width=function(){return this.drag.$el.offsetWidth},s.prototype.height=function(){return this.drag.$el.offsetHeight},s.prototype.setContent=function(t){this.$contentBox.append(t)},s.prototype.remove=function(){this.$el.remove()},s.prototype.clone=function(){var t=new this.constructor;t.formData=this.formData,t.update(this.formData),this.stage.addComponent(t),this.stage.selectComponent(t)},s.prototype.select=function(){this.selected||(this.$el.addClass("ui-selected"),this.selected=!0,this.resetPositionInfo(),this.initPorpPanel())},s.prototype.showToolbar=function(){this.$topBar.show(),this.$bottomBar.show()},s.prototype.resetPositionInfo=function(){var t=this.drag.$el.style.left,a=this.drag.$el.style.top;this.$inputX.val(parseInt(t||0)),this.$inputY.val(parseInt(a||0)),this.$inputWidth.val(this.width()),this.$inputHeight.val(this.height())},s.prototype.setPosition=function(t){var a=t.l,e=t.t,i=t.w,n=t.h;this.$el.width(i),this.$el.height(n),this.$el.css("left",a+"px"),this.$el.css("top",e+"px")},s.prototype.unselect=function(){this.$topBar.hide(),this.$bottomBar.hide(),this.$el.removeClass("ui-selected"),this.selected=!1},s.prototype.deleteSelf=function(){var t=layui.layer,a=this;t.confirm("您确定是否删除该组件吗？",{btn:["确定","关闭"],icon:3,title:"提示"},function(e){t.close(e),a.stage.removeComponent(a)},function(){})},s.prototype.mount=function(t){var a=this;this.stage=t,this.id=t.getRandomStr(4);var e=t.$canvas;e.append(this.$el),this.enableResize&&this.$el.resizable({classes:{"ui-resizable-se":""},handles:"all",resize:function(){a.resetPositionInfo()}});var n=new i.default(this.$el[0],{minWidth:this.minWidth,minHeight:this.minHeight,handle:this.$contentBox[0],containment:e[0],resizable:!1,snap:!0});(this.drag=n).onDrag=function(t){a.resetPositionInfo(),0===a.drag.dragStatus&&(a.drag.dragStatus=1)},n.onStop=function(t){a.drag.dragStatus=0},this.$contentBox.on("mousedown",function(e){t.selectComponent(a),a.showToolbar()}),this.$topBar.find(".delete").on("mousedown",function(t){t.stopPropagation(),a.deleteSelf()}),this.$topBar.on("mousedown",function(t){t.stopPropagation()}),this.$bottomBar.on("mousedown",function(t){t.stopPropagation()}),this.$el.on("mouseenter",function(t){2===a.drag.dragStatus&&(a.drag.dragStatus=1)}),this.$el.on("mouseleave",function(t){1===a.drag.dragStatus&&(a.drag.dragStatus=2,a.stage.dragScroll(t,a.drag))})},s);function s(t,a){for(var e in void 0===t&&(t=""),void 0===a&&(a={}),this.props={},this.formData={},this.isLockedPos=!1,this.enableResize=!0,this.selected=!1,this.name=t,a)this[e]=a[e];var i=$('\n      <div class="component-box t-app">\n        <div class="top-bar">\n          <span class="setting" title="编辑"></span>\n          <span class="lock" title="锁定位置"></span>\n          <span class="copy" title="复制"></span>\n          <span class="delete" title="删除"></span>\n        </div>\n        <div class="content-box">\n        </div>\n        <div class="bottom-bar">\n          <span>X:<input type="text" value="0"></span>\n          <span>Y:<input type="text" value="0"></span>\n          '+(this.enableResize?'<span>宽:<input type="text" value="0"></span><span>高:<input type="text" value="0"></span>':"")+'\n          <span class="confirm">确定</span>\n        </div>\n      </div>\n    ');this.$contentBox=i.find(".content-box"),t&&i.addClass(t),this.$el=i,this.$topBar=i.find(".top-bar"),this.$bottomBar=i.find(".bottom-bar"),this.minWidth=24,this.minHeight=24,this.$inputX=this.$bottomBar.find("span:nth-child(1) input"),this.$inputY=this.$bottomBar.find("span:nth-child(2) input"),this.$inputWidth=this.$bottomBar.find("span:nth-child(3) input"),this.$inputHeight=this.$bottomBar.find("span:nth-child(4) input");var n=this;this.$topBar.find(".setting").bind("click",function(){n.openEditDialog()}),this.$contentBox.dblclick(function(){n.openEditDialog()}),this.$bottomBar.find(".confirm").bind("click",function(){var t=n.$inputX.val(),a=n.$inputY.val(),e=n.$inputWidth.val(),i=n.$inputHeight.val();n.setPosition({w:e,h:i,l:t,t:a})}),this.$topBar.find("span:nth-child(2)").bind("click",function(){var t=$(this);n.isLockedPos?(n.isLockedPos=!1,t.removeClass("unlock"),t.addClass("lock"),t.attr("title","锁定位置"),n.drag.enable()):(n.isLockedPos=!0,t.removeClass("lock"),t.addClass("unlock"),t.attr("title","解除锁定"),n.drag.disable())}),this.$topBar.find("span:nth-child(3)").bind("click",function(){n.clone()})}a.default=n},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.isEmpty=function(t){switch(typeof t){case"undefined":return!0;case"string":if(0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var a in t)return!1;return!0}return!1},a.setFontOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var a="",e=0,i=[{value:"Roboto",text:"Roboto"},{value:"Helvetica Neue",text:"Helvetica Neue"},{value:"Helvetica",text:"Helvetica"},{value:"Tahoma",text:"Tahoma"},{value:"Arial",text:"Arial"},{value:"PingFang SC",text:"PingFang SC"},{value:"Microsoft YaHei",text:"Microsoft YaHei"}];e<i.length;e++){var n=i[e];a+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(a)}},a.setAntSpinvOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var a="",e=0,i=[{value:"0",text:"0度"},{value:"2",text:"2度"},{value:"5",text:"5度"},{value:"10",text:"10度"},{value:"20",text:"20度"},{value:"30",text:"30度"},{value:"40",text:"40度"},{value:"50",text:"50度"},{value:"60",text:"60度"},{value:"70",text:"70度"},{value:"80",text:"80度"},{value:"90",text:"90度"},{value:"120",text:"120度"},{value:"180",text:"180度"},{value:"270",text:"270度"},{value:"360",text:"360度"},{value:"720",text:"720度"}];e<i.length;e++){var n=i[e];a+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(a)}},a.setAntMrZoomOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var a="",e=0,i=[{value:"",text:"无效果"},{value:"xins-mr-sf0",text:"缩小至消失"},{value:"xins-mr-sf02",text:"缩小至0.2倍"},{value:"xins-mr-sf04",text:"缩小至0.4倍"},{value:"xins-mr-sf05",text:"缩小至0.5倍"},{value:"xins-mr-sf06",text:"缩小至0.6倍"},{value:"xins-mr-sf08",text:"缩小至0.7倍"},{value:"xins-mr-sf09",text:"缩小至0.9倍"},{value:"xins-mr-sf095",text:"缩小至0.95倍度"},{value:"xins-mr-sf098",text:"缩小至0.98倍"},{value:"xins-mr-sf1",text:"原始尺寸"},{value:"xins-mr-sf102",text:"放大至1.02倍"},{value:"xins-mr-sf105",text:"放大至1.05倍"},{value:"xins-mr-sf110",text:"放大至1.1倍"},{value:"xins-mr-sf120",text:"放大至1.2倍"},{value:"xins-mr-sf150",text:"放大至1.3倍"},{value:"xins-mr-sf180",text:"放大至1.8倍"},{value:"xins-mr-sf200",text:"放大至2倍"}];e<i.length;e++){var n=i[e];a+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(a)}},a.setAntMvZoomOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var a="",e=0,i=[{value:"",text:"无效果"},{value:"xins-box-sf0",text:"缩小至消失"},{value:"xins-box-sf02",text:"缩小至0.2倍"},{value:"xins-box-sf04",text:"缩小至0.4倍"},{value:"xins-box-sf05",text:"缩小至0.5倍"},{value:"xins-box-sf06",text:"缩小至0.6倍"},{value:"xins-box-sf08",text:"缩小至0.7倍"},{value:"xins-box-sf09",text:"缩小至0.9倍"},{value:"xins-box-sf095",text:"缩小至0.95倍度"},{value:"xins-box-sf098",text:"缩小至0.98倍"},{value:"xins-box-sf1",text:"原始尺寸"},{value:"xins-box-sf102",text:"放大至1.02倍"},{value:"xins-box-sf105",text:"放大至1.05倍"},{value:"xins-box-sf110",text:"放大至1.1倍"},{value:"xins-box-sf120",text:"放大至1.2倍"},{value:"xins-box-sf150",text:"放大至1.3倍"},{value:"xins-box-sf180",text:"放大至1.8倍"},{value:"xins-box-sf200",text:"放大至2倍"}];e<i.length;e++){var n=i[e];a+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(a)}},a.setAntMovevOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var a="",e=0,i=[{value:"0",text:"0像素"},{value:"5",text:"5像素"},{value:"10",text:"10像素"},{value:"15",text:"15像素"},{value:"20",text:"20像素"},{value:"30",text:"30像素"},{value:"40",text:"40像素"},{value:"50",text:"50像素"},{value:"60",text:"60像素"},{value:"70",text:"70像素"},{value:"80",text:"80像素"},{value:"90",text:"90像素"},{value:"100",text:"100像素"},{value:"70",text:"70像素"},{value:"110",text:"110像素"},{value:"120",text:"120像素"},{value:"130",text:"130像素"},{value:"140",text:"140像素"},{value:"150",text:"150像素"},{value:"160",text:"160像素"},{value:"170",text:"170像素"},{value:"180",text:"180像素"},{value:"190",text:"190像素"},{value:"200",text:"200像素"},{value:"210",text:"210像素"},{value:"220",text:"220像素"},{value:"230",text:"230像素"},{value:"240",text:"240像素"},{value:"250",text:"250像素"},{value:"260",text:"260像素"},{value:"270",text:"270像素"},{value:"280",text:"280像素"},{value:"290",text:"290像素"},{value:"300",text:"300像素"},{value:"310",text:"310像素"},{value:"320",text:"320像素"},{value:"330",text:"330像素"},{value:"340",text:"340像素"},{value:"350",text:"350像素"},{value:"360",text:"360像素"},{value:"370",text:"370像素"},{value:"380",text:"380像素"},{value:"390",text:"390像素"},{value:"400",text:"400像素"},{value:"410",text:"410像素"},{value:"420",text:"420像素"},{value:"430",text:"430像素"},{value:"440",text:"440像素"},{value:"450",text:"450像素"},{value:"460",text:"460像素"},{value:"470",text:"470像素"},{value:"480",text:"480像素"},{value:"490",text:"490像素"},{value:"500",text:"500像素"},{value:"510",text:"510像素"},{value:"520",text:"520像素"},{value:"530",text:"530像素"},{value:"540",text:"540像素"},{value:"550",text:"550像素"},{value:"560",text:"560像素"},{value:"570",text:"570像素"},{value:"580",text:"580像素"},{value:"590",text:"590像素"},{value:"600",text:"600像素"},{value:"610",text:"610像素"},{value:"620",text:"620像素"},{value:"670",text:"670像素"},{value:"720",text:"720像素"},{value:"770",text:"770像素"},{value:"820",text:"820像素"},{value:"870",text:"870像素"},{value:"920",text:"920像素"},{value:"970",text:"970像素"},{value:"820",text:"820像素"},{value:"870",text:"870像素"},{value:"1020",text:"1020像素"},{value:"1070",text:"1070像素"},{value:"1170",text:"1170像素"},{value:"1220",text:"1220像素"},{value:"1270",text:"1270像素"},{value:"1320",text:"1320像素"},{value:"1370",text:"1370像素"},{value:"1420",text:"1420像素"},{value:"1470",text:"1470像素"},{value:"1520",text:"1520像素"},{value:"1570",text:"1570像素"},{value:"1620",text:"1620像素"},{value:"1670",text:"1670像素"},{value:"1720",text:"1720像素"},{value:"1770",text:"1770像素"},{value:"1820",text:"1820像素"},{value:"1870",text:"1870像素"},{value:"1920",text:"1920像素"}];e<i.length;e++){var n=i[e];a+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(a)}},a.setAntBezierOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var a="",e=0,i=[{value:"",text:"匀速平滑"},{value:"bs",text:"由慢到快"},{value:"bq",text:"由快到慢"},{value:"bt",text:"跑过回头（加速）"},{value:"bc",text:"起步后撤（加速）"},{value:"bd",text:"中间停顿（加速）"},{value:"bx",text:"弹性抖动（1）"}];e<i.length;e++){var n=i[e];a+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(a)}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=(n.prototype.init=function(t){"string"==typeof this.$el&&(this.$el=document.querySelector(this.$el)),this.$el.style.position="absolute";var a=(this.$el.dragRef=this).$el.className.split(" ");a.push("draggable"),this.$el.className=a.join(" "),this.option("containment",t.containment),this.option("handle",t.handle),this.option("snap",t.snap),this.option("axis",t.axis),this.option("snapAnchor",t.snapAnchor),this.option("snapLineColor",t.snapLineColor),this.option("snapTolerance",t.snapTolerance),this.option("resizeTolerance",t.resizeTolerance),this.option("cursor",t.cursor),this.option("snapLine",t.snapLine),this.option("snapDist",t.snapDist),this.option("resizable",t.resizable),this.option("minWidth",t.minWidth),this.option("minHeight",t.minHeight),this.option("minLeft",t.minLeft),this.option("minTop",t.minTop),this.setupEvent()},n.prototype.option=function(t,a){"containment"===t?void 0!==a&&(this.containment="parent"===a?this.$el.offsetParent:a):"handle"===t?this.handle=void 0===a?this.$el:"string"==typeof a?document.querySelector(a):a:void 0!==a&&(this[t]=a)},n.prototype.isTouch=function(){return"ontouchstart"in window},n.prototype.stopPropagation=function(t){window.event?window.event.cancelBubble=!0:t.stopPropagation()},n.prototype.getEventInfo=function(t){return this.isTouch()?t.targetTouches[0]:t},n.prototype.darg=function(t){var a,e,i=this,n=this.EVENTS,s=0,o=0,l=0,r=0,d=0,p=0,m=i.getEventInfo(t);function c(t){if(!i.disabled){var a=i.getEventInfo(t),e=a.clientX-s,n=a.clientY-o,m=i.minLeft,c=i.minTop;i.containment&&(e<m&&(e=m),n<c&&(n=c),d<e+l&&(e=d-l),p<n+r&&(n=p-r)),"y"!==i.axis&&(i.$el.style.left=e+"px"),"x"!==i.axis&&(i.$el.style.top=n+"px"),i.snap&&i.doSnap(),i.onDrag&&i.onDrag(a)}}i.isDragging=!0,s=m.clientX-i.$el.offsetLeft,o=m.clientY-i.$el.offsetTop,l=i.$el.offsetWidth,r=i.$el.offsetHeight,a=document.documentElement.clientWidth,e=document.documentElement.clientHeight,d=this.containment?this.containment.clientWidth:a,p=this.containment?this.containment.clientHeight:e,document.addEventListener(n[1],c),document.addEventListener(n[2],function t(a){var e=i.getEventInfo(a);i.isDragging=!1,document.removeEventListener(n[1],c),document.removeEventListener(n[2],t),i.onStop&&i.onStop(e),i.clearSnapLine()})},n.prototype.start=function(t){t.preventDefault(),this.stopPropagation(t),this.onStart&&this.onStart(t),this.darg(t)},n.prototype.setupEvent=function(){var t=this.EVENTS,a=this.handle;this.disabled||(a.style.cursor=this.cursor,a.addEventListener(t[0],this.start.bind(this)))},n.prototype.enable=function(){this.disabled=!1},n.prototype.disable=function(){this.disabled=!0},n.prototype.getStyle=function(t,a){return window.getComputedStyle?document.defaultView.getComputedStyle(t,null).getPropertyValue(a):t.currentStyle?t.currentStyle[a]:null},n.prototype.getClientRect=function(t){var a=t.getBoundingClientRect(),e=this.containment?this.containment:this.$el.offsetParent,i={},n=parseInt(this.getStyle(e,"border-left-width")),s=parseInt(this.getStyle(e,"border-top-width")),o=e.getBoundingClientRect();return i.left=a.left-o.left-n,i.top=a.top-o.top-s,i.right=i.left+a.width,i.bottom=i.top+a.height,i.width=a.width,i.height=a.height,i},n.prototype.isSnap=function(t,a){var e=this.snapTolerance;return Math.abs(t-a)<=e},n.prototype.clearSnapLine=function(){Array.apply(null,document.querySelectorAll(".snap-line")).forEach(function(t){t.offsetParent.removeChild(t)})},n.prototype.createDistText=function(t,a,e){var i=e.top,n=e.bottom,s=e.left,o=e.right,l=e.width,r=e.height,d=l/2,p=r/2,m=a.width/2,c=a.height/2,u=document.createElement("div");u.style.position="absolute",u.style.textAlign="center";var f=document.createElement("span"),h=0;f.style.background=this.snapLineColor,f.style.borderRadius="2px",f.style.lineHeight="14px",f.style.padding="0 2px",f.style.fontSize="10px",f.style.color="#ffffff",f.style.userSelect="none",u.appendChild(f);var v=this.snapFlags;if(t===v[0]||t===v[1]||t===v[3]||t===v[4]){if(u.style.bottom="0px",s<a.left?(h=a.left-o,u.style.left=l+"px"):(h=s-a.right,u.style.left=a.width+"px"),(h=Math.round(h))<0)return null;u.style.width=h+"px",u.style.paddingBottom="2px",f.innerText=h+"px"}else if(t===v[2]||t===v[10]||t===v[11]){if(u.style.bottom="0px",s<a.left?(h=a.left-o,u.style.left=d+"px"):(h=s-a.right,u.style.left=m+"px"),(h=Math.round(h))<0)return null;u.style.paddingBottom="2px",u.style.width=h+"px",f.innerText=h+"px"}else if(t===v[5]||t===v[6]||t===v[8]||t===v[9]){if(u.style.left="0px",i<a.top?(h=a.top-n,u.style.top=r+"px"):(h=i-a.bottom,u.style.top=a.height+"px"),(h=Math.round(h))<0)return null;f.style.position="absolute",f.style.top="50%",f.style.marginTop="-7px",f.style.left="2px",u.style.height=h+"px",f.innerText=h+"px"}else if(t===v[7]||t===v[12]||t===v[13]){if(u.style.left="0px",i<a.top?(h=a.top-n,u.style.top=p+"px"):(h=i-a.bottom,u.style.top=c+"px"),(h=Math.round(h))<0)return null;f.style.position="absolute",f.style.top="50%",f.style.marginTop="-7px",f.style.left="2px",u.style.height=h+"px",f.innerText=h+"px"}return u},n.prototype.showSnapLine=function(t,a){var e=a.flag,i=a.dragElemRect,n=a.snapElemRect,s=(a.snapDrag,this.snapLineSize),o=this.snapLineColor,l=n.top,r=n.bottom,d=n.left,p=n.right,m=n.width/2,c=n.height/2,u=i.width/2,f=i.height/2,h={},v=this.snapFlags;e===v[0]||e===v[1]?(h.left=d<i.left?d:i.left,h.top=l,h.bottom=h.top+s,h.right=p>i.right?p:i.right):e===v[2]?(h.top=l+c,h.bottom=h.top+s,d===i.left&&p===i.right?(h.left=d,h.right=p):d>i.left&&p<i.right?(h.left=i.left,h.right=i.right):d<i.left&&p>i.right?(h.left=i.left+u,h.right=p):(h.left=d<i.left?d+m:i.left+u,h.right=p>i.right?p-m:i.right-u)):e===v[3]||e===v[4]?(h.left=d<i.left?d:i.left,h.top=r,h.bottom=h.top+s,h.right=p>i.right?p:i.right):e===v[5]||e===v[6]?(h.left=d,h.top=l<i.top?l:i.top,h.bottom=r>i.bottom?r:i.bottom,h.right=h.left+s):e===v[7]?(h.left=d+m,l===i.top&&r===i.bottom?(h.top=l,h.bottom=r):l>i.top&&r<i.bottom?(h.top=i.top,h.bottom=i.bottom):l<i.top&&r>i.bottom?(h.top=l,h.bottom=i.top+f):(h.top=l<i.top?l+c:i.top+f,h.bottom=r>i.bottom?r-c:i.bottom-f),h.right=h.left+s):e===v[8]||e===v[9]?(h.left=p,h.top=l<i.top?l:i.top,h.bottom=r>i.bottom?r:i.bottom,h.right=h.left+s):e===v[10]||e===v[11]?(h.top=l+c,h.bottom=h.top+s,d===i.left&&p===i.right?(h.left=d,h.right=p):d>i.left&&p<i.right?(h.left=i.left,h.right=i.right):(h.left=d<i.left?d+m:i.left+u,h.right=p>i.right?p:i.right)):e!==v[12]&&e!==v[13]||(h.left=d+m,l===i.top&&r===i.bottom?(h.top=l,h.bottom=r):l>i.top&&r<i.bottom?(h.top=i.top,h.bottom=i.bottom):(h.top=l<i.top?l+c:i.top+f,h.bottom=r>i.bottom?r:i.bottom),h.right=h.left+s);var b=document.createElement("div");b.style.position="absolute",b.style.top=h.top+"px",b.style.left=h.left+"px";var y=h.right-h.left;y=y;var g=h.bottom-h.top;g=g,b.style.width=y+"px",b.style.height=g+"px",b.style.background=o,b.style.zIndex="9999999999999",b.className="snap-line";var x=this.createDistText(e,i,n);this.snapDist&&x&&b.appendChild(x),t.appendChild(b)},n.prototype.doSnap=function(){var t=this,a=this.$el,e=[];"boolean"==typeof this.snap?e=[].slice.call(document.querySelectorAll(".draggable")):"string"==typeof this.snap?e=[].slice.call(document.querySelectorAll(this.snap)):"object"==typeof this.snap&&this.snap.length&&(e=this.snap);var i=this.getClientRect(this.snapAnchor?this.snapAnchor:a),n=[];this.clearSnapLine();var s=this.snapFlags;e.forEach(function(e){if(e!==a){var o=e,l=t.getClientRect(e.dragRef.snapAnchor?e.dragRef.snapAnchor:o),r=l.top,d=l.height,p=l.bottom,m=l.left,c=l.width,u=l.right,f=i.width/2,h=c/2,v=i.height/2,b=d/2;if(t.isSnap(i.top+v,r+b)){var y={flag:s[2],snapDrag:e,dragValue:r+b-v,snapElemRect:l,dragElemRect:i};n.push(y)}else t.isSnap(i.top,r)?(y={flag:s[0],dragValue:r,snapDrag:e,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.bottom,r)?(y={flag:s[1],snapDrag:e,dragValue:r-i.height,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.bottom,p)?(y={flag:s[3],snapDrag:e,dragValue:p-i.height,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.top,p)?(y={flag:s[4],snapDrag:e,dragValue:p,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.top,r+b)?(y={flag:s[10],snapDrag:e,dragValue:r+b,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.bottom,p-b)&&(y={flag:s[11],snapDrag:e,dragValue:p-b-i.height,snapElemRect:l,dragElemRect:i},n.push(y));t.isSnap(i.left+f,m+h)?(y={flag:s[7],snapDrag:e,dragValue:m+h-f,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.left,m)?(y={flag:s[5],snapDrag:e,dragValue:m,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.right,m)?(y={flag:s[6],snapDrag:e,dragValue:m-i.width,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.right,u)?(y={flag:s[8],snapDrag:e,dragValue:u-i.width,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.left,u)?(y={flag:s[9],snapDrag:e,dragValue:u,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.left,m+h)?(y={flag:s[12],snapDrag:e,dragValue:m+h,snapElemRect:l,dragElemRect:i},n.push(y)):t.isSnap(i.right,u-h)&&(y={flag:s[13],snapDrag:e,dragValue:u-h-i.width,snapElemRect:l,dragElemRect:i},n.push(y))}}),n.forEach(function(e){var i=e.flag.split("_")[0];if(a.dragRef.snapAnchor){var n=0;"left"===i?n=a.dragRef.snapAnchor.offsetLeft:"top"===i&&(n=a.dragRef.snapAnchor.offsetTop),a.style[i]=e.dragValue-n+"px"}else a.style[i]=e.dragValue+"px";t.snapLine&&t.showSnapLine(t.containment?t.containment:a.offsetParent,e)}),this.onSnap&&0<n.length&&this.onSnap(n)},n);function n(t,a){void 0===a&&(a={}),this.EVENTS=[],this.snapFlags=["top_tt","top_bt","top_cc","top_bb","top_tb","left_ll","left_rl","left_cc","left_rr","left_lr","top_tc","top_bc","left_lc","left_rc"],this.isDragging=!1,this.cursor="move",this.containment=null,this.disabled=!1,this.handle=null,this.snapTolerance=10,this.snap=!1,this.snapLineColor="#FF4AFF",this.snapLineSize=1,this.snapAnchor=null,this.snapLine=!0,this.snapDist=!0,this.axis=!1,this.minLeft=0,this.minTop=0,this.dragStatus=0,this.$el=t,this.EVENTS=this.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.init(a)}a.default=i},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s,o=e(1),l=e(0),r=(n(d,s=o.default),d.prototype.toHtml=function(){var t,a,e,i,n,s,o,r,d,p,m,c=[];t=this.$el.css("top"),a=this.$el.css("left"),e=this.$el.width(),i=this.$el.height(),s=""!=l.valEmpty(this.formData.tipText)?' title="'+this.formData.tipText+'" ':"",n=l.valEmpty(this.formData.bRadius),m=l.valEmpty(this.formData.href),r=l.valEmpty(this.formData.hrefMode),o=l.valEmpty(this.formData.linkMode),d=l.valEmpty(this.formData.wangID),p=l.wwUrl(m,o,d,22);var u=""!=n?"border-radius:"+n+"px;":"",f=l.ImgBgHtml(this.formData),h=f.imgBgStyle;c.push(f.Html);var v=l.ShadowStyle(this.formData),b=v.onShadow;c.push(v.offShadow);var y=l.valEmpty(this.formData.mbdTsAnt),g=l.BorderHtml(this.formData);c.push(g.Html);var x="",D="";if(""!=l.valEmpty(this.formData.animType)){var w=""!=l.valEmpty(this.formData.animTsDur)?this.formData.animTsDur+"s ":"";D=(w+="cubic-bezier(0.5,3,0.5,0)")?"transition:"+w+";":"",x=l.valEmpty(this.formData.animType)+l.valEmpty(this.formData.animRange)+" "}return'<div class="abs xdtb '+x+'" style="top: '+t+"; left:"+a+"; width:"+e+"px; height:"+i+"px;"+h+D+b+u+'" > <a '+s+' class="abs ywlink '+y+'" href="'+p+'" target="'+r+'">'+c.join("")+"</a></div>"},d.prototype.initFormData=function(){this.formData.bgImg="https://img.alicdn.com/imgextra/i2/280837244/TB2orubcrJmpuFjSZFwXXaE4VXa-280837244.jpg",this.formData.bgColor="",this.formData.appLabel="",this.formData.imgMode="cut",this.formData.linkMode="urlink",this.formData.href="",this.formData.tipText="",this.formData.animType="",this.formData.hrefMode="_blank",this.formData.bgImgSize="true",this.formData.animTsDur="0.5",this.formData.animRange="-s",this.formData.wangID="",this.formData.bdRadius="",this.formData.bdStyle="solid",this.formData.shadow="off",this.formData.sdColor="#666666",this.formData.sdSize="",this.formData.sdBlur="5",this.formData.sdX="",this.formData.sdY="",this.formData.mshadow="on",this.formData.msdColor="#E93030",this.formData.msdSize="",this.formData.msdBlur="5",this.formData.msdX="",this.formData.msdY="",this.formData.msdTsDur="0.5",this.formData.bdWidth=5,this.formData.bdStyle="solid",this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdTsAnt="bdtx1",this.$content.attr("mbdTsAnt",this.formData.mbdTsAnt),this.update(this.formData)},d.prototype.openEditDialog=function(){var t=this,a=layui.layer,e=null,i=a.open({type:1,title:"单图设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){e=$(i),void 0===t.formData.animType&&(t.formData.animType=""),e.find('.animselect > div[data-val="'+t.formData.animType+'"]').addClass("active"),e.find(".animselect > div").on("click",function(){e.find(".animselect > div.active").removeClass("active"),$(this).addClass("active")}),e.find(".sp-preview-inner").css("background-color",""),t.formData.bgColor&&e.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.bdColor&&e.find("input[type=text][name=bdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bdColor),t.formData.mbdColor&&e.find("input[type=text][name=mbdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbdColor),t.formData.sdColor&&e.find("input[type=text][name=sdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.sdColor),t.formData.msdColor&&e.find("input[type=text][name=msdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.msdColor),e.find(".cancel-btn").on("click",function(){a.close(n)}),l.onLinkModeChanged(e,t.formData.linkMode),e.find(".layui-btn-sm").on("click",function(){var i=layui.form;a.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(n){l.onTongBuBd(e,!1,t),i.render(),a.close(n)}})})},content:'<form class="layui-form" lay-filter="imgComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="appLabel" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片地址</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                   \n                </div>\n                <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片显示方式</label>\n                <div class="layui-input-inline">\n                  <select name="imgMode">\n                    <option value="cut">保持原图尺寸</option>\n                    <option value="full">自由拉伸</option>\n                    <option value="scaleX">保持比例(只裁剪宽度)</option>\n                    <option value="scaleY">保持比例(只裁剪高度)</option>\n                  </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景颜色</label>\n                <div class="layui-input-inline pagecolorpanel"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="bgColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接类型</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                </div>\n              </div>\n              <div class="layui-form-item link-box" style="display:none">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline">\n                  <input name="href" type="text" class="layui-input">\n                </div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item wang-box" style="display:none">\n                <label class="layui-form-label">旺旺ID</label>\n                <div class="layui-input-inline">\n                  <input name="wangID" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">提示文字</label>\n                <div class="layui-input-inline">\n                  <input name="tipText" type="text" class="layui-input">\n                </div>\n              </div>\n            </div>\n            <div  class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认边框</li>\n                  <li class="">鼠标划过动画</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>默认边框</legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="bdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="bdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="bdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="bdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="bdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="bdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>\n                        <span  style="margin-right:15px;  display:inline-block"> 鼠标_移上边框 </span>\n                        <button type="button" class="layui-btn layui-btn-sm">同步默认边框</button>\n                      </legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="mbdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="mbdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="mbdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="mbdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="mbdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="mbdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                  </div>\n                  <div class="layui-tab-item ">\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>\n                        动画时长                      \n                        <input class="input-short"  type="text" name="mbdTsDur"  style="width:50px; height:23px; margin-left:10px; padding-left:5px;" />\n                        <label class="label-con">秒</label>\n                      </legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="linear"  title="匀速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease"  title="逐渐变慢">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in"   title="减速">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-out"   title="加速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in-out"   title="加速后减速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="cubic-bezier"   title="动感弹跳">\n                      </div>\n                    </fieldset>\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>动画效果</legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx0" title="直接切换">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx1" title="渐隐渐显" >\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx4"  title="左对角线切入">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx5"  title="右对角线切入">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx6"  title="顺时针出现">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx7"  title="逆时针出现">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx8"  title="由点到线">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx9"  title="由点到面">\n                      </div>\n                    </fieldset>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认阴影</li>\n                  <li class="">鼠标划过阴影</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="shadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="shadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="sdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="mshadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="mshadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="msdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">划过显示速度</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdTsDur" class="layui-input input-short"  style="width:100px;display:inline-block;">\n                        <label style="color:red;">单位 秒   可以小数点</label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n\n                 \n            </div>\n            <div class="layui-tab-item"  >\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画效果</label>\n                <div class="layui-input-inline">\n                  <div class="animselect ui-buttonset">\n                    <div class="none" data-val=""><i><em></em></i>无效果</div>\n                    <div class="shakex" data-val="xins-x-shake"><i><em></em></i>左右抖动</div>\n                    <div class="shakey" data-val="xins-y-shake"><i><em></em></i>上下抖动</div>\n                    <div class="shaker" data-val="xins-r-shake"><i><em></em></i>旋转摆动</div>\n                    <div class="shakes" data-val="xins-s-shake"><i><em></em></i>弹性缩放</div>\n                    <div class="shaken" data-val="xins-n-shake"><i><em></em></i>弹性果冻</div>\n                  </div>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画幅度</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="animRange" value="-s" title="弱" checked="">\n                  <input type="radio" name="animRange" value="-m" title="中">\n                  <input type="radio" name="animRange" value="-l" title="强">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画时间</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="animTsDur" class="layui-input input-short"  style="width:120px;display:inline-block;">\n                  <label style="color:red;">单位 秒   可以小数点</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(linkMode)",function(t){console.log(t),l.onLinkModeChanged(e,t.value)}),n.on("submit(imgComponentForm)",function(n){return t.formData=n.field,t.update(t.formData),t.updatePropPanel(),t.formData.animType=e.find(".animselect > div.active").data("val"),console.log(t.formData),a.close(i),!1}),n.val("imgComponentForm",t.formData)},d.prototype.update=function(t){var a=this,e=t.bRadius?parseInt(t.bRadius):"";if("on"===t.shadow){var i=t.sdX?t.sdX:0,n=t.sdY?t.sdY:0,s=l.boxShadow(i,n,t.sdBlur,t.sdSize,t.sdColor);a.$content.css("box-shadow",s)}if("on"===t.mshadow){i=t.msdX?t.msdX:0,n=t.msdY?t.msdY:0;var o=l.boxShadow(i,n,t.msdBlur,t.msdSize,t.msdColor),r=a.$content.find(".mchild");r.length<=0&&a.$content.append("<div class='abs mchild xins-box-fadein'></div>"),(r=a.$contentBox.find(".mchild")).css("box-shadow",o),r.css("border-radius",e);var d=t.msdTsDur?t.msdTsDur+"s linear":0;r.css("transition",d)}a.$content.css("border-radius",e),a.$img.bind("load",function(){"true"===t.bgImgSize&&(a.$el.width(a.$img.width()),a.$el.height(a.$img.height()))});var p=t.imgMode;if("cut"===p){var m=l.bgImage(t.bgImg,t.bgColor,"","","");a.$content.css("background",m),a.$img.is(":visible")&&a.$img.hide(),a.$img.attr("src",t.bgImg),a.$img.css("width",""),a.$img.css("height","")}else a.$img.attr("src",t.bgImg),a.$content.css("background","none"),a.$content.css("background-color",t.bgColor),"full"===p?(a.$img.css("width","100%"),a.$img.css("height","100%")):"scaleX"===p?(a.$img.css("height","100%"),a.$img.css("width","")):"scaleY"===p&&(a.$img.css("width","100%"),a.$img.css("height","")),a.$img.show();var c=this.$content,u=""!=t.bdWidth?parseInt(t.bdWidth):"",f=this.$content.find(".bk-aline");"on"===t.bdT||"on"===t.bdB||"on"===t.bdL||"on"===t.bdR?(f.length<=0&&c.append("<div class='bk-aline'></div>"),(f=this.$content.find(".bk-aline")).css("border-radius",e),"on"===t.bdT?f.css("border-top-width",u):f.css("border-top-width",0),"on"===t.bdB?f.css("border-bottom-width",u):f.css("border-bottom-width",0),"on"===t.bdL?f.css("border-Left-width",u):f.css("border-Left-width",0),"on"===t.bdR?f.css("border-right-width",u):f.css("border-right-width",0),f.css("border-style",t.bdStyle),f.css("border-color",t.bdColor)):f.remove();var h=this.$content.attr("mbdTsAnt");if(this.$content.removeClass(h),this.$content.addClass(t.mbdTsAnt),this.$content.attr("mbdTsAnt",t.mbdTsAnt),"on"===t.mbdT||"on"===t.mbdB||"on"===t.mbdL||"on"===t.mbdR){var v="cubic-bezier"===t.mbdTsFun?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":t.mbdTsFun,b=t.mbdTsDur+"s",y=""!=t.mbdWidth?parseInt(t.mbdWidth):0,g=t.mbdStyle,x=t.mbdColor,D=this.$contentBox.find(".bk-mline");D.length<=0&&c.append("<div class='bk-mline'></div>"),(D=this.$contentBox.find(".bk-mline")).css("border-radius",e),D.css("border-color",x),D.css("border-style",g),D.css("transition-timing-function",v),D.css("transition-duration",b);var w=this.$contentBox.find(".w-lt");"on"===t.mbdT?(w.length<=0&&c.append("<div class='bk-line  w-lt'></div>"),(w=this.$contentBox.find(".w-lt")).css("border-top-width",y),w.css("border-top-style",g),w.css("border-top-color",x),w.css("transition-timing-function",v),w.css("transition-duration",b),D.css("border-top-width",y)):(D.css("border-top-width",0),w.remove());var k=this.$contentBox.find(".w-lb");"on"===t.mbdB?(k.length<=0&&c.append("<div class='bk-line  w-lb'></div>"),(k=this.$contentBox.find(".w-lb")).css("border-bottom-width",y),k.css("border-bottom-style",g),k.css("border-bottom-color",x),k.css("transition-timing-function",v),k.css("transition-duration",b),D.css("border-bottom-width",y)):(D.css("border-bottom-width",0),k.remove());var $=this.$contentBox.find(".w-ll");"on"===t.mbdL?($.length<=0&&c.append("<div class='bk-line  w-ll'></div>"),($=this.$contentBox.find(".w-ll")).css("border-left-width",y),$.css("border-left-style",g),$.css("border-left-color",x),$.css("transition-timing-function",v),$.css("transition-duration",b),D.css("border-left-width",y)):(D.css("border-left-width",0),$.remove());var T=this.$contentBox.find(".w-lr");"on"===t.mbdR?(T.length<=0&&c.append("<div class='bk-line  w-lr'></div>"),(T=this.$contentBox.find(".w-lr")).css("border-right-width",y),T.css("border-right-style",g),T.css("border-right-color",x),T.css("transition-timing-function",v),T.css("transition-duration",b),D.css("border-right-width",y)):(D.css("border-right-width",0),T.remove()),"bdtx0"===t.mbdTsAnt||"bdtx1"===t.mbdTsAnt?(w.remove(),k.remove(),$.remove(),T.remove()):D.remove()}},d.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=text][name=bgImg]").val(this.formData.bgImg);var a=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?a.prop("checked",!0):a.prop("checked",!1),t.find("#imgMode").val(this.formData.imgMode),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var e=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?e.prop("checked",!0):e.prop("checked",!1),l.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=bRadius]").val(this.formData.bRadius);var i=t.find("input[type=checkbox][name=bdT]");"on"===this.formData.bdT?i.prop("checked",!0):i.prop("checked",!1);var n=t.find("input[type=checkbox][name=bdB]");"on"===this.formData.bdB?n.prop("checked",!0):n.prop("checked",!1);var s=t.find("input[type=checkbox][name=bdL]");"on"===this.formData.bdL?s.prop("checked",!0):s.prop("checked",!1);var o=t.find("input[type=checkbox][name=bdR]");"on"===this.formData.bdR?o.prop("checked",!0):o.prop("checked",!1),t.find("input[type=text][name=bdWidth]").val(this.formData.bdWidth),t.find("input[type=radio][name=bdStyle]").filter('[value="'+this.formData.bdStyle+'"]').prop("checked",!0);var r=t.find("input[type=text][name=bdColor]");r.val(this.formData.bdColor),this.formData.bdColor?r.prev().find(".sp-preview-inner").css("background-color",this.formData.bdColor):r.prev().find(".sp-preview-inner").css("background-color","");var d=t.find("input[type=checkbox][name=mbdT]");"on"===this.formData.mbdT?d.prop("checked",!0):d.prop("checked",!1);var p=t.find("input[type=checkbox][name=mbdB]");"on"===this.formData.mbdB?p.prop("checked",!0):p.prop("checked",!1);var m=t.find("input[type=checkbox][name=mbdL]");"on"===this.formData.mbdL?m.prop("checked",!0):m.prop("checked",!1);var c=t.find("input[type=checkbox][name=mbdR]");"on"===this.formData.mbdR?c.prop("checked",!0):c.prop("checked",!1),t.find("input[type=text][name=mbdWidth]").val(this.formData.mbdWidth),t.find("input[type=radio][name=mbdStyle]").filter('[value="'+this.formData.mbdStyle+'"]').prop("checked",!0);var u=t.find("input[type=text][name=mbdColor]");u.val(this.formData.mbdColor),this.formData.mbdColor?u.prev().find(".sp-preview-inner").css("background-color",this.formData.mbdColor):u.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=mbdTsDur]").val(this.formData.mbdTsDur),t.find("input[type=radio][name=mbdTsFun]").filter('[value="'+this.formData.mbdTsFun+'"]').prop("checked",!0),t.find("input[type=radio][name=mbdTsAnt]").filter('[value="'+this.formData.mbdTsAnt+'"]').prop("checked",!0)},d.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var a=$(".img-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),this.updatePropPanel(),layui.element.render("collapse");var e=a.find("input[type=text][name=bgImg]");e.keyup(function(){t.formData.bgImg=e.val(),t.update(t.formData)}),a.find("input[type=checkbox][name=bgImgSize]").change(function(){var a=$(this).is(":checked");t.formData.bgImgSize=a?"true":"false",t.update(t.formData)}),a.find("#imgMode").change(function(){t.formData.imgMode=$(this).val(),t.update(t.formData)}),a.find("input[type=radio][name=linkMode]").change(function(){var e=$(this).prop("value");t.formData.linkMode=e,l.onLinkModeChanged(a,t.formData.linkMode)}),a.find("input[type=text][name=href]").change(function(){var a=$(this).val();t.formData.href=a}),a.find("input[type=checkbox][name=hrefMode]").change(function(){var a=$(this).is(":checked");t.formData.hrefMode=a?"_blank":""}),a.find("input[type=text][name=wangID]").change(function(){var a=$(this).val();t.formData.wangID=a}),a.find("input[type=text][name=bRadius]").keyup(function(){t.formData.bRadius=$(this).val(),t.update(t.formData)}),a.find("input[type=checkbox][name=bdT]").change(function(){var a=$(this).is(":checked");t.formData.bdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdB]").change(function(){var a=$(this).is(":checked");t.formData.bdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdL]").change(function(){var a=$(this).is(":checked");t.formData.bdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdR]").change(function(){var a=$(this).is(":checked");t.formData.bdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=bdWidth]").keyup(function(){var a=$(this).val();t.formData.bdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=bdColor]").change(function(){var a=$(this).val();t.formData.bdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=bdStyle]").change(function(){var a=$(this).prop("value");t.formData.bdStyle=a,t.update(t.formData)}),a.find("input[type=checkbox][name=mbdT]").change(function(){var a=$(this).is(":checked");t.formData.mbdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdB]").change(function(){var a=$(this).is(":checked");t.formData.mbdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdL]").change(function(){var a=$(this).is(":checked");t.formData.mbdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdR]").change(function(){var a=$(this).is(":checked");t.formData.mbdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=mbdWidth]").keyup(function(){var a=$(this).val();t.formData.mbdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=mbdColor]").change(function(){var a=$(this).val();t.formData.mbdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdStyle]").change(function(){var a=$(this).prop("value");t.formData.mbdStyle=a,t.update(t.formData)}),a.find("input[type=text][name=mbdTsDur]").change(function(){var a=$(this).val();t.formData.mbdTsDur=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsFun]").change(function(){var a=$(this).prop("value");t.formData.mbdTsFun=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsAnt]").change(function(){var a=$(this).prop("value");t.formData.mbdTsAnt=a,t.update(t.formData)}),a.find(".layui-btn-sm").on("click",function(){var e=layui.layer;e.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(i){l.onTongBuBd(a,!0,t),t.update(t.formData),e.close(i)}})}),a.find(".editor-btns").on("click",function(){t.openEditDialog()})},d.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xdtb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},d);function d(){var t=s.call(this,"img-component")||this;return t.$content=$('<a class="xdtb ywimg-box"><img src="" style="display:none"></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}a.default=r},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s,o=e(1),l=e(2),r=e(0),d=(n(p,s=o.default),p.prototype.initFormData=function(){this.formData.appLabel="",this.formData.family="arial",this.formData.fSize=12,this.formData.color="#000",this.formData.bgColor="#fff",this.formData.lHeight="",this.formData.spacing="",this.formData.indent="",this.formData.weight=600,this.formData.fStyle="normal",this.formData.oLine="",this.formData.through="",this.formData.uLine="",this.formData.align="center",this.formData.content="请设置文件内容",this.formData.href="",this.formData.hrefMode="_blank",this.formData.bgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.bgRep="no-repeat",this.formData.bgPos="",this.formData.bRadius="",this.formData.hoverMode="off",this.formData.mfamily="arial",this.formData.mfSize=12,this.formData.mcolor="#fff",this.formData.mbgColor="#000",this.formData.mlHeight="",this.formData.mspacing="",this.formData.mindent="",this.formData.mweight=600,this.formData.mfStyle="normal",this.formData.moLine="",this.formData.mthrough="",this.formData.muLine="",this.formData.malign="left",this.formData.mcontent="",this.formData.mbgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.mbgRep="no-repeat",this.formData.mbgPos="",this.formData.mTsDur="0.4",this.formData.mTsFun="ease",this.formData.mTsAnt="atrans5",this.formData.bdT="on",this.formData.bdB="on",this.formData.bdL="on",this.formData.bdR="on",this.formData.sdSize=5,this.formData.bdWidth=5,this.formData.bdColor="#FFFF00",this.formData.bdStyle="solid",this.formData.mbdT="",this.formData.mbdB="",this.formData.mbdL="",this.formData.mbdR="",this.formData.msdSize=5,this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdColor="#00FFFF",this.formData.mbdTsAnt="bdtx1",this.update(this.formData)},p.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xwzb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},p.prototype.toHtml=function(){var t,a,e,i,n,s,o,l,d,p=[];t=this.$el.css("top"),a=this.$el.css("left"),e=this.$el.width(),i=this.$el.height(),n=r.valEmpty(this.formData.bRadius),d=r.valEmpty(this.formData.hoverMode),l=""!=r.valEmpty(this.formData.href)?' href="'+this.formData.href+'"':"",o="_blank"===r.valEmpty(this.formData.hrefMode)?' target="'+this.formData.hrefMode+'"':"",s=""!=r.valEmpty(this.formData.tipText)?' title="'+this.formData.tipText+'" ':"";var m,c,u,f,h,v,b,y,g,x,D,w,k,$,T,C,S,B,z,M,I,A,E,P,L=""!=n?"border-radius:"+n+"px;":"",R=r.ShadowStyle(this.formData),_=R.onShadow,F=R.offShadow,X=r.valEmpty(this.formData.mbdTsAnt),W=r.BorderHtml(this.formData),H=W.bdpdStyle,O=W.mbdpdStyle,Y=W.Html;if($=""!=r.valEmpty(this.formData.content)?this.formData.content:"",m=""!=r.valEmpty(this.formData.family)?"font-family:"+this.formData.family+";":"",c=""!=r.valEmpty(this.formData.fSize)?"font-size:"+this.formData.fSize+"px;":"",u=""!=r.valEmpty(this.formData.color)?"color:"+this.formData.color+";":"",h=""!=r.valEmpty(this.formData.lHeight)?"line-height:"+this.formData.lHeight+"px;":"",v=""!=r.valEmpty(this.formData.spacing)?"letter-spacing:"+this.formData.spacing+"px;":"",b=""!=r.valEmpty(this.formData.indent)?"text-indent:"+this.formData.indent+"px;":"",y=""!=r.valEmpty(this.formData.weight)?"font-weight:"+this.formData.weight+";":"",g=""!=r.valEmpty(this.formData.fStyle)?"font-style:"+this.formData.fStyle+";":"",k=""!=r.valEmpty(this.formData.align)?"text-align:"+this.formData.align+";":"",f=r.valEmpty(this.formData.bgColor),T=r.valEmpty(this.formData.bgImg),C=r.valEmpty(this.formData.bgRep),S=r.valEmpty(this.formData.bgPos),B=""!=(B=r.bgImage(T,f,C,S,""))?"background:"+B+";":"",x=r.valEmpty(this.formData.oLine),D=r.valEmpty(this.formData.through),w=r.valEmpty(this.formData.uLine),z=""!=(z=r.textLine(x,D,w))?"text-decoration:"+z+";":"",I=r.valEmpty(this.formData.mTsDur),M='<div class="on" style="'+L+B+z+(P="transition-timing-function:"+("cubic-bezier"===(A=r.valEmpty(this.formData.mTsFun))?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":A)+";"+(""!=I?"transition-duration:"+I+"s;":""))+H+m+c+u+h+v+b+y+k+g+'" >'+$+"</div>","on"===d){E=r.valEmpty(this.formData.mTsAnt);var j,N,V,q,J,Z,U,K,Q,G,tt,at,et,it,nt,st,ot,lt,rt=void 0,dt=void 0;it=""!=r.valEmpty(this.formData.mcontent)?this.formData.mcontent:"",j=""!=r.valEmpty(this.formData.mfamily)?"font-family:"+this.formData.mfamily+";":"",N=""!=r.valEmpty(this.formData.mfSize)?"font-size:"+this.formData.mfSize+"px;":"",V=""!=r.valEmpty(this.formData.mcolor)?"color:"+this.formData.mcolor+";":"",J=""!=r.valEmpty(this.formData.mlHeight)?"line-height:"+this.formData.mlHeight+"px;":"",Z=""!=r.valEmpty(this.formData.mspacing)?"letter-spacing:"+this.formData.mspacing+"px;":"",U=""!=r.valEmpty(this.formData.mindent)?"text-indent:"+this.formData.mindent+"px;":"",K=""!=r.valEmpty(this.formData.mweight)?"font-weight:"+this.formData.mweight+";":"",Q=""!=r.valEmpty(this.formData.mfStyle)?"font-style:"+this.formData.mfStyle+";":"",et=""!=r.valEmpty(this.formData.malign)?"text-align:"+this.formData.malign+";":"",q=r.valEmpty(this.formData.mbgColor),nt=r.valEmpty(this.formData.mbgImg),st=r.valEmpty(this.formData.mbgRep),ot=r.valEmpty(this.formData.mbgPos),rt=""!=(rt=r.bgImage(nt,q,st,ot,""))?"background:"+rt+";":"",G=r.valEmpty(this.formData.moLine),tt=r.valEmpty(this.formData.mthrough),at=r.valEmpty(this.formData.muLine),lt='<div class="off" style="'+L+rt+(dt=""!=(dt=r.textLine(G,tt,at))?"text-decoration:"+dt+";":"")+P+O+j+N+V+J+Z+U+K+et+Q+'" >'+it+"</div>","atrans5"==E||"atrans6"==E||"atrans7"===E||"atrans8"===E||"atrans9"===E||"atrans19"===E?(p.push(lt),p.push(M)):(p.push(M),p.push(lt))}else p.push(M);return p.push(Y),'<div class="abs xdtb ant-text" style="top: '+t+"; left:"+a+"; width:"+e+"px; height:"+i+"px;"+_+L+'" >'+F+"<a "+s+' class="ywlink '+E+" "+X+'" '+l+o+' style="'+L+'">'+p.join("")+"</a></div>"},p.prototype.onTongBu=function(t,a,e){var i=t.find("select[name=family] option:selected").val();t.find("select[name=mfamily] option[value="+i+"]").attr("selected",!0);var n=t.find("input[type=text][name=color]").val(),s=t.find("input[type=text][name=mcolor]");s.val(n),s.prev().find(".sp-preview-inner").css("background-color",n);var o=t.find("input[type=text][name=bgColor]").val(),l=t.find("input[type=text][name=mbgColor]");l.val(o),l.prev().find(".sp-preview-inner").css("background-color",o);var r=t.find("input[type=text][name=fSize]").val();t.find("input[type=text][name=mfSize]").val(r);var d=t.find("input[type=text][name=lHeight]").val();t.find("input[type=text][name=mlHeight]").val(d);var p=t.find("input[type=text][name=spacing]").val();t.find("input[type=text][name=mspacing]").val(p);var m=t.find("input[type=text][name=indent]").val();t.find("input[type=text][name=mindent]").val(m);var c=t.find(".font-z .font-item-radio.active"),u=t.find(".font-f .font-item-radio"),f=c.attr("data-val");u.removeClass("active"),t.find(".font-f .font-item-radio[data-val="+f+"]").addClass("active");var h=t.find(".font-z input[type=hidden][name=weight]").val(),v=t.find(".font-f input[type=hidden][name=mweight]");"600"==h?(v.val("600"),v.parent().addClass("active")):(v.val(""),v.parent().removeClass("active"));var b=t.find(".font-z input[type=hidden][name=fStyle]").val(),y=t.find(".font-f input[type=hidden][name=mfStyle]");"italic"==b?(y.val("italic"),y.parent().addClass("active")):(y.val("normal"),y.parent().removeClass("active"));var g=t.find(".font-z input[type=hidden][name=oLine]").val(),x=t.find(".font-f input[type=hidden][name=moLine]");"overline"==g?(x.val("overline"),x.parent().addClass("active")):(x.val(""),x.parent().removeClass("active"));var D=t.find(".font-z input[type=hidden][name=through]").val(),w=t.find(".font-f input[type=hidden][name=mthrough]");"line-through"==D?(w.val("line-through"),w.parent().addClass("active")):(w.val(""),w.parent().removeClass("active"));var k=t.find(".font-z input[type=hidden][name=uLine]").val(),$=t.find(".font-f input[type=hidden][name=muLine]");"underline"==k?($.val("underline"),$.parent().addClass("active")):($.val(""),$.parent().removeClass("active")),a&&(e.formData.family=i,e.formData.mcolor=n,e.formData.mbgColor=o,e.formData.mfSize=r,e.formData.mlHeight=d,e.formData.mspacing=p,e.formData.mindent=m,e.formData.mweight=h,e.formData.mfStyle=b,e.formData.moLine=g,e.formData.mthrough=D,e.formData.muLine=k,e.formData.malign=f),console.log("onTongBu")},p.prototype.updatePreviewStyle=function(t){var a=t.parent().parent().parent().find(".font-textarea .multi-textarea");t.parent().hasClass("nromal-wrap")&&(a=t.parent().parent().find(".font-textarea .multi-textarea"));var e=!!a.parent().prev().hasClass("font-f");if(0<a.length)if(e){var i=this.formData.muLine;this.formData.moLine?i+=" "+this.formData.moLine:(this.formData.mthrough&&(i+=" "+this.formData.mthrough),""===i&&(i="none"),a.css("font-family",this.formData.mfamily),a.css("color",this.formData.mcolor),a.css("background-color",this.formData.mbgColor),a.css("font-size",parseInt(this.formData.mfSize)),a.css("line-height",this.formData.mlHeight+"px"),a.css("letter-spacing",parseInt(this.formData.mspacing)),a.css("text-indent",parseInt(this.formData.mindent)),a.css("text-align",this.formData.malign),a.css("font-weight",this.formData.mweight),a.css("font-style",this.formData.mfStyle),a.css("text-decoration",i))}else i=this.formData.uLine,this.formData.oLine?i+=" "+this.formData.oLine:(this.formData.through&&(i+=" "+this.formData.through),""===i&&(i="none"),a.css("font-family",this.formData.family),a.css("color",this.formData.color),a.css("background-color",this.formData.bgColor),a.css("font-size",parseInt(this.formData.fSize)),a.css("line-height",this.formData.lHeight+"px"),a.css("letter-spacing",parseInt(this.formData.spacing)),a.css("text-indent",parseInt(this.formData.indent)),a.css("text-align",this.formData.align),a.css("font-weight",this.formData.weight),a.css("font-style",this.formData.fStyle),a.css("text-decoration",i))},p.prototype.getFontActive=function(t){var a=t.find("input[type=hidden]"),e=a.attr("name").toLowerCase();if(t.parent().hasClass("font-f")&&(e=e.substr(1)),t.hasClass("active"))switch(t.removeClass("active"),e){case"weight":a.val("");break;case"fstyle":a.val("normal");break;case"oline":case"through":case"uline":a.val("")}else switch(t.addClass("active"),e){case"weight":a.val("600");break;case"fstyle":a.val("italic");break;case"oline":a.val("overline");break;case"through":a.val("line-through");break;case"uline":a.val("underline")}},p.prototype.initPorpPanel=function(){console.log("initTextPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var a=$(".text-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),l.setFontOption(a.find(".font-select")),this.updatePropPanel(),layui.element.render("collapse"),a.find("input[type=checkbox][name=hrefMode]").change(function(){var a=$(this).is(":checked");t.formData.hrefMode=a?"_blank":""}),a.find("input[type=text][name=href]").change(function(){var a=$(this).val();t.formData.href=a,t.update(t.formData)}),a.find("input[type=text][name=bRadius]").change(function(){var a=$(this).val();t.formData.bRadius=a,t.update(t.formData)}),a.find("select[name=family]").change(function(){t.formData.family=$(this).prop("value"),t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=color]").change(function(){var a=$(this).val();t.formData.color=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=bgColor]").change(function(){var a=$(this).val();t.formData.bgColor=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=fSize]").change(function(){var a=$(this).val();t.formData.fSize=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=lHeight]").change(function(){var a=$(this).val();t.formData.lHeight=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=spacing]").change(function(){var a=$(this).val();t.formData.spacing=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=indent]").change(function(){var a=$(this).val();t.formData.indent=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("textarea[name=content]").change(function(){var a=$(this).val();t.formData.content=a,t.update(t.formData)}),a.find("input[type=radio][name=hoverMode]").change(function(){var a=$(this).prop("value");t.formData.hoverMode=a,t.update(t.formData)}),a.find("select[name=mfamily]").change(function(){t.formData.mfamily=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=text][name=mcolor]").change(function(){var a=$(this).val();t.formData.mcolor=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=mbgColor]").change(function(){var a=$(this).val();t.formData.mbgColor=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=mfSize]").change(function(){var a=$(this).val();t.formData.mfSize=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=mlHeight]").change(function(){var a=$(this).val();t.formData.mlHeight=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=mspacing]").change(function(){var a=$(this).val();t.formData.mspacing=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=text][name=mindent]").change(function(){var a=$(this).val();t.formData.mindent=a,t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("textarea[name=mcontent]").change(function(){var a=$(this).val();t.formData.mcontent=a,t.update(t.formData)}),a.find("input[type=text][name=mTsDur]").change(function(){var a=$(this).val();t.formData.mTsDur=a,t.update(t.formData)}),a.find("input[type=radio][name=mTsFun]").change(function(){var a=$(this).prop("value");t.formData.mTsFun=a,t.update(t.formData)}),a.find("input[type=radio][name=mTsAnt]").change(function(){var a=$(this).prop("value");t.formData.mTsAnt=a,t.update(t.formData)}),a.find("input[type=checkbox][name=bdT]").change(function(){var a=$(this).is(":checked");t.formData.bdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdB]").change(function(){var a=$(this).is(":checked");t.formData.bdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdL]").change(function(){var a=$(this).is(":checked");t.formData.bdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdR]").change(function(){var a=$(this).is(":checked");t.formData.bdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=bdWidth]").change(function(){var a=$(this).val();t.formData.bdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=bdColor]").change(function(){var a=$(this).val();t.formData.bdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=bdStyle]").change(function(){var a=$(this).prop("value");t.formData.bdStyle=a,t.update(t.formData)}),a.find(".font-setting .font-item-radio").click(function(){var a=$(this).attr("data-val"),e=$(this).parent();e.hasClass("font-f")?t.formData.malign=a:t.formData.align=a,e.find(".font-item-radio").removeClass("active"),$(this).addClass("active"),t.update(t.formData),t.updatePreviewStyle($(this))}),a.find(".font-z .font-item-checkbox").click(function(){var a=$(this).find("input[type=hidden]"),e=a.attr("name").toLowerCase();if($(this).hasClass("active"))switch($(this).removeClass("active"),e){case"weight":t.formData.weight="",a.val("");break;case"fstyle":t.formData.fStyle="normal",a.val("normal");break;case"oline":t.formData.oLine="",a.val("");break;case"through":t.formData.through="",a.val("");break;case"uline":t.formData.uLine="",a.val("")}else switch($(this).addClass("active"),e){case"weight":t.formData.weight="600",a.val("600");break;case"fstyle":t.formData.fStyle="italic",a.val("italic");break;case"oline":t.formData.oLine="overline",a.val("overline");break;case"through":t.formData.through="line-through",a.val("line-through");break;case"uline":t.formData.uLine="underline",a.val("underline")}t.update(t.formData),t.updatePreviewStyle($(this))}),a.find(".font-f .font-item-checkbox").click(function(){var a=$(this).find("input[type=hidden]"),e=a.attr("name").toLowerCase();if($(this).hasClass("active"))switch($(this).removeClass("active"),e){case"mweight":t.formData.mweight="",a.val("");break;case"mfstyle":t.formData.mfStyle="normal",a.val("normal");break;case"moLine":t.formData.moLine="",a.val("");break;case"mthrough":t.formData.mthrough="",a.val("");break;case"muLine":t.formData.muLine="",a.val("")}else switch($(this).addClass("active"),e){case"mweight":t.formData.mweight="600",a.val("600");break;case"mfstyle":t.formData.mfStyle="italic",a.val("italic");break;case"moline":t.formData.moLine="overline",a.val("overline");break;case"mthrough":t.formData.mthrough="line-through",a.val("line-through");break;case"muline":t.formData.muLine="underline",a.val("underline")}t.update(t.formData),t.updatePreviewStyle($(this))}),a.find("input[type=checkbox][name=mbdT]").change(function(){var a=$(this).is(":checked");t.formData.mbdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdB]").change(function(){var a=$(this).is(":checked");t.formData.mbdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdL]").change(function(){var a=$(this).is(":checked");t.formData.mbdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdR]").change(function(){var a=$(this).is(":checked");t.formData.mbdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=mbdWidth]").change(function(){var a=$(this).val();t.formData.mbdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=mbdColor]").change(function(){var a=$(this).val();t.formData.mbdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdStyle]").change(function(){var a=$(this).prop("value");t.formData.mbdStyle=a,t.update(t.formData)}),a.find("input[type=text][name=mbdTsDur]").change(function(){var a=$(this).val();t.formData.mbdTsDur=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsFun]").change(function(){var a=$(this).prop("value");t.formData.mbdTsFun=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsAnt]").change(function(){var a=$(this).prop("value");t.formData.mbdTsAnt=a,t.update(t.formData)}),a.find(".font-synchronous").on("click",function(){var e=$(this),i=layui.layer;i.msg("你确定  同步默文 文字样式么？",{time:0,btn:["同步","取消"],yes:function(n){t.onTongBu(a,!0,t),t.update(t.formData),t.updatePreviewStyle(e),i.close(n)}})}),a.find(".layui-btn-sm").on("click",function(){var e=layui.layer;e.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(i){r.onTongBuBd(a,!0,t),t.update(t.formData),e.close(i)}})}),a.find(".editor-btns").on("click",function(){t.openEditDialog()})},p.prototype.openEditDialog=function(){var t=this,a=layui.layer,e=null,i=a.open({type:1,title:"文字设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){e=$(i),l.setFontOption(e.find(".font-select")),e.find(".cancel-btn").on("click",function(){a.close(n)}),e.find(".sp-preview-inner").css("background-color",""),t.formData.color&&e.find("input[type=text][name=color]").prev().find(".sp-preview-inner").css("background-color",t.formData.color),t.formData.bgColor&&e.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.mcolor&&e.find("input[type=text][name=mcolor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mcolor),t.formData.mbgColor&&e.find("input[type=text][name=mbgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbgColor),t.formData.bdColor&&e.find("input[type=text][name=bdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bdColor),t.formData.mbdColor&&e.find("input[type=text][name=mbdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbdColor),"600"==t.formData.weight&&e.find(".font-z .font-item-checkbox:eq(0)").addClass("active"),"italic"==t.formData.fStyle&&e.find(".font-z .font-item-checkbox:eq(1)").addClass("active"),"overline"==t.formData.oLine&&e.find(".font-z .font-item-checkbox:eq(2)").addClass("active"),"line-through"==t.formData.through&&e.find(".font-z .font-item-checkbox:eq(3)").addClass("active"),"underline"==t.formData.uLine&&e.find(".font-z .font-item-checkbox:eq(4)").addClass("active"),e.find('.font-z .font-item-radio[data-val="'+t.formData.align+'"]').addClass("active"),e.find('.font-f .font-item-radio[data-val="'+t.formData.malign+'"]').addClass("active"),"italic"==t.formData.mfStyle&&e.find(".font-f .font-item-checkbox:eq(1)").addClass("active"),"overline"==t.formData.moLine&&e.find(".font-f .font-item-checkbox:eq(2)").addClass("active"),"line-through"==t.formData.mthrough&&e.find(".font-f .font-item-checkbox:eq(3)").addClass("active"),"underline"==t.formData.muLine&&e.find(".font-f .font-item-checkbox:eq(4)").addClass("active"),e.find(".font-setting .font-item-checkbox").on("click",function(){t.getFontActive($(this))}),e.find(".font-setting .font-item-radio").on("click",function(){var t=$(this);t.parent().find(".font-item-radio").removeClass("active"),t.addClass("active")}),e.find(".font-synchronous").on("click",function(){var i=layui.form;a.msg("你确定  同步默文 文字样式么？",{time:0,btn:["同步","取消"],yes:function(n){t.onTongBu(e,!1,t),i.render("select"),a.close(n)}})}),e.find(".layui-btn-sm").on("click",function(){var i=layui.form;a.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(n){r.onTongBuBd(e,!1,t),i.render(),a.close(n)}})})},content:'<form class="layui-form" lay-filter="textComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">默认设置</li>\n            <li>鼠标经过</li>\n            <li>边框设置</li>\n            <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline"><input type="text" name="appLabel" class="layui-input"></div>\n              </div>\n\n              <div class="layui-form-item">\n                <label class="layui-form-label">样式及内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px; height: 36px;">\n                      <select class="font-select"   name="family" >\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="color"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="fSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="bgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="lHeight" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="spacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="indent" class="layui-input">\n                    </div>\n                    <div class="font-setting font-z">\n                      <span  title="加粗" class="font-item-checkbox" data-val="" ><icon>ꕅ</icon><input name="weight" type="hidden"   value="" /></span>\n                      <span  title="斜体" class="font-item-checkbox" data-val="" ><icon>ꕆ</icon><input name="fStyle" type="hidden"   value="" /></span>\n                      <span  title="上划线" class="font-item-checkbox" data-val="" ><icon>ꔣ</icon><input name="oLine" type="hidden"   value="" /></span>\n                      <span  title="中划线" class="font-item-checkbox" data-val=""><icon>ꕇ</icon><input name="through" type="hidden"   value="" /></span>\n                      <span  title="下划线" class="font-item-checkbox" data-val="" ><icon>ꕈ</icon><input name="uLine" type="hidden"   value="" /></span>\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item-radio" data-val="left" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item-radio"  data-val="center" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item-radio"  data-val="right" ><icon>ꕑ</icon></span>\n                    </div>\n                    <textarea   name="content"  ></textarea>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline"><input type="text" name="href" class="layui-input"></div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景图片</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">对齐方式</label>\n                <div class="layui-input-inline">\n                  <select   name="bgPos" >\n                    <option value="0% 0%">左上</option>\n                    <option value="0% 50%">左中</option>\n                    <option value="0% 100%">左下</option>\n                    <option value="50% 0%">中上</option>\n                    <option value="50% 50%">正中</option>\n                    <option value="50% 100%">中下</option>\n                    <option value="100% 0%">右上</option>\n                    <option value="100% 50%">右中</option>\n                    <option value="100% 100%">右下</option>\n                 </select>\n                </div>\n              </div>\n\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-form-item">\n                <label class="layui-form-label">鼠标经过状态</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="hoverMode" lay-filter="hoverMode" value="on" title="开启" >\n                  <input type="radio" name="hoverMode" lay-filter="hoverMode" value="off" title="关闭">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">样式及内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px;">\n                      <select class="font-select"   name="mfamily" >\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="mcolor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="mfSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="mbgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="mlHeight" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="mspacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="mindent" class="layui-input">\n                    </div>\n                    <div class="font-setting font-f">\n                      <span  title="加粗" class="font-item-checkbox" data-val="" ><icon>ꕅ</icon><input name="mweight" type="hidden"   value="" /></span>\n                      <span  title="斜体" class="font-item-checkbox" data-val="" ><icon>ꕆ</icon><input name="mfStyle" type="hidden"   value="" /></span>\n                      <span  title="上划线" class="font-item-checkbox" data-val="" ><icon>ꔣ</icon><input name="moLine" type="hidden"   value="" /></span>\n                      <span  title="中划线" class="font-item-checkbox" data-val=""><icon>ꕇ</icon><input name="mthrough" type="hidden"   value="" /></span>\n                      <span  title="下划线" class="font-item-checkbox" data-val="" ><icon>ꕈ</icon><input name="muLine" type="hidden"   value="" /></span>\n\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item-radio" data-val="left" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item-radio"  data-val="center" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item-radio"  data-val="right" ><icon>ꕑ</icon></span>\n\n                    </div>\n                    <textarea   name="mcontent"  ></textarea>\n                    <div class="font-synchronous">\n                      <icon>ꕦ</icon><span>同步默认文字样式</span>\n                    </div>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景图片</label>\n                <div class="layui-input-inline">\n                  <input name="mbgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景平铺</label>\n                <div class="layui-input-inline">\n                  <select   name="mbgRep" >\n                    <option value="repeat" >纵横向</option>\n                    <option value="repeat-x" >横向</option>\n                    <option value="repeat-y" >纵向</option>\n                    <option value="no-repeat" >不平铺</option>\n                 </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">对齐方式</label>\n                <div class="layui-input-inline">\n                  <select   name="mbgPos" >\n                    <option value="0% 0%">左上</option>\n                    <option value="0% 50%">左中</option>\n                    <option value="0% 100%">左下</option>\n                    <option value="50% 0%">中上</option>\n                    <option value="50% 50%">正中</option>\n                    <option value="50% 100%">中下</option>\n                    <option value="100% 0%">右上</option>\n                    <option value="100% 50%">右中</option>\n                    <option value="100% 100%">右下</option>\n                 </select>\n                </div>\n              </div>\n            </div>\n            <div  class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认边框</li>\n                  <li class="">鼠标划过动画</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>默认边框</legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="bdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="bdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="bdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="bdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="bdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="bdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>\n                        <span  style="margin-right:15px;  display:inline-block"> 鼠标_移上边框 </span>\n                        <button type="button" class="layui-btn layui-btn-sm">同步默认边框</button>\n                      </legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="mbdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="mbdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="mbdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="mbdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="mbdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="mbdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                  </div>\n                  <div class="layui-tab-item ">\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>\n                        动画时长\n                        <input class="input-short"  type="text" name="mbdTsDur"  style="width:50px; height:20px; margin-left:10px; padding-left:5px;" />\n                        <label class="label-con">秒</label>\n                      </legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="linear"  title="匀速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease"  title="逐渐变慢">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in"   title="减速">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-out"   title="加速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in-out"   title="加速后减速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="cubic-bezier"   title="动感弹跳">\n                      </div>\n                    </fieldset>\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>动画效果</legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx0" title="直接切换">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx1" title="渐隐渐显" >\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx4"  title="左对角线切入">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx5"  title="右对角线切入">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx6"  title="顺时针出现">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx7"  title="逆时针出现">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx8"  title="由点到线">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx9"  title="由点到面">\n                      </div>\n                    </fieldset>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认阴影</li>\n                  <li class="">鼠标划过阴影</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="shadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="shadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="sdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="mshadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="mshadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="msdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">划过显示速度</label>\n                      <div class="layui-input-inline" style="width:230px;">\n                        <input type="text" name="msdTsDur" class="layui-input input-short"  style="width:105px;display:inline-block;">\n                        <span style="color:red;">单位 秒   可以小数点</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <fieldset  class="layui-elem-field">\n                <legend>\n                  动画时长\n                  <input class="input-short"  type="text" name="mTsDur"  style="width:50px; height:20px; margin-left:10px; padding-left:5px;" />\n                  <label class="label-con">秒</label>\n                </legend>\n                <div class="layui-field-box">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="linear"  title="匀速">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease"  title="逐渐变慢">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease-in"   title="减速">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease-out"   title="加速">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease-in-out"   title="加速后减速">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="cubic-bezier"   title="动感弹跳">\n                </div>\n              </fieldset>\n              <fieldset  class="layui-elem-field" style="margin-top:15px;">\n                <legend>动画效果</legend>\n                <div class="layui-field-box">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans0" title="无效果">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans1" title="右切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans2"  title="下切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans3"  title="左切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans4"  title="上切入">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans5"  title="右切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans6"  title="下切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans7"  title="左切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans8"  title="上切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans9"  title="右切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans10"   title="下切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans11"   title="左切入切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans12"  title="上切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans13"  title="放大出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans14"  title="缩小出现">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans15"  title="翻转出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans16"  title="缩放出现1">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans17"  title="缩放出现2">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans18"  title="旋转放大">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans19"  title="旋转缩小">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans20"  title="渐隐渐显">\n                </div>\n              </fieldset>\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="textComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("submit(textComponentForm)",function(n){return t.formData=n.field,t.formData.align=e.find(".font-z .font-item-radio.active").data("val"),t.formData.malign=e.find(".font-f .font-item-radio.active").data("val"),t.update(t.formData),t.updatePropPanel(),a.close(i),!1}),n.val("textComponentForm",t.formData)},p.prototype.update=function(t){var a=this,e=this.formData.bRadius;if("on"===t.shadow){var i=t.sdX?t.sdX:0,n=t.sdY?t.sdY:0,s=r.boxShadow(i,n,t.sdBlur,t.sdSize,t.sdColor);a.$content.css("box-shadow",s)}else a.$content.css("box-shadow","none");var o=a.$contentBox.find(".mchild");if("on"===t.mshadow){i=t.msdX?t.msdX:0,n=t.msdY?t.msdY:0;var l=r.boxShadow(i,n,t.msdBlur,t.msdSize,t.msdColor);o.length<=0&&a.$content.before("<div class='abs mchild xins-box-fadein'></div>"),(o=a.$contentBox.find(".mchild")).css("box-shadow",l),o.css("border-radius",e);var d=t.msdTsDur?t.msdTsDur+"s linear":0;o.css("transition",d)}else o.remove();var p=this.formData.uLine;this.formData.oLine&&(p+=" "+this.formData.oLine),this.formData.through&&(p+=" "+this.formData.through),""===p&&(p="none");var m,c,u,f,h,v=this.$contentBox.find(".on");c=this.formData.bgImg,m=this.formData.bgColor,u=this.formData.bgRep,f=this.formData.bgPos,h=r.bgImage(c,m,u,f,""),v.css("background",h),v.css("font-family",this.formData.family),v.css("color",this.formData.color),v.css("font-size",parseInt(this.formData.fSize)),v.css("line-height",this.formData.lHeight+"px"),v.css("letter-spacing",parseInt(this.formData.spacing)),v.css("text-indent",parseInt(this.formData.indent)),v.css("border-radius",parseInt(e)),v.css("text-align",this.formData.align),v.css("font-weight",this.formData.weight),v.css("font-style",this.formData.fStyle),v.css("text-decoration",p),v.text(t.content);var b=this.$contentBox.find(".off"),y=this.$content.attr("mTsAnt");if("on"===this.formData.hoverMode){b.remove();var g=this.formData.muLine;this.formData.moLine&&(g+=" "+this.formData.moLine),this.formData.mthrough&&(g+=" "+this.formData.mthrough),""===g&&(g="none");var x,D,w,k,$,T=this.formData.mTsAnt;"atrans5"==T||"atrans6"==T||"atrans7"===T||"atrans8"===T||"atrans9"===T||"atrans19"===T?this.$contentBox.find(".on").before("<div class='off'></div>"):this.$contentBox.find(".on").after("<div class='off'></div>"),D=this.formData.mbgImg,x=this.formData.mbgColor,w=this.formData.mbgRep,k=this.formData.mbgPos,$=r.bgImage(D,x,w,k,""),(b=this.$contentBox.find(".off")).text(t.mcontent),b.css("background",$),b.css("font-family",this.formData.mfamily),b.css("color",this.formData.mcolor),b.css("font-size",parseInt(this.formData.mfSize)),b.css("line-height",this.formData.mlHeight+"px"),b.css("letter-spacing",parseInt(this.formData.mspacing)),b.css("text-indent",parseInt(this.formData.mindent)),b.css("border-radius",this.formData.bRadius),b.css("text-align",this.formData.malign),b.css("font-weight",this.formData.mweight),b.css("font-style",this.formData.mfStyle),b.css("text-decoration",g),"cubic-bezier"===this.formData.mTsFun?(v.css("transition-timing-function","cubic-bezier(0.52, 1.64, 0.37, 0.66)"),b.css("transition-timing-function","cubic-bezier(0.52, 1.64, 0.37, 0.66)")):(v.css("transition-timing-function",this.formData.mTsFun),b.css("transition-timing-function",this.formData.mTsFun)),v.css("transition-duration",this.formData.mTsDur+"s"),b.css("transition-duration",this.formData.mTsDur+"s"),this.$content.removeClass(y),this.$content.addClass(this.formData.mTsAnt),this.$content.attr("mTsAnt",this.formData.mTsAnt)}else b.remove(),this.$content.removeClass(y),this.$content.attr("mTsAnt","");b=this.$contentBox.find(".off");var C=!1,S=this.$contentBox.find(".ywlink");S.css("border-radius",parseInt(e));var B=""!=this.formData.bdWidth?parseInt(this.formData.bdWidth):"",z=this.$contentBox.find(".bk-aline");"on"===this.formData.bdT||"on"===this.formData.bdB||"on"===this.formData.bdL||"on"===this.formData.bdR?(z.length<=0&&S.append("<div class='bk-aline'></div>"),(z=this.$contentBox.find(".bk-aline")).css("border-radius",parseInt(e)),"on"===this.formData.bdT?(z.css("border-top-width",B),v.css("padding-top",B)):(z.css("border-top-width",0),v.css("padding-top",0)),"on"===this.formData.bdB?(z.css("border-bottom-width",B),v.css("padding-bottom",B)):(z.css("border-bottom-width",0),v.css("padding-bottom",0)),"on"===this.formData.bdL?(z.css("border-Left-width",B),v.css("padding-Left",B)):(z.css("border-Left-width",0),v.css("padding-Left",0)),"on"===this.formData.bdR?(z.css("border-right-width",B),v.css("padding-right",B)):(z.css("border-right-width",0),v.css("padding-right",0)),z.css("border-style",this.formData.bdStyle),z.css("border-color",this.formData.bdColor)):(z.remove(),C=!0);var M=this.$content.attr("mbdTsAnt");if(this.$content.removeClass(M),this.$content.addClass(this.formData.mbdTsAnt),this.$content.attr("mbdTsAnt",this.formData.mbdTsAnt),"on"===this.formData.mbdT||"on"===this.formData.mbdB||"on"===this.formData.mbdL||"on"===this.formData.mbdR){var I="cubic-bezier"===this.formData.mbdTsFun?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":this.formData.mbdTsFun,A=this.formData.mbdTsDur+"s",E=""!=this.formData.mbdWidth?parseInt(this.formData.mbdWidth):"",P=this.formData.mbdStyle,L=this.formData.mbdColor,R=this.$contentBox.find(".bk-mline");R.length<=0&&S.append("<div class='bk-mline'></div>"),(R=this.$contentBox.find(".bk-mline")).css("border-radius",parseInt(e)),R.css("border-color",L),R.css("border-style",P),R.css("transition-timing-function",I),R.css("transition-duration",A);var _=this.$contentBox.find(".w-lt");"on"===this.formData.mbdT?(_.length<=0&&S.append("<div class='bk-line  w-lt'></div>"),(_=this.$contentBox.find(".w-lt")).css("border-top-width",E),_.css("border-top-style",P),_.css("border-top-color",L),_.css("transition-timing-function",I),_.css("transition-duration",A),b.css("padding-top",E),R.css("border-top-width",E),C&&v.css("padding-top",E)):(b.css("padding-top",0),R.css("border-top-width",0),C&&v.css("padding-top",0),_.remove());var F=this.$contentBox.find(".w-lb");"on"===this.formData.mbdB?(F.length<=0&&S.append("<div class='bk-line  w-lb'></div>"),(F=this.$contentBox.find(".w-lb")).css("border-bottom-width",E),F.css("border-bottom-style",P),F.css("border-bottom-color",L),F.css("transition-timing-function",I),F.css("transition-duration",A),b.css("padding-bottom",E),R.css("border-bottom-width",E),C&&v.css("padding-bottom",E)):(b.css("padding-bottom",0),R.css("border-bottom-width",0),C&&v.css("padding-bottom",0),F.remove());var X=this.$contentBox.find(".w-ll");"on"===this.formData.mbdL?(X.length<=0&&S.append("<div class='bk-line  w-ll'></div>"),(X=this.$contentBox.find(".w-ll")).css("border-left-width",E),X.css("border-left-style",P),X.css("border-left-color",L),X.css("transition-timing-function",I),X.css("transition-duration",A),b.css("padding-left",E),R.css("border-left-width",E),C&&v.css("padding-left",E)):(b.css("padding-left",0),R.css("border-left-width",0),C&&v.css("padding-left",0),X.remove());var W=this.$contentBox.find(".w-lr");"on"===this.formData.mbdR?(W.length<=0&&S.append("<div class='bk-line  w-lr'></div>"),(W=this.$contentBox.find(".w-lr")).css("border-right-width",E),W.css("border-right-style",P),W.css("border-right-color",L),W.css("transition-timing-function",I),W.css("transition-duration",A),b.css("padding-right",E),R.css("border-right-width",E),C&&v.css("padding-right",E)):(b.css("padding-right",0),R.css("border-right-width",0),C&&v.css("padding-right",0),W.remove()),"bdtx0"===this.formData.mbdTsAnt||"bdtx1"===this.formData.mbdTsAnt?(_.remove(),F.remove(),X.remove(),W.remove()):R.remove()}},p.prototype.updatePropPanel=function(){var t=this,a=this.$propPanel;a.find("select[name=family]").val(this.formData.family);var e=a.find("input[type=text][name=color]");e.val(this.formData.color),a.find("input[type=text][name=fSize]").val(this.formData.fSize);var i=a.find("input[type=text][name=bgColor]");i.val(this.formData.bgColor),a.find("input[type=text][name=lHeight]").val(this.formData.lHeight),a.find("input[type=text][name=spacing]").val(this.formData.spacing),a.find("input[type=text][name=indent]").val(this.formData.indent),a.find("textarea[name=content]").val(this.formData.content),a.find("input[type=text][name=href]").val(this.formData.href);var n=a.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?n.prop("checked",!0):n.prop("checked",!1),a.find("input[type=text][name=bRadius]").val(this.formData.bRadius),this.formData.color?e.prev().find(".sp-preview-inner").css("background-color",this.formData.color):e.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?i.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):i.prev().find(".sp-preview-inner").css("background-color",""),a.find("input[type=radio][name=hoverMode]").filter('[value="'+this.formData.hoverMode+'"]').prop("checked",!0),a.find("select[name=mfamily]").val(this.formData.mfamily);var s=a.find("input[type=text][name=mcolor]");s.val(this.formData.mcolor),a.find("input[type=text][name=mfSize]").val(this.formData.mfSize);var o=a.find("input[type=text][name=mbgColor]");o.val(this.formData.mbgColor),a.find("input[type=text][name=mlHeight]").val(this.formData.mlHeight),a.find("input[type=text][name=mspacing]").val(this.formData.mspacing),a.find("input[type=text][name=mindent]").val(this.formData.mindent),a.find("textarea[name=mcontent]").val(this.formData.mcontent),this.formData.mcolor?s.prev().find(".sp-preview-inner").css("background-color",this.formData.mcolor):s.prev().find(".sp-preview-inner").css("background-color",""),this.formData.mbgColor?o.prev().find(".sp-preview-inner").css("background-color",this.formData.mbgColor):o.prev().find(".sp-preview-inner").css("background-color",""),a.find(".font-setting span").removeClass("active");var l=a.find(".font-z input[type=hidden][name=weight]");"600"==t.formData.weight?(l.val("600"),l.parent().addClass("active")):l.val("");var r=a.find(".font-z input[type=hidden][name=fStyle]");"italic"==t.formData.fStyle?(r.val("italic"),r.parent().addClass("active")):r.val("normal");var d=a.find(".font-z input[type=hidden][name=oLine]");"overline"==t.formData.oLine?(d.val("overline"),d.parent().addClass("active")):d.val("");var p=a.find(".font-z input[type=hidden][name=through]");"line-through"==t.formData.through?(p.val("line-through"),p.parent().addClass("active")):p.val("");var m=a.find(".font-z input[type=hidden][name=uLine]");"underline"==t.formData.uLine?(m.val("underline"),m.parent().addClass("active")):m.val("");var c=a.find(".font-f input[type=hidden][name=mweight]");"600"==t.formData.mweight?(c.val("600"),c.parent().addClass("active")):c.val("");var u=a.find(".font-f input[type=hidden][name=mfStyle]");"italic"==t.formData.mfStyle?(u.val("italic"),u.parent().addClass("active")):u.val("normal");var f=a.find(".font-f input[type=hidden][name=moLine]");"overline"==t.formData.moLine?(f.val("overline"),f.parent().addClass("active")):f.val("");var h=a.find(".font-f input[type=hidden][name=mthrough]");"line-through"==t.formData.mthrough?(h.val("line-through"),h.parent().addClass("active")):h.val("");var v=a.find(".font-z input[type=hidden][name=muLine]");"underline"==t.formData.uLine?(v.val("underline"),v.parent().addClass("active")):v.val(""),a.find('.font-z .font-item-radio[data-val="'+t.formData.align+'"]').addClass("active"),a.find('.font-f .font-item-radio[data-val="'+t.formData.malign+'"]').addClass("active"),a.find("input[type=text][name=mTsDur]").val(this.formData.mTsDur),a.find("input[type=radio][name=mTsFun]").filter('[value="'+this.formData.mTsFun+'"]').prop("checked",!0),a.find("input[type=radio][name=mTsAnt]").filter('[value="'+this.formData.mTsAnt+'"]').prop("checked",!0);var b=a.find("input[type=checkbox][name=bdT]");"on"===this.formData.bdT?b.prop("checked",!0):b.prop("checked",!1);var y=a.find("input[type=checkbox][name=bdB]");"on"===this.formData.bdB?y.prop("checked",!0):y.prop("checked",!1);var g=a.find("input[type=checkbox][name=bdL]");"on"===this.formData.bdL?g.prop("checked",!0):g.prop("checked",!1);var x=a.find("input[type=checkbox][name=bdR]");"on"===this.formData.bdR?x.prop("checked",!0):x.prop("checked",!1),a.find("input[type=text][name=bdWidth]").val(this.formData.bdWidth),a.find("input[type=radio][name=bdStyle]").filter('[value="'+this.formData.bdStyle+'"]').prop("checked",!0);var D=a.find("input[type=text][name=bdColor]");D.val(this.formData.bdColor),this.formData.bdColor?D.prev().find(".sp-preview-inner").css("background-color",this.formData.bdColor):D.prev().find(".sp-preview-inner").css("background-color","");var w=a.find("input[type=checkbox][name=mbdT]");"on"===this.formData.mbdT?w.prop("checked",!0):w.prop("checked",!1);var k=a.find("input[type=checkbox][name=mbdB]");"on"===this.formData.mbdB?k.prop("checked",!0):k.prop("checked",!1);var $=a.find("input[type=checkbox][name=mbdL]");"on"===this.formData.mbdL?$.prop("checked",!0):$.prop("checked",!1);var T=a.find("input[type=checkbox][name=mbdR]");"on"===this.formData.mbdR?T.prop("checked",!0):T.prop("checked",!1),a.find("input[type=text][name=mbdWidth]").val(this.formData.mbdWidth),a.find("input[type=radio][name=mbdStyle]").filter('[value="'+this.formData.mbdStyle+'"]').prop("checked",!0);var C=a.find("input[type=text][name=mbdColor]");C.val(this.formData.mbdColor),this.formData.mbdColor?C.prev().find(".sp-preview-inner").css("background-color",this.formData.mbdColor):C.prev().find(".sp-preview-inner").css("background-color",""),a.find("input[type=text][name=mbdTsDur]").val(this.formData.mbdTsDur),a.find("input[type=radio][name=mbdTsFun]").filter('[value="'+this.formData.mbdTsFun+'"]').prop("checked",!0),a.find("input[type=radio][name=mbdTsAnt]").filter('[value="'+this.formData.mbdTsAnt+'"]').prop("checked",!0)},p);function p(){var t=s.call(this,"text-component")||this;return t.$contentBox.append('\n    <div class="ant-text xdtb" ><a class="ywlink"   mTsAnt=""  mbdTsAnt=""><div class="on">请设置文本内容</div></a></div>\n      '),t.$content=t.$contentBox.find(".ywlink"),t.initFormData(),t}a.default=d},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s=e(1),o=e(2),l=e(0);e(20),e(21);var r,d=(n(p,r=s.default),p.prototype.toHtml=function(){var t,a,e,i,n,s,o,r,d,p,m,c,u,f,h,v,b,y,g,x;return t=this.$el.css("top"),a=this.$el.css("left"),e=this.$el.width(),i=this.$el.height(),u=""!=l.valEmpty(this.formData.tipText)?' title="'+this.formData.tipText+'" ':"",s=""!=l.valEmpty(this.formData.bgColor)?"background-color:"+this.formData.bgColor+";":"",n=l.valEmpty(this.formData.bgImg),o=l.valEmpty(this.formData.eName),r=l.valEmpty(this.formData.color),d=l.valEmpty(this.formData.fSize),p=l.valEmpty(this.formData.family),m=l.valEmpty(this.formData.weight),c=l.valEmpty(this.formData.fStyle),f=l.valEmpty(this.formData.nameMl),h=l.valEmpty(this.formData.nameMt),b=l.valEmpty(this.formData.wangID),y="","88"===(v=l.valEmpty(this.formData.wangMode))&&(v="24",y=" w-mid"),""!=n&&(g='<img  src="'+n+'" />'),""!=o&&(x='<span style="color:'+r+";font-size:"+d+";font-family:"+p+";font-weight:"+m+";font-style:"+c+";margin-left:"+f+'px;">'+o+"</span>"),'<a class="abs wang-box"  href="//amos.alicdn.com/msg.aw?&v=2&uid='+b+"&site=enaliint&s="+v+'&charset=UTF-8" target="_blank" '+u+' style="'+s+"top:"+t+";left:"+a+";width:"+e+"px; height:"+i+'px;display:inline-block;">'+g+'<div class="wang-info" style="margin-top:'+h+'px;"><img class="wang-line'+y+'" src="//amos.alicdn.com/online.aw?v=2&uid='+b+"&site=enaliint&s="+v+'&charset=UTF-8" />'+x+"</div></a>"},p.prototype.initFormData=function(){this.formData.appLabel="",this.formData.wangMode="22",this.formData.wangID="",this.formData.bgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.bgColor="",this.formData.eName="John Deao",this.formData.color="",this.formData.fSize=12,this.formData.family="arial",this.formData.weight="",this.formData.fStyle="normal",this.formData.tipText="24Hours Service Online",this.formData.nameMl=5,this.formData.nameMt=5,this.update(this.formData)},p.prototype.initPorpPanel=function(){console.log("initPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var a=$(".ww-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),o.setFontOption(a.find(".font-select")),this.updatePropPanel(),a.find("input[type=radio][name=wangMode]").change(function(){t.formData.wangMode=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=text][name=wangID]").change(function(){var a=$(this).val();t.formData.wangID=a}),a.find("input[type=text][name=bgImg]").change(function(){var a=$(this).val();t.formData.bgImg=a,t.update(t.formData)}),a.find("input[type=text][name=nameMt]").change(function(){var a=$(this).val();t.formData.nameMt=a,t.update(t.formData)}),a.find("input[type=text][name=eName]").change(function(){var a=$(this).val();t.formData.eName=a,t.update(t.formData)}),a.find("input[type=text][name=color]").change(function(){var a=$(this).val();t.formData.color=a,t.update(t.formData)}),a.find("input[type=text][name=bgColor]").change(function(){var a=$(this).val();t.formData.bgColor=a,t.update(t.formData)}),a.find("input[type=text][name=nameMl]").change(function(){t.formData.nameMl=$(this).val(),t.update(t.formData)}),a.find("input[type=text][name=fSize]").change(function(){t.formData.fSize=$(this).val(),t.update(t.formData)}),a.find("select[name=weight]").change(function(){t.formData.weight=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=fStyle]").change(function(){t.formData.fStyle=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=family]").change(function(){t.formData.family=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=text][name=tipText]").change(function(){t.formData.tipText=$(this).val(),t.update(t.formData)})},p.prototype.openEditDialog=function(){var t=layui.layer,a=t.open({type:1,title:"旺旺设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(a,e){$(a).find(".cancel-btn").on("click",function(){t.close(e)})},content:'<form class="layui-form" lay-filter="wangComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="wangComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),e=layui.form;e.render(),e.on("submit(wangComponentForm)",function(e){return t.close(a),!1})},p.prototype.update=function(t){var a=this.$content.find(".cphoto"),e=this.$content.find(".wang-info span");this.$content.css("background-color",this.formData.bgColor),this.$content.find(".wang-info").css("margin-top",parseInt(this.formData.nameMt)),this.$content.attr("title",this.formData.tipText);var i="22"==this.formData.wangMode?"./assets/wang1.gif":"./assets/wang2.gif";this.$wangImg.attr("src",i),"88"==this.formData.wangMode?this.$wangImg.addClass("w-mid"):this.$wangImg.removeClass("w-mid"),this.formData.bgImg?(a.length<=0&&this.$content.find(".wang-info").before("<img class='cphoto' >"),(a=this.$content.find(".cphoto")).attr("src",this.formData.bgImg)):a.remove(),this.formData.eName?(e.length<=0&&(e=this.$content.find(".wang-line").after("<span>"+t.eName+"</span>")),(e=this.$content.find(".wang-info span")).text(t.eName),e.css("color",this.formData.color),e.css("font-size",parseInt(this.formData.fSize)),e.css("font-family",this.formData.family),e.css("font-weight",this.formData.weight),e.css("font-style",this.formData.fStyle),e.css("margin-left",parseInt(this.formData.nameMl))):e.remove()},p.prototype.updatePropPanel=function(){var t=this.$propPanel;o.setFontOption(".font-select"),t.find("input[type=radio][name=wangMode]").filter('[value="'+this.formData.wangMode+'"]').prop("checked",!0),t.find("input[type=text][name=wangID]").val(this.formData.wangID),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg),t.find("input[type=text][name=nameMt]").val(this.formData.nameMt),t.find("input[type=text][name=eName]").val(this.formData.eName);var a=t.find("input[type=text][name=color]");a.val(this.formData.color);var e=t.find("input[type=text][name=bgColor]");e.val(this.formData.bgColor),t.find("input[type=text][name=nameMl]").val(this.formData.nameMl),t.find("input[type=text][name=fSize]").val(this.formData.fSize),t.find("select[name=family]").val(this.formData.family),t.find("input[type=text][name=weight]").val(this.formData.weight),t.find("select[name=fStyle]").val(this.formData.fStyle),t.find("input[type=text][name=tipText]").val(this.formData.tipText),this.formData.color?a.prev().find(".sp-preview-inner").css("background-color",this.formData.color):a.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?e.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):e.prev().find(".sp-preview-inner").css("background-color","")},p.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"wangh",config:t,pos:{l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},p);function p(){var t=r.call(this,"wang-component",{enableResize:!1})||this;return t.$content=$('<a class="wang-box"><img class="cphoto" src="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg"><div class="wang-info" > <img class="wang-line" src="./assets/wang1.gif"><span>John Deao</span></div></a>'),t.$wangImg=t.$content.find(".wang-line"),t.$contentBox.append(t.$content),t.initFormData(),t}a.default=d},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s,o=e(1),l=e(0),r=(n(d,s=o.default),d.prototype.toHtml=function(){return'<div class="abs video-box"  style="top:'+this.$el.css("top")+";left:"+this.$el.css("left")+";width:"+this.$el.width()+"px; height:"+this.$el.height()+'px;"><Video '+("true"===l.valEmpty(this.formData.autoplay)?'autoplay="autoplay"':"")+" "+("true"===l.valEmpty(this.formData.muted)?"muted":"")+" "+("true"===l.valEmpty(this.formData.controls)?"controls":"")+" "+(""!=l.valEmpty(this.formData.coverImg)?'poster="'+this.formData.coverImg+'"':"")+' style="width:100%;height:100%;"   src="https://cloud.video.taobao.com/play/u/2780279213/p/1/e/6/t/1/d/ld/36255062.mp4"  /></div>'},d.prototype.initFormData=function(){this.formData.appLabel="",this.formData.videoID="",this.formData.autoplay="false",this.formData.muted="false",this.formData.controls="true",this.formData.autoControls="false",this.formData.coverImg="",this.update(this.formData)},d.prototype.initPorpPanel=function(){console.log("initPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var a=$(".video-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),this.updatePropPanel(),a.find("input[type=text][name=w]").change(function(){$(this).val()}),a.find("input[type=text][name=videoID]").change(function(){var a=$(this).val();t.formData.videoID=a}),a.find("input[type=text][name=coverImg]").change(function(){var a=$(this).val();t.formData.coverImg=a}),a.find("input[type=radio][name=autoplay]").change(function(){t.formData.autoplay=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=radio][name=muted]").change(function(){t.formData.muted=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=radio][name=controls]").change(function(){t.formData.controls=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=radio][name=autoControls]").change(function(){t.formData.autoControls=$(this).prop("value"),t.update(t.formData)})},d.prototype.openEditDialog=function(){var t=layui.layer,a=t.open({type:1,title:"视频设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(a,e){$(a).find(".cancel-btn").on("click",function(){t.close(e)})},content:'<form class="layui-form" lay-filter="videoComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="videoComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),e=layui.form;e.render(),e.on("submit(videoComponentForm)",function(e){return t.close(a),!1})},d.prototype.update=function(t){var a=this.$content.find("Video"),e="true"===this.formData.autoplay,i="true"===this.formData.muted,n="true"===this.formData.controls;e?a.attr("autoplay","autoplay"):a.removeAttr("autoplay"),i?a.removeAttr("muted"):a.attr("muted","muted"),n?a.attr("controls","controls"):a.removeAttr("controls"),a.attr("autoplay"),a.attr("muted"),a.attr("controls"),"diy"==this.formData.coverMode&&this.formData.coverImg},d.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=text][name=videoID]").val(this.formData.videoID),t.find("input[type=text][name=coverImg]").val(this.formData.coverImg),t.find("input[type=radio][name=autoplay]").filter('[value="'+this.formData.autoplay+'"]').prop("checked",!0),t.find("input[type=radio][name=muted]").filter('[value="'+this.formData.muted+'"]').prop("checked",!0),t.find("input[type=radio][name=controls]").filter('[value="'+this.formData.controls+'"]').prop("checked",!0),t.find("input[type=radio][name=autoControls]").filter('[value="'+this.formData.autoControls+'"]').prop("checked",!0)},d.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xvb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},d);function d(){var t=s.call(this,"VideoComponent")||this;return t.$content=$('<div class="video-box"><Video style="width:450;height:200"   src="https://cloud.video.taobao.com/play/u/2780279213/p/1/e/6/t/1/d/ld/36255062.mp4" /><div class="yw-overlay"></div></div>'),t.$contentBox.append(t.$content),t.initFormData(),t}a.default=r},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s,o=e(1),l=e(2),r=e(0),d=(n(p,s=o.default),p.prototype.toHtml=function(){var t,a,e,i,n,s,o,l,d,p,m,c,u,f,h=[];t=this.$el.css("top"),a=this.$el.css("left"),e=this.$el.width(),i=this.$el.height(),n=r.valEmpty(this.formData.overMode),l=r.valEmpty(this.formData.bRadius),d=r.valEmpty(this.formData.tipText),f=r.valEmpty(this.formData.href),m=r.valEmpty(this.formData.hrefMode),p=r.valEmpty(this.formData.linkMode),c=r.valEmpty(this.formData.wangID),u=r.wwUrl(f,p,c,22),o="","mover"===(s=n)&&(o=" u-a",s="");var v=""!=l?"border-radius:"+l+"px;":"",b=r.ImgBgHtml(this.formData),y=b.imgBgStyle;h.push(b.Html);var g=r.ShadowStyle(this.formData),x=g.onShadow;h.push(g.offShadow);var D,w,k,$,T,C,S,B,z,M,I,A,E,P,L,R,_,F,X,W,H,O,Y=r.valEmpty(this.formData.mbdTsAnt),j=r.BorderHtml(this.formData);return h.push(j.Html),D=r.valEmpty(this.formData.disMode),w=""!=r.valEmpty(this.formData.mvTsDur)?this.formData.mvTsDur+"s ":"",k=""!=r.valEmpty(this.formData.mvTsDelay)?this.formData.mvTsDelay+"s ":"",T=" <a "+d+' class="abs ywlink '+D+" "+Y+'" href="'+u+'" target="'+m+'" style="'+y+x+v+($=($=w+r.BezierCss(this.formData.mvTsBezier,this.formData.mvTsBezierv)+k)?"transition:"+$+";":"")+'">'+h.join("")+"</a>",C="width:"+e+"px; height:"+i+"px;"+$,S=r.valEmpty(this.formData.mrxz),B=r.valEmpty(this.formData.mrxzv),z=r.valEmpty(this.formData.mrsf),(I=M="")!=S&&""!=B&&(M=" "+S+B,I=" mr"),A=r.valEmpty(this.formData.mvTsModeX),E=r.valEmpty(this.formData.mvTsModeXv),P=r.valEmpty(this.formData.mvTsModeY),L=r.valEmpty(this.formData.mvTsModeYv),R=r.valEmpty(this.formData.mvxz),_=r.valEmpty(this.formData.mvxzv),F=r.valEmpty(this.formData.mvsf),X=r.valEmpty(this.formData.mvfz),W=""!=A?A+E:"",H=""!=P?P+L:"",O=""!=R&&""!=_?" "+R+_:"",-1!=A.indexOf("from")&&(W=A),-1!=P.indexOf("from")&&(H=P),""!=X&&(T='<div class="abs '+X+'" style="'+C+'">'+T+"</div>"),""==F&&""==z||(T='<div class="abs '+z+" "+F+'" style="'+C+'">'+T+"</div>"),""==R&&""==S||(T='<div class="abs '+M+" "+O+'" style="'+C+'">'+T+"</div>"),""==A&&""==P||(T='<div class="abs '+W+" "+H+'" style="'+C+'">'+T+"</div>"),'<div class="abs xdtb xtxc '+I+o+'" style="top: '+t+"; left:"+a+"; width:"+e+"px; height:"+i+"px;overflow:"+s+";"+v+'" > '+T+"</div>"},p.prototype.initFormData=function(){this.formData.bgImg="http://image.suning.cn/uimg/sop/commodity/192796024482525085891100_x.jpg",this.formData.bgColor="",this.formData.appLabel="",this.formData.imgMode="cut",this.formData.linkMode="urlink",this.formData.href="",this.formData.tipText="",this.formData.animType="",this.formData.hrefMode="_blank",this.formData.bgImgSize="true",this.formData.animTsDur="0.5",this.formData.animRange="-s",this.formData.wangID="",this.formData.bdRadius="",this.formData.bdStyle="solid",this.formData.overMode="visible",this.formData.shadow="off",this.formData.sdColor="#666666",this.formData.sdSize="",this.formData.sdBlur="5",this.formData.sdX="",this.formData.sdY="",this.formData.mshadow="on",this.formData.msdColor="#E93030",this.formData.msdSize="",this.formData.msdBlur="5",this.formData.msdX="",this.formData.msdY="",this.formData.msdTsDur="0.5",this.formData.bdWidth=5,this.formData.bdStyle="solid",this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdTsAnt="bdtx1",this.formData.mrxz="",this.formData.mrxzv="20",this.formData.mvTsDur="0.5",this.formData.mvTsDelay="",this.formData.mvTsModeX="xins-box-lx",this.formData.mvTsModeXv="20",this.formData.mvTsModeY="",this.formData.mvTsModeYv="30",this.formData.mvfz="",this.formData.disMode="",this.$content.attr("mbdTsAnt",this.formData.mbdTsAnt),this.update(this.formData)},p.prototype.openEditDialog=function(){var t=this,a=layui.layer,e=null,i=a.open({type:1,title:"炫图层设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){e=$(i),l.setAntSpinvOption(e.find(".ant-spin-v")),l.setAntBezierOption(e.find(".ant-bezier")),l.setAntMrZoomOption(e.find(".ant-mr-zoom")),l.setAntMvZoomOption(e.find(".ant-mv-zoom")),l.setAntMovevOption(e.find(".ant-move-v")),e.find('.animselect > div[data-val="'+t.formData.animType+'"]').addClass("active"),e.find(".animselect > div").on("click",function(){e.find(".animselect > div.active").removeClass("active"),$(this).addClass("active")}),e.find(".sp-preview-inner").css("background-color",""),t.formData.bgColor&&e.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.bdColor&&e.find("input[type=text][name=bdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bdColor),t.formData.mbdColor&&e.find("input[type=text][name=mbdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbdColor),t.formData.sdColor&&e.find("input[type=text][name=sdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.sdColor),t.formData.msdColor&&e.find("input[type=text][name=msdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.msdColor),e.find(".cancel-btn").on("click",function(){a.close(n)}),r.onLinkModeChanged(e,t.formData.linkMode),e.find(".layui-btn-sm").on("click",function(){var i=layui.form;a.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(n){r.onTongBuBd(e,!1,t),i.render(),a.close(n)}})})},content:'<form class="layui-form" lay-filter="imgAntComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n             <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="appLabel" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片地址</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                   \n                </div>\n                <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片显示方式</label>\n                <div class="layui-input-inline">\n                  <select name="imgMode">\n                    <option value="cut">保持原图尺寸</option>\n                    <option value="full">自由拉伸</option>\n                    <option value="scaleX">保持比例(只裁剪宽度)</option>\n                    <option value="scaleY">保持比例(只裁剪高度)</option>\n                  </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景颜色</label>\n                <div class="layui-input-inline pagecolorpanel"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="bgColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接类型</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                </div>\n              </div>\n              <div class="layui-form-item link-box" style="display:none">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline">\n                  <input name="href" type="text" class="layui-input">\n                </div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item wang-box" style="display:none">\n                <label class="layui-form-label">旺旺ID</label>\n                <div class="layui-input-inline">\n                  <input name="wangID" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">超出部分</label>\n                <div class="layui-input-inline" style="width:300px;">\n                  <input type="radio" name="overMode" lay-filter="overMode" value="visible" title="显示" checked="">\n                  <input type="radio" name="overMode" lay-filter="overMode" value="mover" title="鼠标经过显示">\n                  <input type="radio" name="overMode" lay-filter="overMode" value="hidden" title="隐藏">\n                </div>\n              </div>\n\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">提示文字</label>\n                <div class="layui-input-inline">\n                  <input name="tipText" type="text" class="layui-input">\n                </div>\n              </div>\n            </div>\n            <div  class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认边框</li>\n                  <li class="">鼠标划过动画</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>默认边框</legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="bdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="bdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="bdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="bdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="bdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="bdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>\n                        <span  style="margin-right:15px;  display:inline-block"> 鼠标_移上边框 </span>\n                        <button type="button" class="layui-btn layui-btn-sm">同步默认边框</button>\n                      </legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="mbdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="mbdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="mbdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="mbdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="mbdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="mbdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                  </div>\n                  <div class="layui-tab-item ">\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>\n                        动画时长                      \n                        <input class="input-short"  type="text" name="mbdTsDur"  style="width:50px; height:23px; margin-left:10px; padding-left:5px;" />\n                        <label class="label-con">秒</label>\n                      </legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="linear"  title="匀速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease"  title="逐渐变慢">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in"   title="减速">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-out"   title="加速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in-out"   title="加速后减速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="cubic-bezier"   title="动感弹跳">\n                      </div>\n                    </fieldset>\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>动画效果</legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx0" title="直接切换">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx1" title="渐隐渐显" >\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx4"  title="左对角线切入">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx5"  title="右对角线切入">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx6"  title="顺时针出现">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx7"  title="逆时针出现">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx8"  title="由点到线">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx9"  title="由点到面">\n                      </div>\n                    </fieldset>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认阴影</li>\n                  <li class="">鼠标划过阴影</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="shadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="shadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="sdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="mshadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="mshadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="msdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">划过显示速度</label>\n                      <div class="layui-input-inline" style="width:230px;">\n                        <input type="text" name="msdTsDur" class="layui-input input-short"  style="width:105px;display:inline-block;">\n                        <span style="color:red;">单位 秒   可以小数点</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认动画</li>\n                  <li class="">鼠标划过动画</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">显示方式</label>\n                      <div class="layui-input-inline" style="width: 326px;">\n                        <input class="radio-medium" type="radio" name="disMode" value=""  title="始终显示">\n                        <input class="radio-medium" type="radio" name="disMode" value="xins-box-fadein"  title="淡入显示">\n                        <input class="radio-medium" type="radio" name="disMode" value="xins-box-fadeout"  title="淡出消失">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">旋转特效</label>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxz">\n                            <option value="" selected="selected">无效果</option>\n                            <option value="xins-mr-r">顺时针旋转</option>\n                            <option value="xins-mr-fr">逆时针旋转</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxzv"  class="ant-spin-v" >\n                        </select>\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">缩放特效</label>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrsf"  class="ant-mr-zoom">\n                        </select>\n                      </div>\n                    </div>\n \n                  </div>\n                  <div class="layui-tab-item">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">动画速度</label>\n                      <div class="layui-input-inline" style="width: 148px;">\n                        <input type="text" name="mvTsDur" class="layui-input">\n                      </div>\n                      <label class="layui-form-label" style="width: 65px;padding-left:0px;padding-right:5px">动画延迟</label>\n                      <div class="layui-input-inline" style="width: 65px;">\n                        <input type="text" name="mvTsDelay" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">动画特效</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvTsBezier"  class="ant-bezier">\n                        </select>\n                      </div>\n                      <label class="layui-form-label" style="width:40px;padding-left:0px;padding-right:5px">程度</label>\n                      <div class="layui-input-inline" style="width:85px;">\n                        <select  name="mvTsBezierv" >\n                          <option value="b" selected="selected">强</option>\n                          <option value="m">中</option>\n                          <option value="s">弱</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">横向移动</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvTsModeX" >\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-lx">向左移动</option>\n                          <option value="xins-box-rx">向右移动</option>\n                          <option value="xins-box-fromleft">从左进入</option>\n                          <option value="xins-box-fromright">从右进入</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select  name="mvTsModeXv"  class="ant-move-v">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">纵向移动</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvTsModeY" >\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-uy">向上移动</option>\n                          <option value="xins-box-dy">向下移动</option>\n                          <option value="xins-box-fromtop">从上进入</option>\n                          <option value="xins-box-frombottom">从下进入</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select  name="mvTsModeYv"  class="ant-move-v">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">旋转特效</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvxz" >\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-r">顺时针旋转</option>\n                          <option value="xins-box-fr">逆时针旋转</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select  name="mvxzv"  class="ant-spin-v">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">缩放特效</label>\n                      <div class="layui-input-inline"  style="width: 150px;">\n                        <select name="mvsf" class="ant-mv-zoom">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">翻转特效</label>\n                      <div class="layui-input-inline"  style="width: 150px;">\n                        <select name="mvfz">\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-fx">横向翻转</option>\n                          <option value="xins-box-fy">纵向翻转</option>\n                          <option value="xins-box-fxy">横向纵向同时翻转</option>\n                        </select>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgAntComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(linkMode)",function(t){console.log(t),r.onLinkModeChanged(e,t.value)}),n.on("submit(imgAntComponentForm)",function(n){return t.formData=n.field,t.update(t.formData),t.updatePropPanel(),t.formData.animType=e.find(".animselect > div.active").data("val"),console.log(t.formData),a.close(i),!1}),n.val("imgAntComponentForm",t.formData)},p.prototype.update=function(t){var a=this,e=t.bRadius?parseInt(t.bRadius):"",i=a.$content.parent().parent(),n=a.$content.parent(),s=!1,o=a.$content.attr("mrxz");if(""!=t.mrxz){var d=t.mrxz+t.mrxzv;1!=l.isEmpty(o)&&a.$content.removeClass(o),a.$content.addClass(d),a.$content.attr("mrxz",d),s=!0}else 1!=l.isEmpty(o)&&(a.$content.removeClass(o),a.$content.removeAttr("mrxz"));var p=a.$content.attr("mrsf");if(""!=t.mrsf){var m=t.mrsf;1!=l.isEmpty(p)&&n.removeClass(p),n.addClass(m),a.$content.attr("mrsf",m),s=!0}else 1!=l.isEmpty(p)&&(n.removeClass(p),a.$content.removeAttr("mrsf"));if(s?i.addClass("mr"):i.removeClass("mr"),"on"===t.shadow){var c=t.sdX?t.sdX:0,u=t.sdY?t.sdY:0,f=r.boxShadow(c,u,t.sdBlur,t.sdSize,t.sdColor);a.$content.css("box-shadow",f)}else a.$content.css("box-shadow","none");var h=a.$content.find(".mchild");if("on"===t.mshadow){c=t.msdX?t.msdX:0,u=t.msdY?t.msdY:0;var v=r.boxShadow(c,u,t.msdBlur,t.msdSize,t.msdColor);h.length<=0&&a.$content.append("<div class='abs mchild xins-box-fadein'></div>"),(h=a.$contentBox.find(".mchild")).css("box-shadow",v),h.css("border-radius",e);var b=t.msdTsDur?t.msdTsDur+"s linear":0;h.css("transition",b)}else h.remove();t.bgImg&&a.$img.attr("src",t.bgImg),a.$content.css("border-radius",e),a.$img.bind("load",function(){"true"===t.bgImgSize&&(a.$el.width(a.$img.width()),a.$el.height(a.$img.height()))});var y=t.imgMode;if("cut"===y){var g=r.bgImage(t.bgImg,t.bgColor,"","","");a.$content.css("background",g),a.$img.is(":visible")&&a.$img.hide()}else a.$content.css("background","none"),a.$content.css("background-color",t.bgColor),"full"===y?(a.$img.css("width","100%"),a.$img.css("height","100%")):"scaleX"===y?(a.$img.css("height","100%"),a.$img.css("width","")):"scaleY"===y&&(a.$img.css("width","100%"),a.$img.css("height","")),a.$img.show();var x=this.$content,D=""!=t.bdWidth?parseInt(t.bdWidth):"",w=this.$content.find(".bk-aline");"on"===t.bdT||"on"===t.bdB||"on"===t.bdL||"on"===t.bdR?(w.length<=0&&x.append("<div class='bk-aline'></div>"),(w=this.$content.find(".bk-aline")).css("border-radius",e),"on"===t.bdT?w.css("border-top-width",D):w.css("border-top-width",0),"on"===t.bdB?w.css("border-bottom-width",D):w.css("border-bottom-width",0),"on"===t.bdL?w.css("border-Left-width",D):w.css("border-Left-width",0),"on"===t.bdR?w.css("border-right-width",D):w.css("border-right-width",0),w.css("border-style",t.bdStyle),w.css("border-color",t.bdColor)):w.remove();var k=this.$content.attr("mbdTsAnt");if(this.$content.removeClass(k),this.$content.addClass(t.mbdTsAnt),this.$content.attr("mbdTsAnt",t.mbdTsAnt),"on"===t.mbdT||"on"===t.mbdB||"on"===t.mbdL||"on"===t.mbdR){var $="cubic-bezier"===t.mbdTsFun?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":t.mbdTsFun,T=t.mbdTsDur+"s",C=""!=t.mbdWidth?parseInt(t.mbdWidth):0,S=t.mbdStyle,B=t.mbdColor,z=this.$contentBox.find(".bk-mline");z.length<=0&&x.append("<div class='bk-mline'></div>"),(z=this.$contentBox.find(".bk-mline")).css("border-radius",e),z.css("border-color",B),z.css("border-style",S),z.css("transition-timing-function",$),z.css("transition-duration",T);var M=this.$contentBox.find(".w-lt");"on"===t.mbdT?(M.length<=0&&x.append("<div class='bk-line  w-lt'></div>"),(M=this.$contentBox.find(".w-lt")).css("border-top-width",C),M.css("border-top-style",S),M.css("border-top-color",B),M.css("transition-timing-function",$),M.css("transition-duration",T),z.css("border-top-width",C)):(z.css("border-top-width",0),M.remove());var I=this.$contentBox.find(".w-lb");"on"===t.mbdB?(I.length<=0&&x.append("<div class='bk-line  w-lb'></div>"),(I=this.$contentBox.find(".w-lb")).css("border-bottom-width",C),I.css("border-bottom-style",S),I.css("border-bottom-color",B),I.css("transition-timing-function",$),I.css("transition-duration",T),z.css("border-bottom-width",C)):(z.css("border-bottom-width",0),I.remove());var A=this.$contentBox.find(".w-ll");"on"===t.mbdL?(A.length<=0&&x.append("<div class='bk-line  w-ll'></div>"),(A=this.$contentBox.find(".w-ll")).css("border-left-width",C),A.css("border-left-style",S),A.css("border-left-color",B),A.css("transition-timing-function",$),A.css("transition-duration",T),z.css("border-left-width",C)):(z.css("border-left-width",0),A.remove());var E=this.$contentBox.find(".w-lr");"on"===t.mbdR?(E.length<=0&&x.append("<div class='bk-line  w-lr'></div>"),(E=this.$contentBox.find(".w-lr")).css("border-right-width",C),E.css("border-right-style",S),E.css("border-right-color",B),E.css("transition-timing-function",$),E.css("transition-duration",T),z.css("border-right-width",C)):(z.css("border-right-width",0),E.remove()),"bdtx0"===t.mbdTsAnt||"bdtx1"===t.mbdTsAnt?(M.remove(),I.remove(),A.remove(),E.remove()):z.remove()}},p.prototype.updatePropPanel=function(){var t=this.$propPanel,a=t.find("select[name=mrxz]");a.val(this.formData.mrxz),t.find("select[name=mrxzv]").val(this.formData.mrxzv),r.onDisabledChanged(t,a,this.formData.mrxz),t.find("select[name=mrsf]").val(this.formData.mrsf);var e=t.find("select[name=mvTsModeX]");e.val(this.formData.mvTsModeX),t.find("select[name=mvTsModeXv]").val(this.formData.mvTsModeXv),r.onDisabledChanged(t,e,this.formData.mvTsModeX);var i=t.find("select[name=mvTsModeY]");i.val(this.formData.mvTsModeY),t.find("select[name=mvTsModeYv]").val(this.formData.mvTsModeYv),r.onDisabledChanged(t,i,this.formData.mvTsModeY);var n=t.find("select[name=mvxz]");n.val(this.formData.mvxz),t.find("select[name=mvxzv]").val(this.formData.mvxzv),r.onDisabledChanged(t,n,this.formData.mvxz),t.find("select[name=mvsf]").val(this.formData.mvsf),t.find("select[name=mvfz]").val(this.formData.mvfz),t.find("input[type=text][name=mvTsDur]").val(this.formData.mvTsDur),t.find("input[type=text][name=mvTsDelay]").val(this.formData.mvTsDelay),t.find("select[name=mvTsBezier]").val(this.formData.mvTsBezier),t.find("select[name=mvTsBezierv]").val(this.formData.mvTsBezierv),t.find("input[type=radio][name=disMode]").filter('[value="'+this.formData.disMode+'"]').prop("checked",!0),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg);var s=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?s.prop("checked",!0):s.prop("checked",!1),t.find("#imgMode").val(this.formData.imgMode),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var o=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?o.prop("checked",!0):o.prop("checked",!1),r.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=bRadius]").val(this.formData.bRadius),t.find("input[type=radio][name=overMode]").filter('[value="'+this.formData.overMode+'"]').prop("checked",!0);var l=t.find("input[type=checkbox][name=bdT]");"on"===this.formData.bdT?l.prop("checked",!0):l.prop("checked",!1);var d=t.find("input[type=checkbox][name=bdB]");"on"===this.formData.bdB?d.prop("checked",!0):d.prop("checked",!1);var p=t.find("input[type=checkbox][name=bdL]");"on"===this.formData.bdL?p.prop("checked",!0):p.prop("checked",!1);var m=t.find("input[type=checkbox][name=bdR]");"on"===this.formData.bdR?m.prop("checked",!0):m.prop("checked",!1),t.find("input[type=text][name=bdWidth]").val(this.formData.bdWidth),t.find("input[type=radio][name=bdStyle]").filter('[value="'+this.formData.bdStyle+'"]').prop("checked",!0);var c=t.find("input[type=text][name=bdColor]");c.val(this.formData.bdColor),this.formData.bdColor?c.prev().find(".sp-preview-inner").css("background-color",this.formData.bdColor):c.prev().find(".sp-preview-inner").css("background-color","");var u=t.find("input[type=checkbox][name=mbdT]");"on"===this.formData.mbdT?u.prop("checked",!0):u.prop("checked",!1);var f=t.find("input[type=checkbox][name=mbdB]");"on"===this.formData.mbdB?f.prop("checked",!0):f.prop("checked",!1);var h=t.find("input[type=checkbox][name=mbdL]");"on"===this.formData.mbdL?h.prop("checked",!0):h.prop("checked",!1);var v=t.find("input[type=checkbox][name=mbdR]");"on"===this.formData.mbdR?v.prop("checked",!0):v.prop("checked",!1),t.find("input[type=text][name=mbdWidth]").val(this.formData.mbdWidth),t.find("input[type=radio][name=mbdStyle]").filter('[value="'+this.formData.mbdStyle+'"]').prop("checked",!0);var b=t.find("input[type=text][name=mbdColor]");b.val(this.formData.mbdColor),this.formData.mbdColor?b.prev().find(".sp-preview-inner").css("background-color",this.formData.mbdColor):b.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=mbdTsDur]").val(this.formData.mbdTsDur),t.find("input[type=radio][name=mbdTsFun]").filter('[value="'+this.formData.mbdTsFun+'"]').prop("checked",!0),t.find("input[type=radio][name=mbdTsAnt]").filter('[value="'+this.formData.mbdTsAnt+'"]').prop("checked",!0)},p.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var a=$(".img-ant-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),l.setAntSpinvOption(a.find(".ant-spin-v")),l.setAntBezierOption(a.find(".ant-bezier")),l.setAntMrZoomOption(a.find(".ant-mr-zoom")),l.setAntMvZoomOption(a.find(".ant-mv-zoom")),l.setAntMovevOption(a.find(".ant-move-v")),this.updatePropPanel(),layui.element.render("collapse"),a.find("input[type=text][name=mvTsDur]").change(function(){var a=$(this).val();t.formData.mvTsDur=a}),a.find("input[type=text][name=mvTsDelay]").change(function(){var a=$(this).val();t.formData.mvTsDelay=a}),a.find("select[name=mvTsBezier]").change(function(){t.formData.mvTsBezier=$(this).prop("value")}),a.find("select[name=mvTsBezierv]").change(function(){t.formData.mvTsBezierv=$(this).prop("value")}),a.find("select[name=mrsf]").change(function(){t.formData.mrsf=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=mrxz]").change(function(){t.formData.mrxz=$(this).prop("value"),t.update(t.formData),r.onDisabledChanged(a,$(this),t.formData.mrxz)}),a.find("select[name=mrxzv]").change(function(){t.formData.mrxzv=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=mvTsModeXv]").change(function(){t.formData.mvTsModeXv=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=mvTsModeX]").change(function(){t.formData.mvTsModeX=$(this).prop("value"),t.update(t.formData),r.onDisabledChanged(a,$(this),t.formData.mvTsModeX)}),a.find("select[name=mvTsModeYv]").change(function(){t.formData.mvTsModeYv=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=mvTsModeY]").change(function(){t.formData.mvTsModeY=$(this).prop("value"),t.update(t.formData),r.onDisabledChanged(a,$(this),t.formData.mvTsModeY)}),a.find("select[name=mvxzv]").change(function(){t.formData.mvxzv=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=mvxz]").change(function(){t.formData.mvxz=$(this).prop("value"),t.update(t.formData),r.onDisabledChanged(a,$(this),t.formData.mvxz)}),a.find("select[name=mvsf]").change(function(){t.formData.mvsf=$(this).prop("value")}),a.find("select[name=mvfz]").change(function(){t.formData.mvfz=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=radio][name=disMode]").change(function(){var a=$(this).prop("value");t.formData.disMode=a}),a.find("input[type=radio][name=overMode]").change(function(){var a=$(this).prop("value");t.formData.overMode=a});var e=a.find("input[type=text][name=bgImg]");e.change(function(){t.formData.bgImg=e.val(),t.update(t.formData)}),a.find("input[type=checkbox][name=bgImgSize]").change(function(){var a=$(this).is(":checked");t.formData.bgImgSize=a?"true":"false",t.update(t.formData)}),a.find("#imgMode").change(function(){t.formData.imgMode=$(this).val(),t.update(t.formData)}),a.find("input[type=radio][name=linkMode]").change(function(){var e=$(this).prop("value");t.formData.linkMode=e,r.onLinkModeChanged(a,t.formData.linkMode)}),a.find("input[type=text][name=href]").change(function(){var a=$(this).val();t.formData.href=a}),a.find("input[type=checkbox][name=hrefMode]").change(function(){var a=$(this).is(":checked");t.formData.hrefMode=a?"_blank":""}),a.find("input[type=text][name=wangID]").change(function(){var a=$(this).val();t.formData.wangID=a}),a.find("input[type=text][name=bRadius]").keyup(function(){t.formData.bRadius=$(this).val(),t.update(t.formData)}),a.find("input[type=checkbox][name=bdT]").change(function(){var a=$(this).is(":checked");t.formData.bdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdB]").change(function(){var a=$(this).is(":checked");t.formData.bdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdL]").change(function(){var a=$(this).is(":checked");t.formData.bdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdR]").change(function(){var a=$(this).is(":checked");t.formData.bdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=bdWidth]").keyup(function(){var a=$(this).val();t.formData.bdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=bdColor]").change(function(){var a=$(this).val();t.formData.bdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=bdStyle]").change(function(){var a=$(this).prop("value");t.formData.bdStyle=a,t.update(t.formData)}),a.find("input[type=checkbox][name=mbdT]").change(function(){var a=$(this).is(":checked");t.formData.mbdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdB]").change(function(){var a=$(this).is(":checked");t.formData.mbdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdL]").change(function(){var a=$(this).is(":checked");t.formData.mbdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdR]").change(function(){var a=$(this).is(":checked");t.formData.mbdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=mbdWidth]").keyup(function(){var a=$(this).val();t.formData.mbdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=mbdColor]").change(function(){var a=$(this).val();t.formData.mbdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdStyle]").change(function(){var a=$(this).prop("value");t.formData.mbdStyle=a,t.update(t.formData)}),a.find("input[type=text][name=mbdTsDur]").keyup(function(){var a=$(this).val();t.formData.mbdTsDur=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsFun]").change(function(){var a=$(this).prop("value");t.formData.mbdTsFun=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsAnt]").change(function(){var a=$(this).prop("value");t.formData.mbdTsAnt=a,t.update(t.formData)}),a.find(".layui-btn-sm").on("click",function(){var e=layui.layer;e.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(i){r.onTongBuBd(a,!0,t),t.update(t.formData),e.close(i)}})}),a.find(".editor-btns").on("click",function(){t.openEditDialog()})},p.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xtcl",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},p);function p(){var t=s.call(this,"img-ant-component")||this;return t.$content=$('<a class="xdtb ywimg-box"><img src="" style="display:none"></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}a.default=d},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s,o=e(1),l=e(2),r=e(0),d=(n(p,s=o.default),p.prototype.toHtml=function(){var t,a,e,i,n,s,o,l,d,p,m=[];t=this.$el.css("top"),a=this.$el.css("left"),e=this.$el.width(),i=this.$el.height(),n=r.valEmpty(this.formData.bRadius),p=r.valEmpty(this.formData.href),o=r.valEmpty(this.formData.hrefMode),s=r.valEmpty(this.formData.linkMode),l=r.valEmpty(this.formData.wangID),d=r.wwUrl(p,s,l,22),p=""!=p?' href="'+d+'"':"",o="_blank"===o?' target="_blank"':"";var c,u,f,h,v,b,y,g,x,D,w,k,$,T,C=""!=n?"border-radius:"+n+"px;":"";if(c=(h="")!=r.valEmpty(this.formData.mTsDur)?this.formData.mTsDur+"s ":"",u=""!=r.valEmpty(this.formData.mTsDelay)?this.formData.mTsDelay+"s ":"",f=(f=c+r.BezierCss(this.formData.mTsBezier,this.formData.mTsBezierv)+u)?"transition:"+f+";":"",b=this.formData.bgImg,y=this.formData.bgColor,g=this.formData.bgPos,v=""!=(v=r.bgImage(b,y,"",g,""))?"background:"+v+";":"",m.push('<div class="on" style="'+v+f+'"></div>'),x=this.formData.mbgImg,D=this.formData.mbgColor,""!=x||""!=x){var S,B=void 0;S=this.formData.mbgPos,B=""!=(B=r.bgImage(x,D,"",S,""))?"background:"+B+";":"",m.push('<div class="off" style="'+B+f+'"></div>'),h=this.formData.mTsAnt}w=r.valEmpty(this.formData.mrxz),k=r.valEmpty(this.formData.mrxzv),(T=$="")!=w&&""!=k&&($=" "+w+k,T=" mr");var z=r.ShadowStyle(this.formData),M=z.onShadow,I=z.offShadow,A=r.valEmpty(this.formData.mbdTsAnt),E=r.BorderHtml(this.formData);return m.push(E.Html),'<div class="abs xdtb xtxc '+T+'" style="top: '+t+"; left:"+a+"; width:"+e+"px; height:"+i+"px;"+C+'" > <div class="yw-100'+$+'">'+I+'<a   class="ywlink  ant-text '+A+" "+h+'" '+p+o+'  style="'+M+C+f+'overflow: hidden;position:relative;">'+m.join("")+"</a></div></div>"},p.prototype.initFormData=function(){this.formData.appLabel="",this.formData.bgImgSize="true",this.formData.bgImg="http://img04.taobaocdn.com/imgextra/i4/808048452/TB2bMZZcpXXXXb5XXXXXXXXXXXX-808048452.jpg",this.formData.bgColor="",this.formData.bgPos="50% 50%",this.formData.mrxz="",this.formData.mrxzv="20",this.formData.mbgImg="http://img04.taobaocdn.com/imgextra/i4/808048452/TB2BLE3cpXXXXXIXXXXXXXXXXXX-808048452.jpg",this.formData.mbgColor="",this.formData.mbgPos="50% 50%",this.formData.linkMode="urlink",this.formData.hrefMode="_blank",this.formData.href="",this.formData.wangID="",this.formData.bdRadius="",this.formData.mTsDur="0.5",this.formData.mTsAnt="atrans16",this.formData.shadow="off",this.formData.sdColor="#666666",this.formData.sdSize="",this.formData.sdBlur="5",this.formData.sdX="",this.formData.sdY="",this.formData.mshadow="on",this.formData.msdColor="#E93030",this.formData.msdSize="",this.formData.msdBlur="5",this.formData.msdX="",this.formData.msdY="",this.formData.msdTsDur="0.5",this.formData.bdWidth=5,this.formData.bdStyle="solid",this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdTsAnt="bdtx1",this.update(this.formData)},p.prototype.openEditDialog=function(){var t=this,a=layui.layer,e=null,i=a.open({type:1,title:"双面图片设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){e=$(i),l.setAntSpinvOption(e.find(".ant-spin-v")),l.setAntBezierOption(e.find(".ant-bezier")),e.find(".sp-preview-inner").css("background-color",""),t.formData.bgColor&&e.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.mbgColor&&e.find("input[type=text][name=mbgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbgColor),t.formData.bdColor&&e.find("input[type=text][name=bdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bdColor),t.formData.mbdColor&&e.find("input[type=text][name=mbdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbdColor),t.formData.sdColor&&e.find("input[type=text][name=sdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.sdColor),t.formData.msdColor&&e.find("input[type=text][name=msdColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.msdColor),e.find(".cancel-btn").on("click",function(){a.close(n)}),r.onLinkModeChanged(e,t.formData.linkMode),e.find(".layui-btn-sm").on("click",function(){var i=layui.form;a.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(n){r.onTongBuBd(e,!1,t),i.render(),a.close(n)}})})},content:'<form class="layui-form" lay-filter="imgZfComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n             <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认图片</li>\n                  <li class="">鼠标划过图片</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                    <div class="layui-form-item" style="margin-top:5px;">\n                      <label class="layui-form-label">应用名称</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="appLabel" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">图片地址</label>\n                      <div class="layui-input-inline">\n                        <input name="bgImg" type="text" class="layui-input">\n                      </div>\n                      <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">对齐方式</label>\n                      <div class="layui-input-inline">\n                        <select name="bgPos">\n                          <option value="0% 0%">左上</option>\n                          <option value="0% 50%">左中</option>\n                          <option value="0% 100%">左下</option>\n                          <option value="50% 0%">中上</option>\n                          <option value="50% 50%">正中</option>\n                          <option value="50% 100%">中下</option>\n                          <option value="100% 0%">右上</option>\n                          <option value="100% 50%">右中</option>\n                          <option value="100% 100%">右下</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">背景颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="bgColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">链接类型</label>\n                      <div class="layui-input-inline">\n                        <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                        <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                      </div>\n                    </div>\n                    <div class="layui-form-item link-box" style="display:none">\n                      <label class="layui-form-label">链接地址</label>\n                      <div class="layui-input-inline">\n                        <input name="href" type="text" class="layui-input">\n                      </div>\n                      <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n                    </div>\n                    <div class="layui-form-item wang-box" style="display:none">\n                      <label class="layui-form-label">旺旺ID</label>\n                      <div class="layui-input-inline">\n                        <input name="wangID" type="text" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">旋转特效</label>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxz">\n                            <option value="" selected="selected">无效果</option>\n                            <option value="xins-mr-r">顺时针旋转</option>\n                            <option value="xins-mr-fr">逆时针旋转</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxzv"  class="ant-spin-v" >\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">圆角度数</label>\n                      <div class="layui-input-inline">\n                        <input name="bRadius" type="text" class="layui-input">\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                    <div class="layui-form-item" style="margin-top:10px;">\n                      <label class="layui-form-label">图片地址</label>\n                      <div class="layui-input-inline">\n                        <input name="mbgImg" type="text" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">对齐方式</label>\n                      <div class="layui-input-inline">\n                        <select name="mbgPos">\n                          <option value="0% 0%">左上</option>\n                          <option value="0% 50%">左中</option>\n                          <option value="0% 100%">左下</option>\n                          <option value="50% 0%">中上</option>\n                          <option value="50% 50%">正中</option>\n                          <option value="50% 100%">中下</option>\n                          <option value="100% 0%">右上</option>\n                          <option value="100% 50%">右中</option>\n                          <option value="100% 100%">右下</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">背景颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="mbgColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n               \n\n\n                  </div>\n                </div>\n              </div>\n\n            </div>\n            <div  class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认边框</li>\n                  <li class="">鼠标划过动画</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>默认边框</legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="bdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="bdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="bdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="bdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="bdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="bdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                    <fieldset class="layui-elem-field" style="margin-top:20px;">\n                      <legend>\n                        <span  style="margin-right:15px;  display:inline-block"> 鼠标_移上边框 </span>\n                        <button type="button" class="layui-btn layui-btn-sm">同步默认边框</button>\n                      </legend>\n                      <div class="layui-field-box">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-block">\n                            <input type="checkbox" name="mbdT" value="on" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="mbdB" value="on" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="mbdL" value="on" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="mbdR" value="on" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short" style="width:80px;"><input name="mbdWidth" type="text" class="layui-input"></div>\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="mbdColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-block">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                      </div>\n                    </fieldset>\n                  </div>\n                  <div class="layui-tab-item ">\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>\n                        动画时长                      \n                        <input class="input-short"  type="text" name="mbdTsDur"  style="width:50px; height:23px; margin-left:10px; padding-left:5px;" />\n                        <label class="label-con">秒</label>\n                      </legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="linear"  title="匀速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease"  title="逐渐变慢">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in"   title="减速">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-out"   title="加速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in-out"   title="加速后减速">\n                        <input class="radio-medium" type="radio" name="mbdTsFun" value="cubic-bezier"   title="动感弹跳">\n                      </div>\n                    </fieldset>\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>动画效果</legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx0" title="直接切换">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx1" title="渐隐渐显" >\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx4"  title="左对角线切入">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx5"  title="右对角线切入">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx6"  title="顺时针出现">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx7"  title="逆时针出现">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx8"  title="由点到线">\n                        <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx9"  title="由点到面">\n                      </div>\n                    </fieldset>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认阴影</li>\n                  <li class="">鼠标划过阴影</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="shadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="shadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="sdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="mshadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="mshadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="msdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">划过显示速度</label>\n                      <div class="layui-input-inline" style="width:230px;">\n                        <input type="text" name="msdTsDur" class="layui-input input-short"  style="width:105px;display:inline-block;">\n                        <span style="color:red;">单位 秒   可以小数点</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n                 \n\n              <fieldset  class="layui-elem-field"  >\n                 \n                <div class="layui-field-box">\n                  <div class="layui-form-item" >\n                    <label class="layui-form-label">动画速度</label>\n                    <div class="layui-input-inline" style="width: 148px;">\n                      <input type="text" name="mTsDur" class="layui-input">\n                    </div>\n                    <label class="layui-form-label" style="width: 65px;padding-left:0px;padding-right:5px">动画延迟</label>\n                    <div class="layui-input-inline" style="width: 65px;">\n                      <input type="text" name="mTsDelay" class="layui-input">\n                    </div>\n                  </div>\n                  <div class="layui-form-item">\n                    <label class="layui-form-label">动画特效</label>\n                    <div class="layui-input-inline" style="width:150px;">\n                      <select name="mTsBezier"  class="ant-bezier">\n                      </select>\n                    </div>\n                    <label class="layui-form-label" style="width:40px;padding-left:0px;padding-right:5px">程度</label>\n                    <div class="layui-input-inline" style="width:85px;">\n                      <select  name="mTsBezierv" >\n                        <option value="b" selected="selected">强</option>\n                        <option value="m">中</option>\n                        <option value="s">弱</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </fieldset>\n              <fieldset  class="layui-elem-field" style="margin-top:10px;">\n                <legend>动画效果</legend>\n                <div class="layui-field-box" style="padding-left:60px;">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans0" title="无效果">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans1" title="右切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans2"  title="下切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans3"  title="左切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans4"  title="上切入">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans5"  title="右切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans6"  title="下切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans7"  title="左切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans8"  title="上切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans9"  title="右切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans10"   title="下切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans11"   title="左切入切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans12"  title="上切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans13"  title="放大出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans14"  title="缩小出现">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans15"  title="翻转出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans16"  title="缩放出现1">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans17"  title="缩放出现2">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans18"  title="旋转放大">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans19"  title="旋转缩小">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans20"  title="渐隐渐显">\n                </div>\n              </fieldset>\n   \n\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgZfComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(linkMode)",function(t){console.log(t),r.onLinkModeChanged(e,t.value)}),n.on("submit(imgZfComponentForm)",function(n){return t.formData=n.field,t.update(t.formData),t.updatePropPanel(),t.formData.animType=e.find(".animselect > div.active").data("val"),console.log(t.formData),a.close(i),!1}),n.val("imgZfComponentForm",t.formData)},p.prototype.update=function(t){var a,e,i,n=this,s=t.bRadius?parseInt(t.bRadius):"",o=n.$content.parent().parent(),d=(n.$content.parent(),!1),p=n.$content.attr("mrxz");if(""!=t.mrxz){var m=t.mrxz+t.mrxzv;1!=l.isEmpty(p)&&n.$content.removeClass(p),n.$content.addClass(m),n.$content.attr("mrxz",m),d=!0}else 1!=l.isEmpty(p)&&(n.$content.removeClass(p),n.$content.removeAttr("mrxz"));d?o.addClass("mr"):o.removeClass("mr"),a=""!=r.valEmpty(this.formData.mTsDur)?this.formData.mTsDur+"s ":"",e=""!=r.valEmpty(this.formData.mTsDelay)?this.formData.mTsDelay+"s ":"",i=a+r.BezierCss(this.formData.mTsBezier,this.formData.mTsBezierv)+e;var c,u,f,h,v=this.$contentBox.find(".on");u=this.formData.bgImg,f=this.formData.bgColor,h=this.formData.bgPos,c=r.bgImage(u,f,"",h,""),v.css("background",c),v.css("transition",i);var b,y,g,x,D=this.$contentBox.find(".off"),w=this.$content.attr("mTsAnt");if(y=this.formData.mbgImg,g=this.formData.mbgColor,x=this.formData.mbgPos,b=r.bgImage(y,g,"",x,""),""!=y){D.remove();var k=this.formData.mTsAnt;"atrans5"==k||"atrans6"==k||"atrans7"===k||"atrans8"===k||"atrans9"===k||"atrans19"===k?this.$contentBox.find(".on").before("<div class='off' ></div>"):this.$contentBox.find(".on").after("<div class='off'   ></div>"),(D=this.$contentBox.find(".off")).css("background",b),D.css("transition",i),1!=l.isEmpty(w)&&this.$content.removeClass(w),this.$content.addClass(k),this.$content.attr("mTsAnt",k)}else D.remove(),1!=l.isEmpty(w)&&this.$content.removeClass(w),this.$content.attr("mTsAnt","");if(t.bgImg&&n.$img.attr("src",t.bgImg),n.$img.bind("load",function(){"true"===t.bgImgSize&&(n.$el.width(n.$img.width()),n.$el.height(n.$img.height()))}),"on"===t.shadow){var $=t.sdX?t.sdX:0,T=t.sdY?t.sdY:0,C=r.boxShadow($,T,t.sdBlur,t.sdSize,t.sdColor);n.$content.css("box-shadow",C)}else n.$content.css("box-shadow","none");var S=n.$content.find(".mchild");if("on"===t.mshadow){$=t.msdX?t.msdX:0,T=t.msdY?t.msdY:0;var B=r.boxShadow($,T,t.msdBlur,t.msdSize,t.msdColor);S.length<=0&&n.$content.append("<div class='abs mchild xins-box-fadein'></div>"),(S=n.$contentBox.find(".mchild")).css("box-shadow",B),S.css("border-radius",s);var z=t.msdTsDur?t.msdTsDur+"s linear":0;S.css("transition",z)}else S.remove();n.$content.css("border-radius",s);var M=this.$content,I=""!=t.bdWidth?parseInt(t.bdWidth):"",A=this.$content.find(".bk-aline");"on"===t.bdT||"on"===t.bdB||"on"===t.bdL||"on"===t.bdR?(A.length<=0&&M.append("<div class='bk-aline'></div>"),(A=this.$content.find(".bk-aline")).css("border-radius",s),"on"===t.bdT?A.css("border-top-width",I):A.css("border-top-width",0),"on"===t.bdB?A.css("border-bottom-width",I):A.css("border-bottom-width",0),"on"===t.bdL?A.css("border-Left-width",I):A.css("border-Left-width",0),"on"===t.bdR?A.css("border-right-width",I):A.css("border-right-width",0),A.css("border-style",t.bdStyle),A.css("border-color",t.bdColor)):A.remove(),this.$content.attr("mbdTsAnt",this.formData.mbdTsAnt);var E=this.$content.attr("mbdTsAnt");if(this.$content.removeClass(E),this.$content.addClass(t.mbdTsAnt),this.$content.attr("mbdTsAnt",t.mbdTsAnt),"on"===t.mbdT||"on"===t.mbdB||"on"===t.mbdL||"on"===t.mbdR){var P="cubic-bezier"===t.mbdTsFun?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":t.mbdTsFun,L=t.mbdTsDur+"s",R=""!=t.mbdWidth?parseInt(t.mbdWidth):0,_=t.mbdStyle,F=t.mbdColor,X=this.$contentBox.find(".bk-mline");X.length<=0&&M.append("<div class='bk-mline'></div>"),(X=this.$contentBox.find(".bk-mline")).css("border-radius",s),X.css("border-color",F),X.css("border-style",_),X.css("transition-timing-function",P),X.css("transition-duration",L);var W=this.$contentBox.find(".w-lt");"on"===t.mbdT?(W.length<=0&&M.append("<div class='bk-line  w-lt'></div>"),(W=this.$contentBox.find(".w-lt")).css("border-top-width",R),W.css("border-top-style",_),W.css("border-top-color",F),W.css("transition-timing-function",P),W.css("transition-duration",L),X.css("border-top-width",R)):(X.css("border-top-width",0),W.remove());var H=this.$contentBox.find(".w-lb");"on"===t.mbdB?(H.length<=0&&M.append("<div class='bk-line  w-lb'></div>"),(H=this.$contentBox.find(".w-lb")).css("border-bottom-width",R),H.css("border-bottom-style",_),H.css("border-bottom-color",F),H.css("transition-timing-function",P),H.css("transition-duration",L),X.css("border-bottom-width",R)):(X.css("border-bottom-width",0),H.remove());var O=this.$contentBox.find(".w-ll");"on"===t.mbdL?(O.length<=0&&M.append("<div class='bk-line  w-ll'></div>"),(O=this.$contentBox.find(".w-ll")).css("border-left-width",R),O.css("border-left-style",_),O.css("border-left-color",F),O.css("transition-timing-function",P),O.css("transition-duration",L),X.css("border-left-width",R)):(X.css("border-left-width",0),O.remove());var Y=this.$contentBox.find(".w-lr");"on"===t.mbdR?(Y.length<=0&&M.append("<div class='bk-line  w-lr'></div>"),(Y=this.$contentBox.find(".w-lr")).css("border-right-width",R),Y.css("border-right-style",_),Y.css("border-right-color",F),Y.css("transition-timing-function",P),Y.css("transition-duration",L),X.css("border-right-width",R)):(X.css("border-right-width",0),Y.remove()),"bdtx0"===t.mbdTsAnt||"bdtx1"===t.mbdTsAnt?(W.remove(),H.remove(),O.remove(),Y.remove()):X.remove()}},p.prototype.updatePropPanel=function(){var t=this.$propPanel,a=t.find("select[name=mrxz]");a.val(this.formData.mrxz),t.find("select[name=mrxzv]").val(this.formData.mrxzv),r.onDisabledChanged(t,a,this.formData.mrxz),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg);var e=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?e.prop("checked",!0):e.prop("checked",!1);var i=t.find("input[type=text][name=bgColor]");i.val(this.formData.bgColor),this.formData.bgColor?i.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):i.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=mbgImg]").val(this.formData.mbgImg);var n=t.find("input[type=text][name=mbgColor]");n.val(this.formData.mbgColor),this.formData.mbgColor?n.prev().find(".sp-preview-inner").css("background-color",this.formData.mbgColor):n.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var s=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?s.prop("checked",!0):s.prop("checked",!1),r.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=bRadius]").val(this.formData.bRadius),t.find("input[type=text][name=mTsDur]").val(this.formData.mTsDur),t.find("input[type=text][name=mTsDelay]").val(this.formData.mTsDelay),t.find("select[name=mTsBezier]").val(this.formData.mTsBezier),t.find("select[name=mTsBezierv]").val(this.formData.mTsBezierv),t.find("input[type=radio][name=mTsAnt]").filter('[value="'+this.formData.mTsAnt+'"]').prop("checked",!0);var o=t.find("input[type=checkbox][name=bdT]");"on"===this.formData.bdT?o.prop("checked",!0):o.prop("checked",!1);var l=t.find("input[type=checkbox][name=bdB]");"on"===this.formData.bdB?l.prop("checked",!0):l.prop("checked",!1);var d=t.find("input[type=checkbox][name=bdL]");"on"===this.formData.bdL?d.prop("checked",!0):d.prop("checked",!1);var p=t.find("input[type=checkbox][name=bdR]");"on"===this.formData.bdR?p.prop("checked",!0):p.prop("checked",!1),t.find("input[type=text][name=bdWidth]").val(this.formData.bdWidth),t.find("input[type=radio][name=bdStyle]").filter('[value="'+this.formData.bdStyle+'"]').prop("checked",!0);var m=t.find("input[type=text][name=bdColor]");m.val(this.formData.bdColor),this.formData.bdColor?m.prev().find(".sp-preview-inner").css("background-color",this.formData.bdColor):m.prev().find(".sp-preview-inner").css("background-color","");var c=t.find("input[type=checkbox][name=mbdT]");"on"===this.formData.mbdT?c.prop("checked",!0):c.prop("checked",!1);var u=t.find("input[type=checkbox][name=mbdB]");"on"===this.formData.mbdB?u.prop("checked",!0):u.prop("checked",!1);var f=t.find("input[type=checkbox][name=mbdL]");"on"===this.formData.mbdL?f.prop("checked",!0):f.prop("checked",!1);var h=t.find("input[type=checkbox][name=mbdR]");"on"===this.formData.mbdR?h.prop("checked",!0):h.prop("checked",!1),t.find("input[type=text][name=mbdWidth]").val(this.formData.mbdWidth),t.find("input[type=radio][name=mbdStyle]").filter('[value="'+this.formData.mbdStyle+'"]').prop("checked",!0);var v=t.find("input[type=text][name=mbdColor]");v.val(this.formData.mbdColor),this.formData.mbdColor?v.prev().find(".sp-preview-inner").css("background-color",this.formData.mbdColor):v.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=mbdTsDur]").val(this.formData.mbdTsDur),t.find("input[type=radio][name=mbdTsFun]").filter('[value="'+this.formData.mbdTsFun+'"]').prop("checked",!0),t.find("input[type=radio][name=mbdTsAnt]").filter('[value="'+this.formData.mbdTsAnt+'"]').prop("checked",!0)},p.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var a=$(".img-zf-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),l.setAntSpinvOption(a.find(".ant-spin-v")),l.setAntBezierOption(a.find(".ant-bezier")),this.updatePropPanel(),layui.element.render("collapse"),a.find("select[name=mrxz]").change(function(){t.formData.mrxz=$(this).prop("value"),t.update(t.formData),r.onDisabledChanged(a,$(this),t.formData.mrxz)}),a.find("select[name=mrxzv]").change(function(){t.formData.mrxzv=$(this).prop("value"),t.update(t.formData)});var e=a.find("input[type=text][name=bgImg]");e.keyup(function(){t.formData.bgImg=e.val(),t.update(t.formData)}),a.find("input[type=checkbox][name=bgImgSize]").change(function(){var a=$(this).is(":checked");t.formData.bgImgSize=a?"true":"false",t.update(t.formData)}),a.find("select[name=bgPos]").change(function(){t.formData.bgPos=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=text][name=bgColor]").change(function(){var a=$(this).val();t.formData.bgColor=a,t.update(t.formData)}),a.find("input[type=text][name=mbgImg]").keyup(function(){t.formData.mbgImg=e.val(),t.update(t.formData)}),a.find("select[name=mbgPos]").change(function(){t.formData.mbgPos=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=text][name=mbgColor]").change(function(){var a=$(this).val();t.formData.mbgColor=a,t.update(t.formData)}),a.find("input[type=radio][name=linkMode]").change(function(){var e=$(this).prop("value");t.formData.linkMode=e,r.onLinkModeChanged(a,t.formData.linkMode)}),a.find("input[type=text][name=href]").change(function(){var a=$(this).val();t.formData.href=a}),a.find("input[type=checkbox][name=hrefMode]").change(function(){var a=$(this).is(":checked");t.formData.hrefMode=a?"_blank":""}),a.find("input[type=text][name=wangID]").change(function(){var a=$(this).val();t.formData.wangID=a}),a.find("input[type=text][name=bRadius]").keyup(function(){t.formData.bRadius=$(this).val(),t.update(t.formData)}),a.find("input[type=text][name=mTsDur]").keyup(function(){var a=$(this).val();t.formData.mTsDur=a,t.update(t.formData)}),a.find("input[type=text][name=mTsDelay]").keyup(function(){var a=$(this).val();t.formData.mTsDelay=a,t.update(t.formData)}),a.find("select[name=mTsBezier]").change(function(){t.formData.mTsBezier=$(this).prop("value"),t.update(t.formData)}),a.find("select[name=mTsBezierv]").change(function(){t.formData.mTsBezierv=$(this).prop("value"),t.update(t.formData)}),a.find("input[type=radio][name=mTsAnt]").change(function(){var a=$(this).prop("value");t.formData.mTsAnt=a,t.update(t.formData)}),a.find("input[type=checkbox][name=bdT]").change(function(){var a=$(this).is(":checked");t.formData.bdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdB]").change(function(){var a=$(this).is(":checked");t.formData.bdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdL]").change(function(){var a=$(this).is(":checked");t.formData.bdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=bdR]").change(function(){var a=$(this).is(":checked");t.formData.bdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=bdWidth]").keyup(function(){var a=$(this).val();t.formData.bdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=bdColor]").change(function(){var a=$(this).val();t.formData.bdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=bdStyle]").change(function(){var a=$(this).prop("value");t.formData.bdStyle=a,t.update(t.formData)}),a.find("input[type=checkbox][name=mbdT]").change(function(){var a=$(this).is(":checked");t.formData.mbdT=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdB]").change(function(){var a=$(this).is(":checked");t.formData.mbdB=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdL]").change(function(){var a=$(this).is(":checked");t.formData.mbdL=a?"on":"",t.update(t.formData)}),a.find("input[type=checkbox][name=mbdR]").change(function(){var a=$(this).is(":checked");t.formData.mbdR=a?"on":"",t.update(t.formData)}),a.find("input[type=text][name=mbdWidth]").keyup(function(){var a=$(this).val();t.formData.mbdWidth=a,t.update(t.formData)}),a.find("input[type=text][name=mbdColor]").change(function(){var a=$(this).val();t.formData.mbdColor=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdStyle]").change(function(){var a=$(this).prop("value");t.formData.mbdStyle=a,t.update(t.formData)}),a.find("input[type=text][name=mbdTsDur]").keyup(function(){var a=$(this).val();t.formData.mbdTsDur=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsFun]").change(function(){var a=$(this).prop("value");t.formData.mbdTsFun=a,t.update(t.formData)}),a.find("input[type=radio][name=mbdTsAnt]").change(function(){var a=$(this).prop("value");t.formData.mbdTsAnt=a,t.update(t.formData)}),a.find(".layui-btn-sm").on("click",function(){var e=layui.layer;e.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(i){r.onTongBuBd(a,!0,t),t.update(t.formData),e.close(i)}})}),a.find(".editor-btns").on("click",function(){t.openEditDialog()})},p.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xzfm",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},p);function p(){var t=s.call(this,"img-zf-component")||this;return t.$content=$('<a class="xdtb ywimg-box ant-text yw-hidden yw-rel"><div class="on"></div><img  style="display: none;"/></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}a.default=d},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),e(11),e(12),e(13),e(14),e(15);var i=e(16),n=e(23),s=e(24),o=e(25);$(function(){var t=new i.default;t.createStage(),new n.default(t),new o.default(t),new s.default(t)})},function(t,a,e){},function(t,a,e){},function(t,a,e){},function(t,a,e){},function(t,a){Array.prototype.remove=function(t){var a=this.indexOf(t);-1<a&&this.splice(a,1)}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(17),n=(s.prototype.createStage=function(){var t=new i.default;t.create(this.$el),this.curStage=t,this.stages.push(t)},s.prototype.setupHotkey=function(){var t=this;hotkeys("*",function(a,e){var i=t.curStage;a.preventDefault();var n=a.key;switch(console.log(n),n){case"ArrowUp":i.move1PX("up");break;case"ArrowDown":i.move1PX("down");break;case"ArrowLeft":i.move1PX("left");break;case"ArrowRight":i.move1PX("right");break;case"Delete":console.log(i.curSelectedComponent),i&&i.curSelectedComponent&&i.curSelectedComponent.deleteSelf()}}),hotkeys("ctrl+c,ctrl+v",function(t,a){a.key})},s);function s(){this.stages=[],this.curStage=null;var t=$(".stage-ct");this.stages=[],this.$el=t,this.setupHotkey()}a.default=n},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3),n=e(18),s=e(19),o=e(4),l=e(5),r=e(6),d=e(7),p=e(8),m=e(9),c=e(0),u=e(22),f=(h.prototype.create=function(t){var a,e,s,o,l=this,r=this.pageWidth,d=this.pageHeight,p=$('<div class="stage"></div>');t.append(p),a=$('\n      <div class="canvas-wrap">\n        <div>\n          <div class="canvas-box">\n            <div class="canvas">\n            </div>\n          </div>\n        </div>\n      </div> \n    '),this.paddingWidth=100*Math.ceil(p.width()/100),this.paddingHeight=100*Math.ceil(p.height()/100),this.isRuler?((o=new n.default).create(p),p.append(a)):(p.append(a),a.css("left",0),a.css("top",0)),e=a.find("> div"),s=a.find(".canvas"),this.$canvas=s,this.$canvasBox=a.find(".canvas-box"),this.$canvasWrap=a,this.$el=p,this.ruler=o,this.$scrollContent=e,this.createIScroll(),this.layoutCanvas(r,d);var m=o.$rulerX[0],c=o.$rulerY[0],u=this.EVENTS;m.addEventListener(u[0],function(t){var a=$('<div class="guide-line guide-lineX"><div></div></div>');l.$el.append(a);var e=new i.default(a[0],{snapAnchor:a[0].children[0],minLeft:20,axis:"y",cursor:"row-resize",resizable:!1});a.css("top",t.clientY-l.$el[0].getBoundingClientRect().top-a[0].children[0].offsetTop+"px"),e.start(t),e.onStop=function(t){e.$el.offsetTop<=15&&$(e.$el).remove()}}),c.addEventListener(u[0],function(t){var a=$('<div class="guide-line guide-lineY"><div></div></div>');l.$el.append(a);var e=new i.default(a[0],{snapAnchor:a[0].children[0],minTop:20,axis:"x",cursor:"col-resize",resizable:!1});a.css("left",t.clientX-l.$el[0].getBoundingClientRect().left-a[0].children[0].offsetLeft+"px"),e.start(t),e.onStop=function(t){e.$el.offsetLeft<=15&&$(e.$el).remove()}}),this.selector=e.selectable({disabled:!0}),this.setupEvent(),this.initPorpPanel(),this.recordOps(),this.checkStore(),this.autoStore()},h.prototype.createIScroll=function(t,a,e){void 0===t&&(t=!0),void 0===a&&(a=0),void 0===e&&(e=0),this.myScroll=new IScroll(this.$canvasWrap[0],{scrollX:!0,freeScroll:!0,startX:a,startY:e,probeType:3,scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,disableMouse:t,disablePointer:t,disableTouch:t});var i=this.ruler;this.myScroll.on("scroll",function(){i&&(i.setX(this.x),i.setY(this.y))})},h.prototype.layoutCanvas=function(t,a){var e,i,n,s,o,l;e=this.paddingWidth/2,i=this.paddingHeight/2,n=50*Math.ceil(t/50)+this.paddingWidth,s=50*Math.ceil(a/50)+this.paddingHeight,o=t<this.$canvasWrap.width()?n/2-this.$canvasWrap.width()/2:this.paddingWidth/2,l=a<this.$canvasWrap.height()?s/2-this.$canvasWrap.height()/2:this.paddingHeight/2,this.ruler.update(t,a,this.paddingWidth,this.paddingHeight),this.ruler&&(this.ruler.setX(-o),this.ruler.setY(-l)),this.$canvas.width(t),this.$canvas.height(a),this.$canvasBox.width(t),this.$canvasBox.height(a),this.$canvasBox.css("margin-left",e+"px"),this.$canvasBox.css("margin-top",i+"px"),this.$scrollContent.width(n),this.$scrollContent.height(s),this.myScroll.scrollTo(-o,-l),this.myScroll.refresh()},h.prototype.setCanvasSize=function(t,a){this.pageWidth=t,this.pageHeight=a,this.layoutCanvas(t,a)},h.prototype.setupEvent=function(){var t=this,a=this.EVENTS,e=this.$el[0],i=this.$canvas[0];e.addEventListener(a[1],function(a){var e=i.getBoundingClientRect(),n=t.getEventInfo(a),s=n.clientX-e.left,o=n.clientY-e.top;0<=s&&0<=o&&s<t.$canvas.width()&&o<t.$canvas.height()?(t.ruler.setCursorPos(s,o),t.ruler.showCursor()):t.ruler.hideCursor()}),i.addEventListener(a[0],function(e){if(e.target===i&&(t.unselectComponent(),t.state===h.STATE[0])){var n=i.getBoundingClientRect(),o=t,l=t.getEventInfo(e),r=l.clientX,d=l.clientY,p=null;document.addEventListener(a[1],m),document.addEventListener(a[2],function t(e){p&&(p.width()<p.minWidth||p.height()<p.minHeight)&&o.removeComponent(p),document.removeEventListener(a[1],m),document.removeEventListener(a[2],t)})}function m(t){null===p&&(p=new s.default,o.curSelectedComponent=p,o.addComponent(p),p.select(),p.showToolbar());var a,e,i,l,m=(t=o.getEventInfo(t)).clientX,c=t.clientY;i=m<r?r-(a=m):m-(a=r),l=c<d?d-(e=c):c-(e=d),o.setElementPos(p.$el,a-n.left,e-n.top,i,l),p.resetPositionInfo()}})},h.prototype.setState=function(t){if((this.state=t)===h.STATE[1]?this.selector.selectable("option","disabled",!1):this.selector.selectable("option","disabled",!0),t===h.STATE[2]){this.$canvas.addClass("handle");var a=this.myScroll.x,e=this.myScroll.y;this.myScroll.destroy(),this.createIScroll(!1,a,e)}else this.$canvas.removeClass("handle"),a=this.myScroll.x,e=this.myScroll.y,this.myScroll.destroy(),this.createIScroll(!0,a,e)},h.prototype.unselectComponent=function(){this.curSelectedComponent&&(this.curSelectedComponent.unselect(),this.curSelectedComponent=null)},h.prototype.selectComponent=function(t){null!=this.curSelectedComponent&&this.curSelectedComponent!=t&&this.curSelectedComponent.unselect(),t.select(),this.curSelectedComponent=t},h.prototype.setElementPos=function(t,a,e,i,n){t.css("left",a+"px"),t.css("top",e+"px"),t.css("width",i+"px"),t.css("height",n+"px")},h.prototype.isTouch=function(){return"ontouchstart"in window},h.prototype.getEventInfo=function(t){return this.isTouch()?t.targetTouches[0]:t},h.prototype.removeComponent=function(t){t.remove(),this.components.remove(t)},h.prototype.addComponent=function(t){t.mount(this),this.components.push(t)},h.prototype.setComponentAllowOverstep=function(t){this.components.forEach(function(a){t?a.drag.option("containment",!1):a.drag.option("containment","parent")})},h.prototype.generateJsonCode=function(){var t=this;return this.props.width=this.pageWidth,this.props.height=this.pageHeight,this.props.app=[],this.components.forEach(function(a){t.props.app.push(a.getProps())}),JSON.stringify(this.props)},h.prototype.generateHtmlCode=function(){var t=[];this.components.forEach(function(a){t.push(a.toHtml())});var a=c.bgImage(this.props.bgImg,this.props.bgColor,this.props.repeat,this.props.position,this.props.attachment);return'<div class="rel" style="position: relative; overflow: hidden;width: '+this.pageWidth+"px; height: "+this.pageHeight+"px;background: "+a+';">\n      '+t.join("")+"\n    </div>"},h.prototype.checkStore=function(){var t=localStorage.getItem("data"),a=this;if(t){var e=layui.layer;e.confirm("检测到您之前有正在编辑的内容，是否继续上次的操作？",{btn:["确定","关闭"],icon:3,title:"提示"},function(i){e.close(i);var n=JSON.parse(t);a.loadProp(n),a.recordOps()},function(){})}},h.prototype.autoStore=function(){var t=this;setInterval(function(){if(0<t.components.length){var a=t.generateJsonCode();localStorage.setItem("data",a)}},3e3)},h.prototype.recordOps=function(){this.history.add(this.generateJsonCode())},h.prototype.backOps=function(){var t=this.history.back();t&&this.loadProp(JSON.parse(t))},h.prototype.forwardOps=function(){var t=this.history.forward();t&&this.loadProp(JSON.parse(t))},h.prototype.moveBy=function(t,a,e){if(a){if("up"===t){var i=parseInt(a.$el.css("top"));i-=e,this.props.allowOverstep||i<0&&(i=0),a.$el.css("top",i)}else if("down"===t){var n=a.height(),s=parseInt(a.$el.css("top"));s+=e,this.props.allowOverstep||s+n>this.props.height&&(s=this.props.height-n),a.$el.css("top",s)}else if("left"===t){var o=parseInt(a.$el.css("left"));o-=e,this.props.allowOverstep||o<0&&(o=0),a.$el.css("left",o)}else if("right"===t){var l=a.width();o=parseInt(a.$el.css("left")),o+=e,this.props.allowOverstep||o+l>this.props.width&&(o=this.props.width-l),a.$el.css("left",o)}a.resetPositionInfo()}},h.prototype.move1PX=function(t){this.moveBy(t,this.curSelectedComponent,1)},h.prototype.getRandomStr=function(t){for(var a=[],e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];t--;)a.push(e[Math.floor(e.length*Math.random())]);return a.join("")},h.prototype.clear=function(){this.components.forEach(function(t){t.remove()}),this.components=[]},h.prototype.dragScroll=function(t,a){var e=this,i=this.$canvasWrap[0].getBoundingClientRect(),n=i.left,s=i.top,o=i.width,l=i.height,r=-this.paddingWidth/2,d=-(this.pageWidth+this.paddingWidth/2-this.$canvasWrap.width()),p=-this.paddingHeight/2,m=-(this.pageHeight+this.paddingHeight/2-this.$canvasWrap.height());t.clientX<n?this.dragScrollTimer=setInterval(function(){2===a.dragStatus?e.myScroll.x<r?(e.myScroll.scrollBy(2,0),e.ruler.setX(e.myScroll.x)):(e.myScroll.scrollTo(r,e.myScroll.y),clearInterval(e.dragScrollTimer)):clearInterval(e.dragScrollTimer)},10):t.clientX>n+o-10?this.dragScrollTimer=setInterval(function(){2===a.dragStatus?e.myScroll.x>d?(e.myScroll.scrollBy(-2,0),e.ruler.setX(e.myScroll.x)):(e.myScroll.scrollTo(d,e.myScroll.y),clearInterval(e.dragScrollTimer)):clearInterval(e.dragScrollTimer)},10):t.clientY<s?this.dragScrollTimer=setInterval(function(){2===a.dragStatus?e.myScroll.y<p?(e.myScroll.scrollBy(0,2),e.ruler.setY(e.myScroll.y)):(e.myScroll.scrollTo(e.myScroll.x,p),clearInterval(e.dragScrollTimer)):clearInterval(e.dragScrollTimer)},10):t.clientY>s+l-10&&(this.dragScrollTimer=setInterval(function(){2===a.dragStatus?e.myScroll.y>m?(e.myScroll.scrollBy(0,-2),e.ruler.setY(e.myScroll.y)):(e.myScroll.scrollTo(e.myScroll.x,m),clearInterval(e.dragScrollTimer)):clearInterval(e.dragScrollTimer)},10))},h.prototype.loadProp=function(t){this.props=t;var a=this.propPanel,e=a.$el,i=a.$inputWidth,n=a.$alignSelect,s=a.$inputHeight,o=a.$allowOverstep,l=a.$inputBg;i.val(t.width),s.val(t.height),l.val(t.bgImg),n.val(t.position),"transparent"===t.bgColor?(this.$canvasBox.addClass("bg-trans"),this.$canvas.css("background-color","transparent"),$("#inputBgColor").val("").change()):(this.$canvasBox.removeClass("bg-trans"),this.$canvas.css("background-color",t.bgColor),$("#inputBgColor").val(t.bgColor).change()),"hidden"===t.overflow?(o.removeClass("active"),this.setComponentAllowOverstep(!1)):"visible"===t.overflow&&(o.addClass("active"),this.setComponentAllowOverstep(!0)),"repeat"===t.repeat&&e.find(".page-check[data-val=repeat]").addClass("active"),t.attachment&&e.find(".page-check[data-val=fixed]").addClass("active"),this.setBackground(),this.setCanvasSize(t.width,t.height),this.loadApp(t.app)},h.prototype.loadApp=function(t){var a=this;this.clear(),t.forEach(function(t){var e=null;"xrq"===t.appType?e=new s.default:"xdtb"===t.appType?e=new o.default:"xtcl"===t.appType?e=new p.default:"xwzb"===t.appType?e=new l.default:"wangh"===t.appType?e=new r.default:"xvb"===t.appType?e=new d.default:"xzfm"===t.appType&&(e=new m.default),e.formData=t.config,e.update(e.formData),e.setPosition(t.pos),a.addComponent(e)})},h.prototype.calcWidth=function(){for(var t=0,a=0,e=0,i=this.components;e<i.length;e++){var n=i[e],s=parseInt(n.$el.css("left")),o=n.width();a<s&&(t=(a=s)+o)}return t},h.prototype.calcHeight=function(){for(var t=0,a=0,e=0,i=this.components;e<i.length;e++){var n=i[e],s=parseInt(n.$el.css("top")),o=n.height();a<s&&(t=(a=s)+o)}return t},h.prototype.setBackground=function(){var t=this.props.attachment?this.props.attachment:"scroll",a=this.props.repeat?this.props.repeat:"no-repeat",e=this.props.position,i=this.props.bgImg,n=c.bgImage(i,this.props.bgColor,a,e,t);this.$canvas.css("background",n)},h.prototype.initPorpPanel=function(){var t=$(".page-config"),a=t.find(".input-width"),e=t.find(".input-height"),i=t.find(".input-bg"),n=t.find(".calc-width"),s=t.find(".calc-height"),o=t.find(".align-select"),l=t.find("#allowOverstep");this.propPanel={$el:t,$inputWidth:a,$inputHeight:e,$alignSelect:o,$inputBg:i,$allowOverstep:l},a.val(this.pageWidth),e.val(this.pageHeight);var r=this;$(document).spectrum({showPalette:!0,maxSelectionSize:18,showInitial:!0,preferredFormat:"hex",showButtons:!1,palette:[["#000","#444","#666","#999","#ccc","#eee"],["#f00","#f90","#ff0","#0f0","#0ff","#00f"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394"]],move:function(t,a){if("inputBgColor"===a.attr("id")&&r){if(t||(r.$canvasBox.addClass("bg-trans"),r.props.bgColor="transparent"),"object"==typeof t){var e=t.toHexString();r.$canvasBox.removeClass("bg-trans"),r.props.bgColor=e}r.setBackground()}}}).spectrum.freshSpan(),a.bind("input",function(){r.pageWidth=+$(this).val(),r.setCanvasSize(r.pageWidth,r.pageHeight)}),e.bind("input",function(){r.pageHeight=+$(this).val(),r.setCanvasSize(r.pageWidth,r.pageHeight)}),i.bind("input",function(){var t=$(this).val();r.props.bgImg=t,r.setBackground()}),o.change(function(){var t=$(this).val();r.props.position=t,r.setBackground()}),l.bind("click",function(){l.hasClass("active")?(l.removeClass("active"),r.props.overflow="hidden",r.setComponentAllowOverstep(!1)):(l.addClass("active"),r.props.overflow="visible",r.setComponentAllowOverstep(!0))}),r.setBackground(),t.find(".bgImg-box .page-check").bind("click",function(){var t=$(this),a=t.data("val");console.log(a),t.hasClass("active")?(t.removeClass("active"),"repeat"===a&&(r.props.repeat=""),"fixed"===a&&(r.props.attachment="")):(t.addClass("active"),"repeat"===a&&(r.props.repeat="repeat"),"fixed"===a&&(r.props.attachment="fixed")),r.setBackground()}),n.bind("click",function(){var t=r.calcWidth();a.val(t),r.pageWidth=t,r.setCanvasSize(r.pageWidth,r.pageHeight)}),s.bind("click",function(){var t=r.calcHeight();e.val(t),r.pageHeight=t,r.setCanvasSize(r.pageWidth,r.pageHeight)})},h.STATE=["hotarea","selection","handle"],h);function h(){this.EVENTS=[],this.isRuler=!0,this.drags=[],this.curSelectedComponent=null,this.components=[],this.selector=null,this.pageWidth=1920,this.pageHeight=2561,this.state=h.STATE[0],this.propPanel={},this.history=new u.default,this.props={bgColor:"#FFFFFF",position:"50% 0%",overflow:"hidden"},this.dragScrollTimer=null,this.EVENTS=this.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.id=this.getRandomStr(5)}a.default=f},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=(n.prototype.create=function(t){var a=$('\n      <div class="ruler">\n        <div class="rulerX">\n          <div>\n            <div class="cursor-pos"><span>0</span></div>\n          </div>\n        </div>\n        <div class="rulerY">\n          <div>\n            <div class="cursor-pos"><span>0</span></div>\n          </div>\n        </div>\n      </div>\n    '),e=a.find(".rulerX > div"),i=a.find(".rulerY > div");this.$el=a,this.$rulerX=e,this.$rulerY=i,this.$cursorPosX=e.find(".cursor-pos"),this.$cursorPosY=i.find(".cursor-pos"),t.append(this.$el)},n.prototype.draw=function(){var t=this.canvasWidth,a=this.canvasHeight,e=this.paddingWidth,i=this.paddingHeight,n=50*Math.ceil(t/50)+e,s=50*Math.ceil(a/50)+i;this.paddingHeight=i,this.paddingWidth=e,this.width=n,this.height=s;for(var o=-e/2,l="",r=0;r<n/50;r++)l+="<span>"+Math.abs(o+50*r)+"</span>";var d=-i/2,p="";for(r=0;r<s/50;r++)p+="<span>"+Math.abs(d+50*r)+"</span>";this.$rulerX.append(l),this.$rulerX.width(n),this.$rulerY.append(p),this.$rulerY.height(s)},n.prototype.update=function(t,a,e,i){this.canvasWidth=t,this.canvasHeight=a,this.paddingWidth=e,this.paddingHeight=i,this.$rulerX.find("> span").remove(),this.$rulerY.find("> span").remove(),this.draw()},n.prototype.showCursor=function(){this.$cursorPosX.show(),this.$cursorPosY.show()},n.prototype.hideCursor=function(){this.$cursorPosX.hide(),this.$cursorPosY.hide()},n.prototype.setCursorPos=function(t,a){this.$cursorPosX.css("left",this.paddingWidth/2+t+"px"),this.$cursorPosY.css("top",this.paddingHeight/2+a+"px"),this.$cursorPosX.find("span").text(Math.ceil(t)),this.$cursorPosY.find("span").text(Math.ceil(a))},n.prototype.setX=function(t){this.$rulerX.css("left",t+"px")},n.prototype.setY=function(t){this.$rulerY.css("top",t+"px")},n);function n(){}a.default=i},function(t,a,e){"use strict";var i,n=this&&this.__extends||(i=function(t,a){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])})(t,a)},function(t,a){function e(){this.constructor=t}i(t,a),t.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)});Object.defineProperty(a,"__esModule",{value:!0});var s,o=e(1),l=e(0),r=(n(d,s=o.default),d.prototype.initFormData=function(){this.formData.appLabel="",this.formData.linkMode="urlink",this.formData.href="",this.formData.hrefMode="_blank",this.formData.wangID=""},d.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xrq",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},d.prototype.toHtml=function(){var t,a,e,i,n,s;return t=this.$el.css("top"),a=this.$el.css("left"),e=this.$el.width(),i=this.$el.height(),s=""!=l.valEmpty(this.formData.bgColor)?"background-color:"+this.formData.bgColor+";":"","<a "+(n=""!=(n=l.wwUrl(this.formData.href,this.formData.linkMode,this.formData.wangID,22))?' href="'+n+'"':"")+("_blank"===l.valEmpty(this.formData.hrefMode)?' target="_blank" ':"")+' class="abs"  style="top: '+t+"; left:"+a+"; width:"+e+"px; height:"+i+"px;display:inline-block;"+s+'"></a>'},d.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href);var a=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?a.prop("checked",!0):a.prop("checked",!1),l.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var e=t.find("input[type=text][name=bgColor]");e.val(this.formData.bgColor),this.formData.bgColor?e.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):e.prev().find(".sp-preview-inner").css("background-color","")},d.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var a=$(".area-com-prop-panel");(this.$propPanel=a).show(),a.find("*").off(),this.updatePropPanel(),a.find("input[type=radio][name=linkMode]").change(function(){var e=$(this).prop("value");t.formData.linkMode=e,l.onLinkModeChanged(a,t.formData.linkMode)}),a.find("input[type=text][name=href]").change(function(){var a=$(this).val();t.formData.href=a}),a.find("input[type=checkbox][name=hrefMode]").change(function(){var a=$(this).is(":checked");t.formData.hrefMode=a?"_blank":""}),a.find("input[type=text][name=wangID]").change(function(){var a=$(this).val();t.formData.wangID=a}),a.find("input[type=text][name=bgColor]").change(function(){var a=$(this).val();t.formData.bgColor=a,t.update(t.formData)})},d.prototype.update=function(t){""!=t.bgColor?this.$content.css("background-color",t.bgColor):this.$content.css("background-color","transparent")},d.prototype.openEditDialog=function(){},d);function d(){var t=s.call(this,"hotarea-component")||this;return t.$contentBox.append('\n        <div class="hot-area-box"></div>\n      '),t.$content=t.$contentBox.find(".hot-area-box"),t.initFormData(),t}a.default=r},function(t,a){t.exports="../assets/wang2.gif"},function(t,a){t.exports="../assets/wang1.gif"},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=(n.prototype.add=function(t){this.curIndex<this.data.length-1&&(this.data.splice(this.curIndex+1),this.curIndex=this.data.length-1),this.curIndex++,this.data.push(t)},n.prototype.hasForward=function(){return this.curIndex<this.data.length-1},n.prototype.hasBack=function(){return 0<this.curIndex},n.prototype.forward=function(){return this.hasForward()?this.data[++this.curIndex]:null},n.prototype.back=function(){return this.hasBack()?this.data[--this.curIndex]:null},n);function n(){this.curIndex=-1,this.data=[]}a.default=i},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(4),n=e(5),s=e(6),o=e(7),l=e(8),r=e(9);a.default=function(t){this.stageCt=t;var a=$(".component-bar");this.$el=a;var e=t.curStage;a.find("li").bind("mousedown",function(t){var a=$(this).data("name"),d=null,p=Math.abs(e.myScroll.x)-e.paddingWidth/2,m=Math.abs(e.myScroll.y)-e.paddingHeight/2;"img-component"===a?d=new i.default:"img-ant-component"===a?d=new l.default:"text-component"===a?d=new n.default:"wang-component"===a?d=new s.default:"video-component"===a?d=new o.default:"img-zf-component"===a&&(d=new r.default),d.$el.css("left",Math.max(p,0)+"px"),d.$el.css("top",Math.max(m,0)+"px"),e.addComponent(d),e.selectComponent(d),e.recordOps()})}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=(n.prototype.generateJsonCode=function(){this.stageCt.curStage},n.prototype.openImportDialog=function(){var t=this,a=layui.layer;a.open({type:1,title:"导入代码",skin:"layui-layer-rim",area:["600px","550px"],success:function(e,i){var n=$(e),s=n.find("#jsonTextArea");n.find(".confirm-btn").bind("click",function(){var e=s.val().toString(),n=JSON.parse(e);t.stageCt.curStage.loadProp(n),a.close(i)}),n.find(".cancel-btn").on("click",function(){a.close(i)})},content:'\n        <div class="codegen" style="padding: 15px 10px">\n          <div class="layui-tab">\n            <ul class="layui-tab-title" style="font-size: 12px">\n              <li style="font-size: 12px" class="layui-this">覆盖导入</li>\n              <li style="font-size: 12px">追加导入</li>\n            </ul>\n            <div class="layui-tab-content">\n              <div class="layui-tab-item layui-show">\n                <textarea id="jsonTextArea"style="float:left;width:100%;height:320px;" spellcheck="false"></textarea>\n              </div>\n              <div class="layui-tab-item">\n                <textarea id="htmlTextArea"style="float:left;width:100%;height:320px;" spellcheck="false"></textarea>\n              </div>\n            </div>\n          </div>\n          <div class="layui-form-item" style="margin-top:15px;">\n            <div class="layui-ft-btn" style="text-align:center;padding-top: 20px">\n              <button class="layui-btn confirm-btn">确定</button>\n              <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n            </div>\n          </div>\n        </div>'})},n.prototype.openExportDialog=function(){var t=this;layui.layer.open({type:1,title:"生成代码",skin:"layui-layer-rim",area:["600px","550px"],success:function(a,e){var i=$(a),n=i.find("#jsonTextArea"),s=i.find("#htmlTextArea"),o=t.stageCt.curStage.generateJsonCode(),l=JSON.parse(o);n.val(o),s.val(t.stageCt.curStage.generateHtmlCode()),i.find(".page-width").val(t.stageCt.curStage.pageWidth),i.find(".page-height").val(t.stageCt.curStage.pageHeight),i.find(".code-size").text((o.length/1024).toFixed(2));var r=null;"hidden"===l.overflow?(r=i.find(".cfgl-radio-hidden")).addClass("cfgl-radio-checked"):(r=i.find(".cfgl-radio-visible")).addClass("cfgl-radio-checked"),i.find(".cfgl-radio").bind("click",function(){var t=$(this);if(r!=t){r.removeClass("cfgl-radio-checked"),(r=t).addClass("cfgl-radio-checked");var a=r.data("k");l.overflow=a,n.val(JSON.stringify(l))}}),i.find(".copy-box button").bind("click",function(){n[0].select(),document.execCommand("copy")})},content:'\n        <div class="codegen" style="padding: 15px 10px">\n          <div class="codegen-head">\n            <ul>\n              <li>\n                <label><span style="margin-left:10px;">当前模块宽</span>&nbsp;</label>\n                <input class="page-width" style="width:40px;" type="text" spellcheck="false">\n                <label>&nbsp;&nbsp;高&nbsp;</label>\n                <input class="page-height" style="width:40px;" type="text" spellcheck="false">\n                <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当内容超出模块范围时：&nbsp;</label>\n                <div id="rm_o1">\n                  <input class="cfgl-rr" type="radio" id="m_o2" name="overflowMode" value="visible" spellcheck="false">\n                  <label class="cfgl-radio cfgl-radio-visible" for="m_o2" data-k="visible" style="border-right:none;border-radius:2px 0 0 2px;">显示</label>\n                  <input class="cfgl-rr" type="radio" id="m_o1" name="overflowMode" checked="checked" value="hidden" spellcheck="false">\n                  <label class="cfgl-radio cfgl-radio-hidden" for="m_o1" data-k="hidden" style="border-left:none;border-radius:0 2px 2px 0;">裁掉</label>\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div class="layui-tab">\n            <ul class="layui-tab-title" style="font-size: 12px;display: none;">\n              <li style="font-size: 12px" class="layui-this">JSON代码</li>\n              <li style="font-size: 12px" style="">HTML代码</li>\n            </ul>\n            <div class="layui-tab-content">\n              <div class="layui-tab-item layui-show">\n                <textarea id="jsonTextArea"style="float:left;width:100%;height:300px;" readonly spellcheck="false"></textarea>\n              </div>\n              <div class="layui-tab-item">\n                <textarea id="htmlTextArea"style="float:left;width:100%;height:300px;" readonly spellcheck="false"></textarea>\n              </div>\n            </div>\n          </div>\n          <div class="code-size-box"><span>代码量:</span><span><span class="code-size">0</span>KB</span></div>\n          <div class="copy-box"><button type="button" class="layui-btn layui-btn-sm layui-btn-primary">复制代码</button></div>\n        </div>'})},n);function n(t){this.stageCt=t,this.$el=$(".header");var a=this;this.$el.find(".export-btn").bind("click",function(){a.openExportDialog()}),this.$el.find(".import-btn").bind("click",function(){a.openImportDialog()}),this.$el.find(".undo-btn").bind("click",function(){a.stageCt.curStage.backOps(),console.log(a.stageCt.curStage.history.curIndex)}),this.$el.find(".redo-btn").bind("click",function(){a.stageCt.curStage.forwardOps(),console.log(a.stageCt.curStage.history.curIndex)}),this.$el.find(".preview-btn").bind("click",function(){var t=window.open(""),e=window.location.href;t.document.write('<html><head><title></title><link rel="stylesheet" type="text/css" href="'+e+'css/common.css"></head><body>'),t.document.write(a.stageCt.curStage.generateHtmlCode()),t.document.write("</body></html>"),t.focus(),t.document.title="预览"})}a.default=i},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(26);a.default=function(t){this.stageCt=t;var a=$(".setting-bar"),e=a.find(".page-config"),n=(a.find(".assist-config"),a.find(".magnet-config"),e),s=$(".toolbar"),o=s.find(".group3.active"),l=s.find(".group1.active");this.$el=s;var r=this;s.find("li").bind("click",function(t){var a=$(this),e=a.data("name");if("draggable"===e){i.default.draggable=!i.default.draggable;var s=a.find("icon");i.default.draggable?(s.text("ꑸ"),s.removeClass("color0"),s.addClass("color1")):(s.text("ꑹ"),s.removeClass("color1"),s.addClass("color0"))}else if("assist"===e||"magnet"===e||"page"===e){var d=$("."+e+"-config");n.is(d)||(n.hide(),(n=d).show(),o.removeClass("active"),a.addClass("active"),o=a)}else"hotarea"!==e&&"selection"!==e&&"handle"!==e||a!==l&&(l.removeClass("active"),a.addClass("active"),l=a,r.stageCt.curStage.setState(e))})}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=(n.draggable=!0,n);function n(){}a.default=i}]);
//# sourceMappingURL=index.bundle.js.map