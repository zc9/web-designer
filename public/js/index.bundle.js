!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=(o.prototype.width=function(){return this.drag.$el.offsetWidth},o.prototype.height=function(){return this.drag.$el.offsetHeight},o.prototype.setContent=function(t){this.$contentBox.append(t)},o.prototype.remove=function(){this.$el.remove()},o.prototype.select=function(){this.selected||(this.$contentBox.addClass("selected"),this.selected=!0,this.resetPositionInfo(),this.initPorpPanel())},o.prototype.showToolbar=function(){this.$topBar.show(),this.$bottomBar.show()},o.prototype.resetPositionInfo=function(){var t=this.drag.$el.style.left,e=this.drag.$el.style.top;this.$inputX.val(parseInt(t||0)),this.$inputY.val(parseInt(e||0)),this.$inputWidth.val(this.width()),this.$inputHeight.val(this.height())},o.prototype.setPosition=function(t){var e=t.l,n=t.t,a=t.w,i=t.h;this.$el.width(a),this.$el.height(i),this.$el.css("left",e+"px"),this.$el.css("top",n+"px")},o.prototype.unselect=function(){this.$topBar.hide(),this.$bottomBar.hide(),this.$contentBox.removeClass("selected"),this.selected=!1},o.prototype.mount=function(t){var e=this;this.stage=t,this.id=t.getRandomStr(4);var n=t.$canvas;n.append(this.$el),this.enableResize&&this.$el.resizable({classes:{"ui-resizable-se":""},handles:"all"});var i=new a.default(this.$el[0],{minWidth:this.minWidth,minHeight:this.minHeight,handle:this.$contentBox[0],containment:n[0],resizable:!1,snap:!0});(this.drag=i).onDrag=function(){e.resetPositionInfo()},i.onResize=function(){e.resetPositionInfo()},this.$contentBox.on("mousedown",function(n){t.selectComponent(e),e.showToolbar()}),this.$topBar.find(".delete").on("mousedown",function(n){n.stopPropagation(),t.removeComponent(e)}),this.$topBar.on("mousedown",function(t){t.stopPropagation()}),this.$bottomBar.on("mousedown",function(t){t.stopPropagation()})},o);function o(t,e){for(var n in void 0===t&&(t=""),void 0===e&&(e={}),this.props={},this.formData={},this.enableResize=!0,this.selected=!1,this.name=t,e)this[n]=e[n];var a=$('\n      <div class="component-box">\n        <div class="top-bar">\n          <span class="setting" title="编辑"></span>\n          <span class="lock"></span>\n          <span class="delete"></span>\n        </div>\n        <div class="content-box">\n        </div>\n        <div class="bottom-bar">\n          <span>X:<input type="text" value="0"></span>\n          <span>Y:<input type="text" value="0"></span>\n          '+(this.enableResize?'<span>宽:<input type="text" value="0"></span><span>高:<input type="text" value="0"></span>':"")+'\n          <span class="confirm">确定</span>\n        </div>\n      </div>\n    ');this.$contentBox=a.find(".content-box"),t&&a.addClass(t),this.$el=a,this.$topBar=a.find(".top-bar"),this.$bottomBar=a.find(".bottom-bar"),this.minWidth=24,this.minHeight=24,this.$inputX=this.$bottomBar.find("span:nth-child(1) input"),this.$inputY=this.$bottomBar.find("span:nth-child(2) input"),this.$inputWidth=this.$bottomBar.find("span:nth-child(3) input"),this.$inputHeight=this.$bottomBar.find("span:nth-child(4) input");var i=this;this.$topBar.find(".setting").bind("click",function(){i.openEditDialog()}),this.$el.dblclick(function(){i.openEditDialog()})}e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i.prototype.init=function(t){"string"==typeof this.$el&&(this.$el=document.querySelector(this.$el)),this.$el.style.position="absolute";var e=(this.$el.dragRef=this).$el.className.split(" ");e.push("draggable"),this.$el.className=e.join(" "),this.option("containment",t.containment),this.option("handle",t.handle),this.option("snap",t.snap),this.option("axis",t.axis),this.option("snapAnchor",t.snapAnchor),this.option("snapLineColor",t.snapLineColor),this.option("snapTolerance",t.snapTolerance),this.option("resizeTolerance",t.resizeTolerance),this.option("cursor",t.cursor),this.option("snapLine",t.snapLine),this.option("snapDist",t.snapDist),this.option("resizable",t.resizable),this.option("minWidth",t.minWidth),this.option("minHeight",t.minHeight),this.option("minLeft",t.minLeft),this.option("minTop",t.minTop),this.setupEvent()},i.prototype.option=function(t,e){"containment"===t?void 0!==e&&(this.containment="parent"===e?this.$el.offsetParent:e):"handle"===t?this.handle=void 0===e?this.$el:"string"==typeof e?document.querySelector(e):e:void 0!==e&&(this[t]=e)},i.prototype.isTouch=function(){return"ontouchstart"in window},i.prototype.stopPropagation=function(t){window.event?window.event.cancelBubble=!0:t.stopPropagation()},i.prototype.getEventInfo=function(t){return this.isTouch()?t.targetTouches[0]:t},i.prototype.checkResize=function(t,e,n){var a=t.getBoundingClientRect(),i=this.resizeTolerance,o=this.resizeFlags;return e>=a.right-i&&e<=a.right&&n>=a.top&&n<=a.top+i?o[4]:e>=a.left&&e<=a.left+i&&n>=a.top&&n<=a.top+i?o[5]:e>=a.right-i&&e<=a.right&&n>=a.bottom-i&&n<=a.bottom?o[6]:e>=a.left&&e<=a.left+i&&n>=a.bottom-i&&n<=a.bottom?o[7]:n>=a.top&&n<=a.top+i?o[0]:e>=a.right-i&&e<=a.right?o[1]:n>=a.bottom-i&&n<=a.bottom?o[2]:e>=a.left&&e<=a.left+i?o[3]:null},i.prototype.darg=function(t){var e,n,a=this,i=this.EVENTS,o=0,s=0,l=0,r=0,p=0,c=0,d=a.getEventInfo(t);function u(t){var e=a.getEventInfo(t),n=e.clientX-o,i=e.clientY-s,d=a.minLeft,u=a.minTop;a.containment&&(n<d&&(n=d),i<u&&(i=u),p<n+l&&(n=p-l),c<i+r&&(i=c-r)),"y"!==a.axis&&(a.$el.style.left=n+"px"),"x"!==a.axis&&(a.$el.style.top=i+"px"),a.snap&&a.doSnap(),a.onDrag&&a.onDrag(e)}a.isDragging=!0,o=d.clientX-a.$el.offsetLeft,s=d.clientY-a.$el.offsetTop,l=a.$el.offsetWidth,r=a.$el.offsetHeight,e=document.documentElement.clientWidth,n=document.documentElement.clientHeight,p=this.containment?this.containment.clientWidth:e,c=this.containment?this.containment.clientHeight:n,document.addEventListener(i[1],u),document.addEventListener(i[2],function t(e){var n=a.getEventInfo(e);a.isDragging=!1,document.removeEventListener(i[1],u),document.removeEventListener(i[2],t),a.onStop&&a.onStop(n),a.clearSnapLine()})},i.prototype.resize=function(t){var e=this.EVENTS,n=this,a=(t=this.getEventInfo(t)).clientX,i=t.clientY,o=this.$el.offsetHeight,s=this.$el.offsetWidth,l=o,r=s,p=parseInt(this.getStyle(this.$el,"top")),c=parseInt(this.getStyle(this.$el,"left")),d=p,u=c;this.isResizing=!0;var f=document.documentElement.clientWidth,h=document.documentElement.clientHeight,m=this.containment?this.containment.clientWidth:f,v=this.containment?this.containment.clientHeight:h,g=this.minWidth,b=this.minHeight;function y(t){var e=t.clientY-i;(o-=e)<b&&(o=b),d+l<o&&(o=d+l),(p+=e)<0&&(p=0),d+(l-b)<p&&(p=d+(l-b)),n.$el.style.top=p+"px",n.$el.style.height=o+"px"}function D(t){(s+=t.clientX-a)<g&&(s=g),m-u<s&&(s=m-u),n.$el.style.width=s+"px"}function x(t){(o+=t.clientY-i)<b&&(o=b),v-d<o&&(o=v-d),n.$el.style.height=o+"px"}function $(t){(s-=t.clientX-a)<g&&(s=g),u+r<s&&(s=u+r),(c+=t.clientX-a)<0&&(c=0),u+(r-g)<c&&(c=u+(r-g)),n.$el.style.left=c+"px",n.$el.style.width=s+"px"}function w(t){t=n.getEventInfo(t),n.resizeFlag===n.resizeFlags[0]?y(t):n.resizeFlag===n.resizeFlags[1]?D(t):n.resizeFlag===n.resizeFlags[2]?x(t):n.resizeFlag===n.resizeFlags[3]?$(t):n.resizeFlag===n.resizeFlags[4]?(y(t),D(t)):n.resizeFlag===n.resizeFlags[5]?(y(t),$(t)):n.resizeFlag===n.resizeFlags[6]?(x(t),D(t)):n.resizeFlag===n.resizeFlags[7]&&(x(t),$(t)),i=t.clientY,a=t.clientX,n.onResize&&n.onResize()}document.addEventListener(e[1],w),document.addEventListener(e[2],function t(a){n.isResizing=!1,document.removeEventListener(e[1],w),document.removeEventListener(e[2],t)})},i.prototype.start=function(t){t.preventDefault(),this.stopPropagation(t),this.onStart&&this.onStart(t),this.resizable&&this.resizeFlag?this.resize(t):this.darg(t)},i.prototype.setupEvent=function(){var t=this,e=this.EVENTS,n=this,a=this.handle;this.resizable&&a.addEventListener(e[1],function(e){if(!t.isResizing){var i=n.getEventInfo(e),o=n.checkResize(a,i.clientX,i.clientY);t.resizeFlag=o,t.resizable&&o?a.style.cursor=o:a.style.cursor=t.cursor}}),this.disabled||(a.style.cursor=this.cursor,a.addEventListener(e[0],this.start.bind(this)))},i.prototype.getStyle=function(t,e){return window.getComputedStyle?document.defaultView.getComputedStyle(t,null).getPropertyValue(e):t.currentStyle?t.currentStyle[e]:null},i.prototype.getClientRect=function(t){var e=t.getBoundingClientRect(),n=this.containment?this.containment:this.$el.offsetParent,a={},i=parseInt(this.getStyle(n,"border-left-width")),o=parseInt(this.getStyle(n,"border-top-width")),s=n.getBoundingClientRect();return a.left=e.left-s.left-i,a.top=e.top-s.top-o,a.right=a.left+e.width,a.bottom=a.top+e.height,a.width=e.width,a.height=e.height,a},i.prototype.isSnap=function(t,e){var n=this.snapTolerance;return Math.abs(t-e)<=n},i.prototype.clearSnapLine=function(){Array.apply(null,document.querySelectorAll(".snap-line")).forEach(function(t){t.offsetParent.removeChild(t)})},i.prototype.createDistText=function(t,e,n){var a=n.top,i=n.bottom,o=n.left,s=n.right,l=n.width,r=n.height,p=l/2,c=r/2,d=e.width/2,u=e.height/2,f=document.createElement("div");f.style.position="absolute",f.style.textAlign="center";var h=document.createElement("span"),m=0;h.style.background=this.snapLineColor,h.style.borderRadius="2px",h.style.lineHeight="14px",h.style.padding="0 2px",h.style.fontSize="10px",h.style.color="#ffffff",h.style.userSelect="none",f.appendChild(h);var v=this.snapFlags;if(t===v[0]||t===v[1]||t===v[3]||t===v[4]){if(f.style.bottom="0px",o<e.left?(m=e.left-s,f.style.left=l+"px"):(m=o-e.right,f.style.left=e.width+"px"),(m=Math.round(m))<0)return null;f.style.width=m+"px",f.style.paddingBottom="2px",h.innerText=m+"px"}else if(t===v[2]||t===v[10]||t===v[11]){if(f.style.bottom="0px",o<e.left?(m=e.left-s,f.style.left=p+"px"):(m=o-e.right,f.style.left=d+"px"),(m=Math.round(m))<0)return null;f.style.paddingBottom="2px",f.style.width=m+"px",h.innerText=m+"px"}else if(t===v[5]||t===v[6]||t===v[8]||t===v[9]){if(f.style.left="0px",a<e.top?(m=e.top-i,f.style.top=r+"px"):(m=a-e.bottom,f.style.top=e.height+"px"),(m=Math.round(m))<0)return null;h.style.position="absolute",h.style.top="50%",h.style.marginTop="-7px",h.style.left="2px",f.style.height=m+"px",h.innerText=m+"px"}else if(t===v[7]||t===v[12]||t===v[13]){if(f.style.left="0px",a<e.top?(m=e.top-i,f.style.top=c+"px"):(m=a-e.bottom,f.style.top=u+"px"),(m=Math.round(m))<0)return null;h.style.position="absolute",h.style.top="50%",h.style.marginTop="-7px",h.style.left="2px",f.style.height=m+"px",h.innerText=m+"px"}return f},i.prototype.showSnapLine=function(t,e){var n=e.flag,a=e.dragElemRect,i=e.snapElemRect,o=(e.snapDrag,this.snapLineSize),s=this.snapLineColor,l=i.top,r=i.bottom,p=i.left,c=i.right,d=i.width/2,u=i.height/2,f=a.width/2,h=a.height/2,m={},v=this.snapFlags;n===v[0]||n===v[1]?(m.left=p<a.left?p:a.left,m.top=l,m.bottom=m.top+o,m.right=c>a.right?c:a.right):n===v[2]?(m.top=l+u,m.bottom=m.top+o,p===a.left&&c===a.right?(m.left=p,m.right=c):p>a.left&&c<a.right?(m.left=a.left,m.right=a.right):p<a.left&&c>a.right?(m.left=a.left+f,m.right=c):(m.left=p<a.left?p+d:a.left+f,m.right=c>a.right?c-d:a.right-f)):n===v[3]||n===v[4]?(m.left=p<a.left?p:a.left,m.top=r,m.bottom=m.top+o,m.right=c>a.right?c:a.right):n===v[5]||n===v[6]?(m.left=p,m.top=l<a.top?l:a.top,m.bottom=r>a.bottom?r:a.bottom,m.right=m.left+o):n===v[7]?(m.left=p+d,l===a.top&&r===a.bottom?(m.top=l,m.bottom=r):l>a.top&&r<a.bottom?(m.top=a.top,m.bottom=a.bottom):l<a.top&&r>a.bottom?(m.top=l,m.bottom=a.top+h):(m.top=l<a.top?l+u:a.top+h,m.bottom=r>a.bottom?r-u:a.bottom-h),m.right=m.left+o):n===v[8]||n===v[9]?(m.left=c,m.top=l<a.top?l:a.top,m.bottom=r>a.bottom?r:a.bottom,m.right=m.left+o):n===v[10]||n===v[11]?(m.top=l+u,m.bottom=m.top+o,p===a.left&&c===a.right?(m.left=p,m.right=c):p>a.left&&c<a.right?(m.left=a.left,m.right=a.right):(m.left=p<a.left?p+d:a.left+f,m.right=c>a.right?c:a.right)):n!==v[12]&&n!==v[13]||(m.left=p+d,l===a.top&&r===a.bottom?(m.top=l,m.bottom=r):l>a.top&&r<a.bottom?(m.top=a.top,m.bottom=a.bottom):(m.top=l<a.top?l+u:a.top+h,m.bottom=r>a.bottom?r:a.bottom),m.right=m.left+o);var g=document.createElement("div");g.style.position="absolute",g.style.top=m.top+"px",g.style.left=m.left+"px";var b=m.right-m.left;b=b;var y=m.bottom-m.top;y=y,g.style.width=b+"px",g.style.height=y+"px",g.style.background=s,g.style.zIndex="9999999999999",g.className="snap-line";var D=this.createDistText(n,a,i);this.snapDist&&D&&g.appendChild(D),t.appendChild(g)},i.prototype.doSnap=function(){var t=this,e=this.$el,n=[];"boolean"==typeof this.snap?n=[].slice.call(document.querySelectorAll(".draggable")):"string"==typeof this.snap?n=[].slice.call(document.querySelectorAll(this.snap)):"object"==typeof this.snap&&this.snap.length&&(n=this.snap);var a=this.getClientRect(this.snapAnchor?this.snapAnchor:e),i=[];this.clearSnapLine();var o=this.snapFlags;n.forEach(function(n){if(n!==e){var s=n,l=t.getClientRect(n.dragRef.snapAnchor?n.dragRef.snapAnchor:s),r=l.top,p=l.height,c=l.bottom,d=l.left,u=l.width,f=l.right,h=a.width/2,m=u/2,v=a.height/2,g=p/2;if(t.isSnap(a.top+v,r+g)){var b={flag:o[2],snapDrag:n,dragValue:r+g-v,snapElemRect:l,dragElemRect:a};i.push(b)}else t.isSnap(a.top,r)?(b={flag:o[0],dragValue:r,snapDrag:n,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.bottom,r)?(b={flag:o[1],snapDrag:n,dragValue:r-a.height,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.bottom,c)?(b={flag:o[3],snapDrag:n,dragValue:c-a.height,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.top,c)?(b={flag:o[4],snapDrag:n,dragValue:c,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.top,r+g)?(b={flag:o[10],snapDrag:n,dragValue:r+g,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.bottom,c-g)&&(b={flag:o[11],snapDrag:n,dragValue:c-g-a.height,snapElemRect:l,dragElemRect:a},i.push(b));t.isSnap(a.left+h,d+m)?(b={flag:o[7],snapDrag:n,dragValue:d+m-h,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.left,d)?(b={flag:o[5],snapDrag:n,dragValue:d,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.right,d)?(b={flag:o[6],snapDrag:n,dragValue:d-a.width,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.right,f)?(b={flag:o[8],snapDrag:n,dragValue:f-a.width,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.left,f)?(b={flag:o[9],snapDrag:n,dragValue:f,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.left,d+m)?(b={flag:o[12],snapDrag:n,dragValue:d+m,snapElemRect:l,dragElemRect:a},i.push(b)):t.isSnap(a.right,f-m)&&(b={flag:o[13],snapDrag:n,dragValue:f-m-a.width,snapElemRect:l,dragElemRect:a},i.push(b))}}),i.forEach(function(n){var a=n.flag.split("_")[0];if(e.dragRef.snapAnchor){var i=0;"left"===a?i=e.dragRef.snapAnchor.offsetLeft:"top"===a&&(i=e.dragRef.snapAnchor.offsetTop),e.style[a]=n.dragValue-i+"px"}else e.style[a]=n.dragValue+"px";t.snapLine&&t.showSnapLine(t.containment?t.containment:e.offsetParent,n)}),this.onSnap&&0<i.length&&this.onSnap(i)},i);function i(t,e){void 0===e&&(e={}),this.EVENTS=[],this.resizeFlags=["n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize"],this.snapFlags=["top_tt","top_bt","top_cc","top_bb","top_tb","left_ll","left_rl","left_cc","left_rr","left_lr","top_tc","top_bc","left_lc","left_rc"],this.isDragging=!1,this.isResizing=!1,this.cursor="move",this.containment=null,this.disabled=!1,this.handle=null,this.snapTolerance=10,this.snap=!1,this.snapLineColor="#FF4AFF",this.snapLineSize=1,this.snapAnchor=null,this.snapLine=!0,this.snapDist=!0,this.axis=!1,this.minLeft=0,this.minTop=0,this.resizable=!1,this.resizeTolerance=5,this.minWidth=24,this.minHeight=24,this.$el=t,this.EVENTS=this.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.init(e)}e.default=a},function(t,e,n){"use strict";var a,i=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(0),l=(i(r,o=s.default),r.prototype.toHtml=function(){var t,e,n,a;t=this.$el.css("top"),e=this.$el.css("left"),n=this.$el.width(),a=this.$el.height();var i="",o="url("+this.formData.bgImg+") 50% 50% no-repeat;";return"cut"===this.formData.imgMode?o="url("+this.formData.bgImg+") 50% 50% no-repeat;":i=this.$img[0].outerHTML,'\n      <a href="'+this.formData.href+'" target="'+(this.formData.hrefMode||"")+'" style="position: absolute; top: '+t+"; left: "+e+"; width: "+n+"px; height: "+a+"px;background: "+o+'">\n        '+i+"\n      </a>\n    "},r.prototype.initFormData=function(){this.formData.bgImg="https://img.alicdn.com/imgextra/i2/280837244/TB2orubcrJmpuFjSZFwXXaE4VXa-280837244.jpg",this.formData.bgColor="",this.formData.appLabel="",this.formData.imgMode="cut",this.formData.linkMode="urlink",this.formData.href="",this.formData.tipText="",this.formData.animType="",this.formData.hrefMode="_blank",this.formData.bgImgSize=!1,this.formData.animSpeed="1s",this.formData.animRange="-s",this.formData.wangID="",this.formData.borderRadius="",this.formData.borderStyle="solid",this.$content.css("background-image","url("+this.formData.bgImg+")"),this.$content.css("background-color",this.formData.bgColor),this.$img.attr("src",this.formData.bgImg)},r.prototype.onLinkModeChanged=function(t,e){var n=t.find(".wang-box"),a=t.find(".link-box");"urlink"===e?(n.hide(),a.show()):"wwlink"===e&&(a.hide(),n.show())},r.prototype.openEditDialog=function(){var t=this,e=layui.layer,n=null,a=e.open({type:1,title:"单图设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(a,i){n=$(a),void 0===t.formData.animType&&(t.formData.animType=""),n.find('.animselect > div[data-val="'+t.formData.animType+'"]').addClass("active"),n.find(".animselect > div").on("click",function(){n.find(".animselect > div.active").removeClass("active"),$(this).addClass("active")}),t.formData.bgColor&&n.find(".sp-preview-inner").css("background-color",t.formData.bgColor),n.find(".cancel-btn").on("click",function(){e.close(i)}),t.onLinkModeChanged(n,t.formData.linkMode)},content:'<form class="layui-form" lay-filter="imgComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="appLabel" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片地址</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                   \n                </div>\n                <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片显示方式</label>\n                <div class="layui-input-inline">\n                  <select name="imgMode">\n                    <option value="cut">保持原图尺寸</option>\n                    <option value="full">自由拉伸</option>\n                    <option value="scaleX">保持比例(只裁剪宽度)</option>\n                    <option value="scaleY">保持比例(只裁剪高度)</option>\n                  </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景颜色</label>\n                <div class="layui-input-inline pagecolorpanel"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="bgColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接类型</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                </div>\n              </div>\n              <div class="layui-form-item link-box" style="display:none">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline">\n                  <input name="href" type="text" class="layui-input">\n                </div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item wang-box" style="display:none">\n                <label class="layui-form-label">旺旺ID</label>\n                <div class="layui-input-inline">\n                  <input name="wangID" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="borderRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">提示文字</label>\n                <div class="layui-input-inline">\n                  <input name="tipText" type="text" class="layui-input">\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n\n\n              <fieldset class="layui-elem-field">\n                <legend>默认边框</legend>\n                <div class="layui-field-box">\n                  <div class="layui-form-item"  >\n                    <label class="layui-form-label">边框显示</label>\n                    <div class="layui-input-block">\n                      <input type="checkbox" name="borderT" value="true" lay-skin="primary" title="上边"  >\n                      <input type="checkbox" name="borderB" value="true" lay-skin="primary" title="下边">\n                      <input type="checkbox" name="borderL" value="true" lay-skin="primary" title="左边" >\n                      <input type="checkbox" name="borderR" value="true" lay-skin="primary" title="右边"  >\n                    </div>\n                  </div>\n                  <div class="layui-form-item"  >\n                    <label class="layui-form-label">边框粗细</label>\n                    <div class="layui-input-inline input-short"><input name="borderWidth" type="text" class="layui-input"></div>\n                    <label class="layui-form-label">边框颜色</label>\n                    <div class="layui-input-inline pagecolorpanel input-short"  >\n                      <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                      <input name="borderColor" type="text" class="layui-input pagecolor">\n                      <span class="clear-color-button"></span>\n                    </div>\n                  </div>\n                  <div class="layui-form-item">\n                    <label class="layui-form-label">边框样式</label>\n                    <div class="layui-input-block">\n                      <input type="radio" name="borderStyle" lay-filter="borderStyle" value="solid" title="实线" checked="">\n                      <input type="radio" name="borderStyle" lay-filter="borderStyle" value="dotted" title="细虚线">\n                      <input type="radio" name="borderStyle" lay-filter="borderStyle" value="dashed" title="粗虚线">\n                    </div>\n                  </div>\n                </div>\n              </fieldset>\n\n              <fieldset class="layui-elem-field"    style="margin-top:15px;">\n                <legend>\n                  <span  style="margin-right:15px;  display:inline-block"> 鼠标_移上边框 </span>\n                  <button type="button" class="layui-btn layui-btn-sm">同步默认边框</button>\n                </legend>\n                <div class="layui-field-box">\n                  <div class="layui-form-item"  >\n                    <label class="layui-form-label">边框显示</label>\n                    <div class="layui-input-block">\n                      <input type="checkbox" name="ddd" lay-skin="primary" title="上边" >\n                      <input type="checkbox" name="like1[read]" lay-skin="primary" title="下边">\n                      <input type="checkbox" name="like1[game]" lay-skin="primary" title="左边" >\n                      <input type="checkbox" name="like1[game]" lay-skin="primary" title="右边"  >\n                    </div>\n                  </div>\n                  <div class="layui-form-item"  >\n                    <label class="layui-form-label">边框粗细</label>\n                    <div class="layui-input-inline input-short"><input name="mbdWidth" type="text" class="layui-input"></div>\n                    <label class="layui-form-label">边框颜色</label>\n                    <div class="layui-input-inline pagecolorpanel input-short"  >\n                      <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                      <input name="mbdColor" type="text" class="layui-input pagecolor">\n                      <span class="clear-color-button"></span>\n                    </div>\n                  </div>\n                  <div class="layui-form-item">\n                    <label class="layui-form-label">边框样式</label>\n                    <div class="layui-input-block">\n                      <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="1" title="实线" checked="">\n                      <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="2" title="细虚线">\n                      <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="3" title="粗虚线">\n                    </div>\n                  </div>\n                </div>\n              </fieldset>\n\n            </div>\n            <div class="layui-tab-item"  >\n               阴影外框\n            </div>\n            <div class="layui-tab-item"  >\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画效果</label>\n                <div class="layui-input-inline">\n                  <div class="animselect ui-buttonset">\n                    <div class="none" data-val=""><i><em></em></i>无效果</div>\n                    <div class="shakex" data-val="xins-x-shake"><i><em></em></i>左右抖动</div>\n                    <div class="shakey" data-val="xins-y-shake"><i><em></em></i>上下抖动</div>\n                    <div class="shaker" data-val="xins-r-shake"><i><em></em></i>旋转摆动</div>\n                    <div class="shakes" data-val="xins-s-shake"><i><em></em></i>弹性缩放</div>\n                    <div class="shaken" data-val="xins-n-shake"><i><em></em></i>弹性果冻</div>\n                  </div>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画幅度</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="animRange" value="-s" title="弱" checked="">\n                  <input type="radio" name="animRange" value="-m" title="中">\n                  <input type="radio" name="animRange" value="-l" title="强">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片显示方式</label>\n                <div class="layui-input-inline">\n                  <select name="animSpeed">\n                    <option value="1s" selected="">1秒</option>\n                    <option value="2s">2秒</option>\n                    <option value="3s">3秒</option>\n                    <option value="4s">4秒</option>\n                    <option value="5s">5秒</option>\n                    <option value="6s">6秒</option>\n                    <option value="7s">7秒</option>\n                    <option value="8s">8秒</option>\n                    <option value="9s">9秒</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),i=layui.form;i.render(),i.on("radio(linkMode)",function(e){console.log(e),t.onLinkModeChanged(n,e.value)}),i.on("submit(imgComponentForm)",function(i){return t.formData=i.field,t.update(t.formData),t.updatePropPanel(),t.formData.animType=n.find(".animselect > div.active").data("val"),console.log(t.formData),e.close(a),!1}),i.val("imgComponentForm",t.formData)},r.prototype.update=function(t){var e=this;e.$content.css("background-image","url("+t.bgImg+")"),e.$img.attr("src",t.bgImg),e.$content.css("background-color",t.bgColor),e.$content.css("border-radius",parseInt(t.borderRadius)),e.$content.css("border-color",t.borderColor),"true"===t.borderT&&void 0!==t.borderWidth?(e.$content.css("border-top-style",t.borderStyle),e.$content.css("border-top-width",parseInt(t.borderWidth))):e.$content.css("border-top-width",0),"true"===t.borderB&&void 0!==t.borderWidth?(e.$content.css("border-bottom-style",t.borderStyle),e.$content.css("border-bottom-width",parseInt(t.borderWidth))):e.$content.css("border-bottom-width",0),"true"===t.borderL&&void 0!==t.borderWidth?(e.$content.css("border-left-style",t.borderStyle),e.$content.css("border-left-width",parseInt(t.borderWidth))):e.$content.css("border-left-width",0),"true"===t.borderR&&void 0!==t.borderWidth?(e.$content.css("border-right-style",t.borderStyle),e.$content.css("border-right-width",parseInt(t.borderWidth))):e.$content.css("border-right-width",0),e.$img.bind("load",function(){"true"===t.bgImgSize&&(e.$el.width(e.$img.width()),e.$el.height(e.$img.height()))});var n=t.imgMode;"cut"===n?e.$img.is(":visible")&&(e.$content.css("background-image","url("+t.bgImg+")"),e.$img.hide()):(e.$content.css("background-image",""),"full"===n?(e.$img.css("width","100%"),e.$img.css("height","100%")):"scaleX"===n?(e.$img.css("height","100%"),e.$img.css("width","")):"scaleY"===n&&(e.$img.css("width","100%"),e.$img.css("height","")),e.$img.show())},r.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("#bgImgInput").val(this.formData.bgImg);var e=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?e.prop("checked",!0):e.prop("checked",!1),t.find("#imgMode").val(this.formData.imgMode),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var n=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?n.prop("checked",!0):n.prop("checked",!1),this.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=borderRadius]").val(this.formData.borderRadius);var a=t.find("input[type=text][name=borderColor]");a.val(this.formData.borderColor),a.prev().find(".sp-preview-inner").css("background-color",this.formData.borderColor),t.find("input[type=text][name=borderWidth]").val(this.formData.borderWidth),t.find("input[type=radio][name=borderStyle]").filter('[value="'+this.formData.borderStyle+'"]').prop("checked",!0);var i=t.find("input[type=checkbox][name=borderT]"),o="true"===this.formData.borderT;i.prop("checked",o);var s=t.find("input[type=checkbox][name=borderB]"),l="true"===this.formData.borderB;s.prop("checked",l);var r=t.find("input[type=checkbox][name=borderL]"),p="true"===this.formData.borderL;r.prop("checked",p);var c=t.find("input[type=checkbox][name=borderR]"),d="true"===this.formData.borderR;c.prop("checked",d)},r.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var e=$(".img-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),this.updatePropPanel();var n=e.find("#bgImgInput");n.change(function(){t.formData.bgImg=n.val(),t.update(t.formData)}),e.find("input[type=checkbox][name=bgImgSize]").change(function(){var e=$(this).is(":checked");t.formData.bgImgSize=e?"true":"false",t.update(t.formData)}),e.find("#imgMode").change(function(){t.formData.imgMode=$(this).val(),t.update(t.formData)}),e.find("input[type=radio][name=linkMode]").change(function(){var n=$(this).prop("value");t.formData.linkMode=n,t.onLinkModeChanged(e,t.formData.linkMode)}),e.find("input[type=text][name=href]").change(function(){var e=$(this).val();t.formData.href=e}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.formData.hrefMode=e?"_blank":""}),e.find("input[type=text][name=wangID]").change(function(){var e=$(this).val();t.formData.wangID=e}),e.find("input[type=text][name=borderRadius]").change(function(){t.formData.borderRadius=$(this).val(),t.update(t.formData)}),e.find("input[type=text][name=borderWidth]").change(function(){t.formData.borderWidth=$(this).val(),t.update(t.formData)}),e.find("input[type=text][name=borderColor]").change(function(){t.formData.borderColor=$(this).val(),t.update(t.formData)}),e.find("input[type=radio][name=borderStyle]").change(function(){t.formData.borderStyle=$(this).prop("value"),t.update(t.formData)}),e.find("input[type=checkbox][name=borderT]").change(function(){var e=$(this).is(":checked");t.formData.borderT=e?"true":"false",t.update(t.formData)}),e.find("input[type=checkbox][name=borderB]").change(function(){var e=$(this).is(":checked");t.formData.borderB=e?"true":"",t.update(t.formData)}),e.find("input[type=checkbox][name=borderL]").change(function(){var e=$(this).is(":checked");t.formData.borderL=e?"true":"",t.update(t.formData)}),e.find("input[type=checkbox][name=borderR]").change(function(){var e=$(this).is(":checked");t.formData.borderR=e?"true":"",t.update(t.formData)}),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},r.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xdtb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},r);function r(){var t=o.call(this,"img-component")||this;return t.$content=$('<a><img src="" style="display:none"></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=l},function(t,e,n){"use strict";var a,i=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(0),l=(i(r,o=s.default),r.prototype.initFormData=function(){this.formData.appLabel="",this.formData.fFamily="arial",this.formData.fontSize=12,this.formData.color="#fff",this.formData.bgColor="#000",this.formData.lineHg=24,this.formData.spacing="",this.formData.indent="",this.formData.weight=600,this.formData.fontStyle="normal",this.formData.oLine="",this.formData.lThrough="",this.formData.uLine="",this.formData.align="center",this.formData.content="请设置文件内容",this.formData.href="",this.formData.hrefMode="_blank",this.formData.bgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.bgRep="",this.formData.bgPos="",this.formData.bRadius="",this.formData.hoverMode="off",this.formData.ffFamily="arial",this.formData.ffontSize=12,this.formData.fcolor="#000",this.formData.fbgColor="#fff",this.formData.flineHg=24,this.formData.fspacing="",this.formData.findent="",this.formData.fweight=600,this.formData.ffontStyle="normal",this.formData.foLine="",this.formData.flThrough="",this.formData.fuLine="",this.formData.falign="left",this.formData.fContent="",this.formData.fbgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.fbgRep="",this.formData.fbgPos="",this.formData.antTsDur="0.4",this.formData.antTsFun="ease",this.formData.antTrans="atrans5",this.formData.borderT="show",this.formData.borderB="show",this.formData.borderL="show",this.formData.borderR="show",this.formData.borderWidth=5,this.formData.borderColor="#FFFF00",this.formData.borderStyle="solid",this.formData.antTsDurB="0.2",this.formData.antTsFunB="ease-out",this.formData.antBcolor="#00FFFF",this.formData.antBc="bdtx1",this.update(this.formData)},r.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xwzb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},r.prototype.toHtml=function(){return""},r.prototype.initPorpPanel=function(){console.log("initPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var e=$(".text-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),this.updatePropPanel(),e.find("select[name=fFamily]").change(function(){t.formData.fFamily=$(this).prop("value"),t.update(t.formData)}),e.find("input[type=text][name=color]").change(function(){var e=$(this).val();t.formData.color=e,t.update(t.formData)}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.formData.bgColor=e,t.update(t.formData)}),e.find("input[type=text][name=fontSize]").change(function(){var e=$(this).val();t.formData.fontSize=e,t.update(t.formData)}),e.find("input[type=text][name=lineHg]").change(function(){var e=$(this).val();t.formData.lineHg=e,t.update(t.formData)}),e.find("input[type=text][name=spacing]").change(function(){var e=$(this).val();t.formData.spacing=e,t.update(t.formData)}),e.find("input[type=text][name=indent]").change(function(){var e=$(this).val();t.formData.indent=e,t.update(t.formData)}),e.find("textarea[name=content]").change(function(){var e=$(this).val();t.formData.content=e,t.update(t.formData)}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.formData.hrefMode=e?"_blank":""}),e.find("input[type=radio][name=hoverMode]").change(function(){var e=$(this).prop("value");t.formData.hoverMode=e,t.update(t.formData)}),e.find("select[name=ffFamily]").change(function(){t.formData.ffFamily=$(this).prop("value"),t.update(t.formData)}),e.find("input[type=text][name=fcolor]").change(function(){var e=$(this).val();t.formData.fcolor=e,t.update(t.formData)}),e.find("input[type=text][name=fbgColor]").change(function(){var e=$(this).val();t.formData.fbgColor=e,t.update(t.formData)}),e.find("input[type=text][name=ffontSize]").change(function(){var e=$(this).val();t.formData.ffontSize=e,t.update(t.formData)}),e.find("input[type=text][name=flineHg]").change(function(){var e=$(this).val();t.formData.flineHg=e,t.update(t.formData)}),e.find("input[type=text][name=fspacing]").change(function(){var e=$(this).val();t.formData.fspacing=e,t.update(t.formData)}),e.find("input[type=text][name=findent]").change(function(){var e=$(this).val();t.formData.findent=e,t.update(t.formData)}),e.find("textarea[name=fcontent]").change(function(){var e=$(this).val();t.formData.fcontent=e,t.update(t.formData)}),e.find("input[type=text][name=antTsDur]").change(function(){var e=$(this).val();t.formData.antTsDur=e,t.update(t.formData)}),e.find("input[type=radio][name=antTsFun]").change(function(){var e=$(this).prop("value");t.formData.antTsFun=e,t.update(t.formData)}),e.find("input[type=radio][name=antTrans]").change(function(){var e=$(this).prop("value");t.formData.antTrans=e,t.update(t.formData)}),e.find("input[type=checkbox][name=borderT]").change(function(){var e=$(this).is(":checked");t.formData.borderT=e?"show":"",t.update(t.formData)}),e.find("input[type=checkbox][name=borderB]").change(function(){var e=$(this).is(":checked");t.formData.borderB=e?"show":"",t.update(t.formData)}),e.find("input[type=checkbox][name=borderL]").change(function(){var e=$(this).is(":checked");t.formData.borderL=e?"show":"",t.update(t.formData)}),e.find("input[type=checkbox][name=borderR]").change(function(){var e=$(this).is(":checked");t.formData.borderR=e?"show":"",t.update(t.formData)}),e.find("input[type=text][name=borderWidth]").change(function(){var e=$(this).val();t.formData.borderWidth=e,t.update(t.formData)}),e.find("input[type=text][name=borderColor]").change(function(){var e=$(this).val();t.formData.borderColor=e,t.update(t.formData)}),e.find("input[type=radio][name=borderStyle]").change(function(){var e=$(this).prop("value");t.formData.borderStyle=e,t.update(t.formData)}),e.find("input[type=text][name=antBcolor]").change(function(){var e=$(this).val();t.formData.antBcolor=e,t.update(t.formData)}),e.find("input[type=text][name=antTsDurB]").change(function(){var e=$(this).val();t.formData.antTsDurB=e}),e.find("input[type=radio][name=antTsFunB]").change(function(){var e=$(this).prop("value");t.formData.antTsFunB=e,t.update(t.formData)}),e.find("input[type=radio][name=antBc]").change(function(){var e=$(this).prop("value");t.formData.antBc=e,t.update(t.formData)});var n=e.find(".fnt-z .font-item-radio");n.click(function(){var e=$(this).prop("data-val");t.formData.align=e,t.update(t.formData),n.removeClass("active"),$(this).addClass("active")}),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},r.prototype.openEditDialog=function(){var t=this,e=layui.layer,n=null,a=e.open({type:1,title:"文字设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(a,i){(n=$(a)).find(".cancel-btn").on("click",function(){e.close(i)}),t.formData.color&&n.find("input[type=text][name=color]").prev().find(".sp-preview-inner").css("background-color",t.formData.color),t.formData.bgColor&&n.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.fcolor&&n.find("input[type=text][name=fcolor]").prev().find(".sp-preview-inner").css("background-color",t.formData.fcolor),t.formData.fbgColor&&n.find("input[type=text][name=fbgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.fbgColor),t.formData.borderColor&&n.find("input[type=text][name=borderColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.borderColor),t.formData.antBcolor&&n.find("input[type=text][name=antBcolor]").prev().find(".sp-preview-inner").css("background-color",t.formData.antBcolor)},content:'<form class="layui-form" lay-filter="textComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">默认设置</li>\n            <li>鼠标经过</li>\n            <li>动画设置</li>\n            <li>边框</li>\n             \n\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline"><input type="text" name="appLabel" class="layui-input"></div>\n              </div>\n\n              <div class="layui-form-item">\n                <label class="layui-form-label">样式及内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px; height: 36px;">\n                      <select   name="fFamily" >\n                          <option value="宋体" >宋体</option>\n                          <option value="黑体" >黑体</option>\n                          <option value="微软雅黑" >雅黑</option>\n                          <option value="楷体" >楷体</option>\n                          <option value="arial" >Arial</option>\n                          <option value="verdana" >Verdana</option>\n                          <option value="georgia" >Georgia</option>\n                          <option value="times new roman" >Times New Roman</option>\n                          <option value="trebuchet ms" >Trebuchet MS</option>\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="color"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="fontSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="bgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="lineHg" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="spacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="indent" class="layui-input">\n                    </div>\n                    <div class="font-setting font-on">\n                      <span  title="加粗" class="font-item" data-l="checkbox" ><icon>ꕅ</icon></span>\n                      <span  title="斜体" class="font-item" data-l="checkbox" ><icon>ꕆ</icon></span>\n                      <span  title="上划线" class="font-item" data-l="checkbox" ><icon>ꔣ</icon></span>\n                      <span  title="中划线" class="font-item active" data-l="checkbox"><icon>ꕇ</icon></span>\n                      <span  title="下划线" class="font-item" data-l="checkbox" ><icon>ꕈ</icon></span>\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item active" data-l="radio" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item" data-l="radio" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item" data-l="radio" ><icon>ꕑ</icon></span>\n                    </div>\n                    <textarea   name="content"  ></textarea>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline"><input type="text" name="href" class="layui-input"></div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景图片</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景平铺</label>\n                <div class="layui-input-inline">\n                  <select   name="bgRep" >\n                    <option value="repeat" >纵横向</option>\n                    <option value="repeat-x" >横向</option>\n                    <option value="repeat-y" >纵向</option>\n                    <option value="no-repeat" >不平铺</option>\n                 </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">对齐方式</label>\n                <div class="layui-input-inline">\n                  <select   name="bgPos" >\n                    <option value="0% 0%">左上</option>\n                    <option value="0% 50%">左中</option>\n                    <option value="0% 100%">左下</option>\n                    <option value="50% 0%">中上</option>\n                    <option value="50% 50%">正中</option>\n                    <option value="50% 100%">中下</option>\n                    <option value="100% 0%">右上</option>\n                    <option value="100% 50%">右中</option>\n                    <option value="100% 100%">右下</option>\n                 </select>\n                </div>\n              </div>\n   \n              \n              <div class="layui-form-item">\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-form-item">\n                <label class="layui-form-label">鼠标经过状态</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="hoverMode" lay-filter="hoverMode" value="on" title="开启" >\n                  <input type="radio" name="hoverMode" lay-filter="hoverMode" value="off" title="关闭">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">样式及内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px;">\n                      <select   name="ffFamily" >\n                          <option value="宋体" >宋体</option>\n                          <option value="黑体" >黑体</option>\n                          <option value="微软雅黑" >雅黑</option>\n                          <option value="楷体" >楷体</option>\n                          <option value="arial" >Arial</option>\n                          <option value="verdana" >Verdana</option>\n                          <option value="georgia" >Georgia</option>\n                          <option value="times new roman" >Times New Roman</option>\n                          <option value="trebuchet ms" >Trebuchet MS</option>\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="fcolor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="ffontSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="fbgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="flineHg" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="fspacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="findent" class="layui-input">\n                    </div>\n                    <div class="font-setting">\n                      <span  title="加粗" class="font-item" data-l="checkbox" ><icon>ꕅ</icon></span>\n                      <span  title="斜体" class="font-item" data-l="checkbox" ><icon>ꕆ</icon></span>\n                      <span  title="上划线" class="font-item" data-l="checkbox" ><icon>ꔣ</icon></span>\n                      <span  title="中划线" class="font-item active" data-l="checkbox"><icon>ꕇ</icon></span>\n                      <span  title="下划线" class="font-item" data-l="checkbox" ><icon>ꕈ</icon></span>\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item active" data-l="radio" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item" data-l="radio" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item" data-l="radio" ><icon>ꕑ</icon></span>\n                    </div>\n                    <textarea   name="fcontent"  ></textarea>\n                    <div class="font-synchronous">\n                      <icon>ꕦ</icon><span>同步默认文字样式</span>\n                    </div>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景图片</label>\n                <div class="layui-input-inline">\n                  <input name="fbgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景平铺</label>\n                <div class="layui-input-inline">\n                  <select   name="fbgRep" >\n                    <option value="repeat" >纵横向</option>\n                    <option value="repeat-x" >横向</option>\n                    <option value="repeat-y" >纵向</option>\n                    <option value="no-repeat" >不平铺</option>\n                 </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">对齐方式</label>\n                <div class="layui-input-inline">\n                  <select   name="fbgPos" >\n                    <option value="0% 0%">左上</option>\n                    <option value="0% 50%">左中</option>\n                    <option value="0% 100%">左下</option>\n                    <option value="50% 0%">中上</option>\n                    <option value="50% 50%">正中</option>\n                    <option value="50% 100%">中下</option>\n                    <option value="100% 0%">右上</option>\n                    <option value="100% 50%">右中</option>\n                    <option value="100% 100%">右下</option>\n                 </select>\n                </div>\n              </div>\n            </div>\n            <div class="layui-tab-item">\n              <fieldset  class="layui-elem-field">\n                <legend>\n                  动画时长                      \n                  <input class="input-short"  type="text" name="antTsDur"  style="width:50px; height:20px; margin-left:10px; padding-left:5px;" />\n                  <label class="label-con">秒</label>\n                </legend>\n                <div class="layui-field-box">\n                  <input class="radio-medium" type="radio" name="antTsFun" value="linear"  title="匀速">\n                  <input class="radio-medium" type="radio" name="antTsFun" value="ease"  title="逐渐变慢">\n                  <input class="radio-medium" type="radio" name="antTsFun" value="ease-in"   title="减速">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="antTsFun" value="ease-out"   title="加速">\n                  <input class="radio-medium" type="radio" name="antTsFun" value="ease-in-out"   title="加速后减速">\n                  <input class="radio-medium" type="radio" name="antTsFun" value="cubic-bezier"   title="动感弹跳">\n                </div>\n              </fieldset>\n              <fieldset  class="layui-elem-field" style="margin-top:15px;">\n                <legend>动画效果</legend>\n                <div class="layui-field-box">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans0" title="无效果">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans1" title="右切入">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans2"  title="下切入">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans3"  title="左切入">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans4"  title="上切入">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans5"  title="右切出">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans6"  title="下切出">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans7"  title="左切出">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans8"  title="上切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans9"  title="右切入切出">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans10"   title="下切入切出">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans11"   title="左切入切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans12"  title="上切入切出">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans13"  title="放大出现">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans14"  title="缩小出现">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans15"  title="翻转出现">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans16"  title="缩放出现1">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans17"  title="缩放出现2">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans18"  title="旋转放大">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans19"  title="旋转缩小">\n                  <input class="radio-medium" type="radio" name="antTrans"  value="atrans20"  title="渐隐渐显">\n                </div>\n              </fieldset>\n            </div>\n            <div  class="layui-tab-item">\n               <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认边框</li>\n                  <li class="">鼠标划过边框</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框显示</label>\n                          <div class="layui-input-inline">\n                            <input type="checkbox" name="borderT" value="show" lay-skin="primary" title="上边"  >\n                            <input type="checkbox" name="borderB" value="show" lay-skin="primary" title="下边">\n                            <input type="checkbox" name="borderL" value="show" lay-skin="primary" title="左边" >\n                            <input type="checkbox" name="borderR" value="show" lay-skin="primary" title="右边"  >\n                          </div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框粗细</label>\n                          <div class="layui-input-inline input-short"><input name="borderWidth" type="text" class="layui-input"></div>\n                        </div>\n                        <div class="layui-form-item"  >\n                          <label class="layui-form-label">边框颜色</label>\n                          <div class="layui-input-inline pagecolorpanel input-short"  >\n                            <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                            <input name="borderColor" type="text" class="layui-input pagecolor">\n                            <span class="clear-color-button"></span>\n                          </div>\n                        </div>\n                        <div class="layui-form-item">\n                          <label class="layui-form-label">边框样式</label>\n                          <div class="layui-input-inline">\n                            <input type="radio" name="borderStyle" lay-filter="borderStyle" value="solid" title="实线" checked="">\n                            <input type="radio" name="borderStyle" lay-filter="borderStyle" value="dotted" title="细虚线">\n                            <input type="radio" name="borderStyle" lay-filter="borderStyle" value="dashed" title="粗虚线">\n                          </div>\n                        </div>\n                  </div>\n                  <div class="layui-tab-item ">\n\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>\n                        动画时长                      \n                        <input class="input-short"  type="text" name="antTsDurB"  style="width:50px; height:20px; margin-left:10px; padding-left:5px;" />\n                        <label class="label-con">秒</label>\n                      </legend>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="antTsFunB" value="linear"  title="匀速">\n                        <input class="radio-medium" type="radio" name="antTsFunB" value="ease"  title="逐渐变慢">\n                        <input class="radio-medium" type="radio" name="antTsFunB" value="ease-in"   title="减速">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="antTsFunB" value="ease-out"   title="加速">\n                        <input class="radio-medium" type="radio" name="antTsFunB" value="ease-in-out"   title="加速后减速">\n                        <input class="radio-medium" type="radio" name="antTsFunB" value="cubic-bezier"   title="动感弹跳">\n                      </div>\n                    </fieldset>\n                    <fieldset  class="layui-elem-field" style="margin-top:25px;">\n                      <legend>动画效果</legend>\n                      <div class="layui-form-item"  style="margin-top:15px;margin-bottom:0px;">\n                        <label class="layui-form-label">边框颜色</label>\n                        <div class="layui-input-inline pagecolorpanel input-short"  style="width: 190px;">\n                          <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                          <input name="antBcolor" type="text" class="layui-input pagecolor">\n                          <span class="clear-color-button"></span>\n                        </div>\n                      </div>\n                      <div class="layui-field-box">\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx0" title="直接切换">\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx1" title="渐隐渐显">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx4"  title="左对角线切入">\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx5"  title="右对角线切入">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx6"  title="顺时针出现">\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx7"  title="逆时针出现">\n                        <div class="sepline"></div>\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx8"  title="由点到线">\n                        <input class="radio-medium" type="radio" name="antBc"  value="bdtx9"  title="由点到面">\n                      </div>\n                    </fieldset>\n\n                  </div>\n             \n \n                </div>\n            </div>\n \n\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="textComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),i=layui.form;i.render(),i.on("submit(textComponentForm)",function(n){return t.formData=n.field,t.update(t.formData),t.updatePropPanel(),e.close(a),!1}),i.val("textComponentForm",t.formData)},r.prototype.update=function(t){var e=this.$contentBox.find(".on");e.css("font-family",this.formData.fFamily),e.css("color",this.formData.color),e.css("background-color",this.formData.bgColor),e.css("font-size",parseInt(this.formData.fontSize)),e.css("line-height",this.formData.lineHg+"px"),e.css("letter-spacing",parseInt(this.formData.spacing)),e.css("text-indent",parseInt(this.formData.indent)),e.css("border-radius",parseInt(this.formData.bRadius)),e.css("text-align",this.formData.align),e.text(t.content);var n=this.$contentBox.find(".off"),a=this.$content.attr("antTrans");if("on"===this.formData.hoverMode){n.remove();var i=this.formData.antTrans;"atrans5"==i||"atrans6"==i||"atrans7"===i||"atrans8"===i||"atrans9"===i||"atrans19"===i?this.$contentBox.find(".on").before("<div class='off'></div>"):this.$contentBox.find(".on").after("<div class='off'></div>"),(n=this.$contentBox.find(".off")).text(t.fcontent),n.css("font-family",this.formData.ffFamily),n.css("color",this.formData.fcolor),n.css("background-color",this.formData.fbgColor),n.css("font-size",parseInt(this.formData.ffontSize)),n.css("line-height",this.formData.flineHg+"px"),n.css("letter-spacing",parseInt(this.formData.fspacing)),n.css("text-indent",parseInt(this.formData.findent)),n.css("border-radius",this.formData.bRadius),"cubic-bezier"===this.formData.antTsFun?(e.css("transition-timing-function","cubic-bezier(0.52, 1.64, 0.37, 0.66)"),n.css("transition-timing-function","cubic-bezier(0.52, 1.64, 0.37, 0.66)")):(e.css("transition-timing-function",this.formData.antTsFun),n.css("transition-timing-function",this.formData.antTsFun)),e.css("transition-duration",this.formData.antTsDur+"s"),n.css("transition-duration",this.formData.antTsDur+"s"),this.$content.removeClass(a),this.$content.addClass(this.formData.antTrans),this.$content.attr("antTrans",this.formData.antTrans)}else n.remove(),this.$content.removeClass(a),this.$content.attr("antTrans","");var o=this.$contentBox.find(".ant-text"),s=this.$contentBox.find(".bk-aline");"show"===this.formData.borderT||"show"===this.formData.borderB||"show"===this.formData.borderL||"show"===this.formData.borderR?(s.length<=0&&o.append("<div class='bk-aline'></div>"),s=this.$contentBox.find(".bk-aline"),"show"===this.formData.borderT?s.css("border-top-width",this.formData.borderWidth):s.css("border-top-width",0),"show"===this.formData.borderB?s.css("border-bottom-width",this.formData.borderWidth):s.css("border-bottom-width",0),"show"===this.formData.borderL?s.css("border-Left-width",this.formData.borderWidth):s.css("border-Left-width",0),"show"===this.formData.borderR?s.css("border-right-width",this.formData.borderWidth):s.css("border-right-width",0),s.css("border-style",this.formData.borderStyle),s.css("border-color",this.formData.borderColor)):s.remove();var l=this.$content.attr("antBc");if(this.$content.removeClass(l),this.$content.addClass(this.formData.antBc),this.$content.attr("antBc",this.formData.antBc),"hide"!=this.formData.antBc){var r=this.formData.antTsFunB;"cubic-bezier"===this.formData.antTsFunB&&(r="cubic-bezier(0.52, 1.64, 0.37, 0.66)");var p=this.formData.antTsDurB+"s",c=this.$contentBox.find(".w-lt");"show"===this.formData.borderT?(c.length<=0&&o.append("<div class='bk-line  w-lt'></div>"),(c=this.$contentBox.find(".w-lt")).css("border-top-width",parseInt(this.formData.borderWidth)),c.css("border-top-style",this.formData.borderStyle),c.css("border-top-color",this.formData.antBcolor),c.css("transition-timing-function",r),c.css("transition-duration",p)):c.remove();var d=this.$contentBox.find(".w-lb");"show"===this.formData.borderB?(d.length<=0&&o.append("<div class='bk-line  w-lb'></div>"),(d=this.$contentBox.find(".w-lb")).css("border-Bottom-width",parseInt(this.formData.borderWidth)),d.css("border-Bottom-style",this.formData.borderStyle),d.css("border-Bottom-color",this.formData.antBcolor),d.css("transition-timing-function",r),d.css("transition-duration",p)):d.remove();var u=this.$contentBox.find(".w-ll");"show"===this.formData.borderL?(u.length<=0&&o.append("<div class='bk-line  w-ll'></div>"),(u=this.$contentBox.find(".w-ll")).css("border-left-width",parseInt(this.formData.borderWidth)),u.css("border-left-style",this.formData.borderStyle),u.css("border-left-color",this.formData.antBcolor),u.css("transition-timing-function",r),u.css("transition-duration",p)):u.remove();var f=this.$contentBox.find(".w-lr");"show"===this.formData.borderR?(f.length<=0&&o.append("<div class='bk-line  w-lr'></div>"),(f=this.$contentBox.find(".w-lr")).css("border-right-width",parseInt(this.formData.borderWidth)),f.css("border-right-style",this.formData.borderStyle),f.css("border-right-color",this.formData.antBcolor),f.css("transition-timing-function",r),f.css("transition-duration",p)):f.remove()}},r.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("select[name=fFamily]").val(this.formData.fFamily);var e=t.find("input[type=text][name=color]");e.val(this.formData.color),t.find("input[type=text][name=fontSize]").val(this.formData.fontSize);var n=t.find("input[type=text][name=bgColor]");n.val(this.formData.bgColor),t.find("input[type=text][name=lineHg]").val(this.formData.lineHg),t.find("input[type=text][name=spacing]").val(this.formData.spacing),t.find("input[type=text][name=indent]").val(this.formData.indent),t.find("textarea[name=content]").val(this.formData.content),t.find("input[type=text][name=href]").val(this.formData.href);var a=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?a.prop("checked",!0):a.prop("checked",!1),this.formData.color?e.prev().find(".sp-preview-inner").css("background-color",this.formData.color):e.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?n.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):n.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=radio][name=hoverMode]").filter('[value="'+this.formData.hoverMode+'"]').prop("checked",!0),t.find("select[name=ffFamily]").val(this.formData.ffFamily);var i=t.find("input[type=text][name=fcolor]");i.val(this.formData.fcolor),t.find("input[type=text][name=ffontSize]").val(this.formData.ffontSize);var o=t.find("input[type=text][name=fbgColor]");o.val(this.formData.fbgColor),t.find("input[type=text][name=flineHg]").val(this.formData.flineHg),t.find("input[type=text][name=fspacing]").val(this.formData.fspacing),t.find("input[type=text][name=findent]").val(this.formData.findent),t.find("textarea[name=fcontent]").val(this.formData.fcontent),this.formData.fcolor?i.prev().find(".sp-preview-inner").css("background-color",this.formData.fcolor):i.prev().find(".sp-preview-inner").css("background-color",""),this.formData.fbgColor?o.prev().find(".sp-preview-inner").css("background-color",this.formData.fbgColor):o.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=antTsDur]").val(this.formData.antTsDur),t.find("input[type=radio][name=antTsFun]").filter('[value="'+this.formData.antTsFun+'"]').prop("checked",!0),t.find("input[type=radio][name=antTrans]").filter('[value="'+this.formData.antTrans+'"]').prop("checked",!0);var s=t.find("input[type=checkbox][name=borderT]");"show"===this.formData.borderT?s.prop("checked",!0):s.prop("checked",!1);var l=t.find("input[type=checkbox][name=borderB]");"show"===this.formData.borderB?l.prop("checked",!0):l.prop("checked",!1);var r=t.find("input[type=checkbox][name=borderL]");"show"===this.formData.borderL?r.prop("checked",!0):r.prop("checked",!1);var p=t.find("input[type=checkbox][name=borderR]");"show"===this.formData.borderR?p.prop("checked",!0):p.prop("checked",!1),t.find("input[type=text][name=borderWidth]").val(this.formData.borderWidth);var c=t.find("input[type=text][name=borderColor]");c.val(this.formData.borderColor),t.find("input[type=radio][name=borderStyle]").filter('[value="'+this.formData.borderStyle+'"]').prop("checked",!0),this.formData.borderColor?c.prev().find(".sp-preview-inner").css("background-color",this.formData.borderColor):c.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=antTsDurB]").val(this.formData.antTsDurB),t.find("input[type=radio][name=antTsFunB]").filter('[value="'+this.formData.antTsFunB+'"]').prop("checked",!0);var d=t.find("input[type=text][name=antBcolor]");d.val(this.formData.antBcolor),t.find("input[type=radio][name=antBc]").filter('[value="'+this.formData.antBc+'"]').prop("checked",!0),this.formData.antBcolor?d.prev().find(".sp-preview-inner").css("background-color",this.formData.antBcolor):d.prev().find(".sp-preview-inner").css("background-color",""),t.find('.font-z .font-item-radio[data-val="'+this.formData.align+'"]').addClass("active"),t.find('.fnt-z .font-item-radio[data-val="'+this.formData.align+'"]')},r);function r(){var t=o.call(this,"text-component")||this;return t.$contentBox.append('\n      <a class="ant-text"   antTrans=""  antBc=""><div class="on">请设置文本内容</div></a>\n      '),t.$content=t.$contentBox.find(".ant-text"),t.initFormData(),t}e.default=l},function(t,e,n){"use strict";var a,i=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);n(14),n(15);var s,l=(i(r,s=o.default),r.prototype.toHtml=function(){return""},r.prototype.initFormData=function(){this.formData.appLabel="",this.formData.wangMode="1",this.formData.wangID="",this.formData.bgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.bgColor="",this.formData.nickName="John Deao",this.formData.color="",this.formData.fontSize=12,this.formData.fontFamily="arial",this.formData.fontWeight=400,this.formData.fontStyle="normal",this.formData.tipText="24Hours Service Online",this.formData.nickMl=5,this.formData.bgImgMg=5,this.update(this.formData)},r.prototype.initPorpPanel=function(){console.log("initPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var e=$(".ww-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),this.updatePropPanel(),e.find("input[type=radio][name=wangMode]").change(function(){t.formData.wangMode=$(this).prop("value"),t.update(t.formData)}),e.find("input[type=text][name=wangID]").change(function(){var e=$(this).val();t.formData.wangID=e}),e.find("input[type=text][name=bgImg]").change(function(){var e=$(this).val();t.formData.bgImg=e,t.update(t.formData)}),e.find("input[type=text][name=bgImgMg]").change(function(){var e=$(this).val();t.formData.bgImgMg=e,t.update(t.formData)}),e.find("input[type=text][name=nickName]").change(function(){var e=$(this).val();t.formData.nickName=e,t.update(t.formData)}),e.find("input[type=text][name=color]").change(function(){var e=$(this).val();t.formData.color=e,t.update(t.formData)}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.formData.bgColor=e,t.update(t.formData)}),e.find("input[type=text][name=nickMl]").change(function(){t.formData.nickMl=$(this).val(),t.update(t.formData)}),e.find("input[type=text][name=fontSize]").change(function(){t.formData.fontSize=$(this).val(),t.update(t.formData)}),e.find("select[name=fontWeight]").change(function(){t.formData.fontWeight=$(this).prop("value"),t.update(t.formData)}),e.find("select[name=fontStyle]").change(function(){t.formData.fontStyle=$(this).prop("value"),t.update(t.formData)}),e.find("select[name=fontFamily]").change(function(){t.formData.fontFamily=$(this).prop("value"),t.update(t.formData)}),e.find("input[type=text][name=tipText]").change(function(){t.formData.tipText=$(this).val(),t.update(t.formData)})},r.prototype.openEditDialog=function(){var t=layui.layer,e=t.open({type:1,title:"旺旺设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(e,n){$(e).find(".cancel-btn").on("click",function(){t.close(n)})},content:'<form class="layui-form" lay-filter="imgComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="wangComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("submit(wangComponentForm)",function(n){return t.close(e),!1})},r.prototype.update=function(t){var e=this.$content.find(".cphoto"),n=this.$content.find(".wang-info span");this.$content.css("background-color",this.formData.bgColor),this.$content.find(".wang-info").css("margin-top",parseInt(this.formData.bgImgMg)),this.$content.attr("title",this.formData.tipText);var a="1"==this.formData.wangMode?"./assets/wang1.gif":"./assets/wang2.gif";this.$wangImg.attr("src",a),this.$wangImg.attr("data-val",this.formData.wangMode),this.formData.bgImg?(e.length<=0&&this.$content.find(".wang-info").before("<img class='cphoto' >"),(e=this.$content.find(".cphoto")).attr("src",this.formData.bgImg)):e.remove(),this.formData.nickName?(n.length<=0&&(n=this.$content.find(".wang-line").after("<span>"+t.nickName+"</span>")),(n=this.$content.find(".wang-info span")).text(t.nickName),n.css("color",this.formData.color),n.css("font-size",parseInt(this.formData.fontSize)),n.css("font-family",this.formData.fontFamily),n.css("font-weight",this.formData.fontWeight),n.css("font-style",this.formData.fontStyle),n.css("margin-left",parseInt(this.formData.nickMl))):n.remove()},r.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=radio][name=wangMode]").filter('[value="'+this.formData.wangMode+'"]').prop("checked",!0),t.find("input[type=text][name=wangID]").val(this.formData.wangID),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg),t.find("input[type=text][name=bgImgMg]").val(this.formData.bgImgMg),t.find("input[type=text][name=nickName]").val(this.formData.nickName);var e=t.find("input[type=text][name=color]");e.val(this.formData.color);var n=t.find("input[type=text][name=bgColor]");n.val(this.formData.bgColor),t.find("input[type=text][name=nickMl]").val(this.formData.nickMl),t.find("input[type=text][name=fontSize]").val(this.formData.fontSize),t.find("select[name=fontFamily]").val(this.formData.fontFamily),t.find("input[type=text][name=fontWeight]").val(this.formData.fontWeight),t.find("select[name=fontStyle]").val(this.formData.fontStyle),t.find("input[type=text][name=tipText]").val(this.formData.tipText),this.formData.color?e.prev().find(".sp-preview-inner").css("background-color",this.formData.color):e.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?n.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):n.prev().find(".sp-preview-inner").css("background-color","")},r.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"wangh",config:t,pos:{l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},r);function r(){var t=s.call(this,"wang-component",{enableResize:!1})||this;return t.$content=$('<a class="wang-box"><img class="cphoto" src="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg"><div class="wang-info" > <img class="wang-line" src="./assets/wang1.gif"><span>John Deao</span></div></a>'),t.$wangImg=t.$content.find(".wang-line"),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(6),n(7),n(8),n(9);var a=n(10),i=n(16),o=n(17),s=n(18);$(function(){var t=new a.default;t.createStage(),new i.default(t),new s.default(t),new o.default(t)})},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e){Array.prototype.remove=function(t){var e=this.indexOf(t);-1<e&&this.splice(e,1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(11),i=(o.prototype.createStage=function(){var t=new a.default;t.create(this.$el),this.curStage=t,this.stages.push(t)},o);function o(){this.stages=[],this.curStage=null;var t=$(".stage-ct");this.stages=[],this.$el=t}e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=n(12),o=n(13),s=n(2),l=n(3),r=n(4),p=(c.prototype.create=function(t){var e,n,o,s,l=this,r=this.pageWidth,p=this.pageHeight,c=$('<div class="stage"></div>');t.append(c),e=$('\n      <div class="canvas-wrap">\n        <div>\n          <div class="canvas-box">\n            <div class="canvas">\n            </div>\n          </div>\n        </div>\n      </div>\n    '),this.paddingWidth=100*Math.ceil(c.width()/100),this.paddingHeight=100*Math.ceil(c.height()/100),this.isRuler?((s=new i.default).create(c),c.append(e)):(c.append(e),e.css("left",0),e.css("top",0)),n=e.find("> div"),o=e.find(".canvas"),this.$canvas=o,this.$canvasBox=e.find(".canvas-box"),this.$canvasWrap=e,this.$el=c,this.ruler=s,this.$scrollContent=n,this.createIScroll(),this.layoutCanvas(r,p);var d=s.$rulerX[0],u=s.$rulerY[0],f=this.EVENTS;d.addEventListener(f[0],function(t){var e=$('<div class="guide-line guide-lineX"><div></div></div>');l.$el.append(e);var n=new a.default(e[0],{snapAnchor:e[0].children[0],minLeft:20,axis:"y",cursor:"row-resize",resizable:!1});e.css("top",t.clientY-l.$el[0].getBoundingClientRect().top-e[0].children[0].offsetTop+"px"),n.start(t),n.onStop=function(t){n.$el.offsetTop<=15&&$(n.$el).remove()}}),u.addEventListener(f[0],function(t){var e=$('<div class="guide-line guide-lineY"><div></div></div>');l.$el.append(e);var n=new a.default(e[0],{snapAnchor:e[0].children[0],minTop:20,axis:"x",cursor:"col-resize",resizable:!1});e.css("left",t.clientX-l.$el[0].getBoundingClientRect().left-e[0].children[0].offsetLeft+"px"),n.start(t),n.onStop=function(t){n.$el.offsetLeft<=15&&$(n.$el).remove()}}),this.selector=n.selectable({disabled:!0}),this.setupEvent(),this.initPorpPanel()},c.prototype.createIScroll=function(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=0),void 0===n&&(n=0),this.myScroll=new IScroll(this.$canvasWrap[0],{scrollX:!0,freeScroll:!0,startX:e,startY:n,probeType:3,scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,disableMouse:t,disablePointer:t,disableTouch:t});var a=this.ruler;this.myScroll.on("scroll",function(){a&&(a.setX(this.x),a.setY(this.y))})},c.prototype.layoutCanvas=function(t,e){var n,a,i,o,s,l;n=this.paddingWidth/2,a=this.paddingHeight/2,i=50*Math.ceil(t/50)+this.paddingWidth,o=50*Math.ceil(e/50)+this.paddingHeight,s=t<this.$canvasWrap.width()?i/2-this.$canvasWrap.width()/2:this.paddingWidth/2,l=e<this.$canvasWrap.height()?o/2-this.$canvasWrap.height()/2:this.paddingHeight/2,this.ruler.update(t,e,this.paddingWidth,this.paddingHeight),this.ruler&&(this.ruler.setX(-s),this.ruler.setY(-l)),this.$canvas.width(t),this.$canvas.height(e),this.$canvasBox.width(t),this.$canvasBox.height(e),this.$canvasBox.css("margin-left",n+"px"),this.$canvasBox.css("margin-top",a+"px"),this.$scrollContent.width(i),this.$scrollContent.height(o),this.myScroll.scrollTo(-s,-l),this.myScroll.refresh()},c.prototype.setCanvasSize=function(t,e){this.pageWidth=t,this.pageHeight=e,this.layoutCanvas(t,e)},c.prototype.setupEvent=function(){var t=this,e=this.EVENTS,n=this.$el[0],a=this.$canvas[0];n.addEventListener(e[1],function(e){var n=a.getBoundingClientRect(),i=t.getEventInfo(e),o=i.clientX-n.left,s=i.clientY-n.top;0<=o&&0<=s&&o<t.$canvas.width()&&s<t.$canvas.height()?(t.ruler.setCursorPos(o,s),t.ruler.showCursor()):t.ruler.hideCursor()}),a.addEventListener(e[0],function(n){if(n.target===a&&(t.unselectComponent(),t.state===c.STATE[0])){var i=a.getBoundingClientRect(),s=t,l=t.getEventInfo(n),r=l.clientX,p=l.clientY,d=null;document.addEventListener(e[1],u),document.addEventListener(e[2],function t(n){d&&(d.width()<d.minWidth||d.height()<d.minHeight)&&s.removeComponent(d),document.removeEventListener(e[1],u),document.removeEventListener(e[2],t)})}function u(t){null===d&&(d=new o.default,s.curSelectedComponent=d,s.addComponent(d),d.select(),d.showToolbar());var e,n,a,l,c=(t=s.getEventInfo(t)).clientX,u=t.clientY;a=c<r?r-(e=c):c-(e=r),l=u<p?p-(n=u):u-(n=p),s.setElementPos(d.$el,e-i.left,n-i.top,a,l),d.resetPositionInfo()}})},c.prototype.setState=function(t){if((this.state=t)===c.STATE[1]?this.selector.selectable("option","disabled",!1):this.selector.selectable("option","disabled",!0),t===c.STATE[2]){this.$canvas.addClass("handle");var e=this.myScroll.x,n=this.myScroll.y;this.myScroll.destroy(),this.createIScroll(!1,e,n)}else this.$canvas.removeClass("handle"),e=this.myScroll.x,n=this.myScroll.y,this.myScroll.destroy(),this.createIScroll(!0,e,n)},c.prototype.unselectComponent=function(){this.curSelectedComponent&&(this.curSelectedComponent.unselect(),this.curSelectedComponent=null)},c.prototype.selectComponent=function(t){null!=this.curSelectedComponent&&this.curSelectedComponent!=t&&this.curSelectedComponent.unselect(),t.select(),this.curSelectedComponent=t},c.prototype.setElementPos=function(t,e,n,a,i){t.css("left",e+"px"),t.css("top",n+"px"),t.css("width",a+"px"),t.css("height",i+"px")},c.prototype.isTouch=function(){return"ontouchstart"in window},c.prototype.getEventInfo=function(t){return this.isTouch()?t.targetTouches[0]:t},c.prototype.removeComponent=function(t){t.remove(),this.components.remove(t)},c.prototype.addComponent=function(t){t.mount(this),this.components.push(t)},c.prototype.setComponentAllowOverstep=function(t){this.components.forEach(function(e){t?e.drag.option("containment",!1):e.drag.option("containment","parent")})},c.prototype.generateJsonCode=function(){var t=this;return this.props.width=this.pageWidth,this.props.height=this.pageHeight,this.props.app=[],this.components.forEach(function(e){t.props.app.push(e.getProps())}),JSON.stringify(this.props)},c.prototype.generateHtmlCode=function(){var t=[];return this.components.forEach(function(e){t.push(e.toHtml())}),'<div style="position: relative; overflow: hidden;width: '+this.pageWidth+"px; height: "+this.pageHeight+"px;background: "+this.props.bgColor+';">\n      '+t.join("")+"\n    </div>"},c.prototype.getRandomStr=function(t){for(var e=[],n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];t--;)e.push(n[Math.floor(n.length*Math.random())]);return e.join("")},c.prototype.clear=function(){this.components.forEach(function(t){t.remove()}),this.components=[]},c.prototype.loadProp=function(t){this.props=t;var e=this.propPanel,n=e.$el,a=e.$inputWidth,i=e.$alignSelect,o=e.$inputHeight,s=e.$allowOverstep;a.val(t.width),o.val(t.height),i.val(t.position),"transparent"===t.bgColor?(this.$canvasBox.addClass("bg-trans"),this.$canvas.css("background-color","transparent"),$("#inputBgColor").val("").change()):(this.$canvasBox.removeClass("bg-trans"),this.$canvas.css("background-color",t.bgColor),$("#inputBgColor").val(t.bgColor).change()),this.$canvas.css("background-position",""+t.position),this.$canvas.css("background-image",'url("'+t.bgImg+'")'),"hidden"===t.overflow?(s.removeClass("active"),this.setComponentAllowOverstep(!1)):"visible"===t.overflow&&(s.addClass("active"),this.setComponentAllowOverstep(!0)),"repeat"===t.repeat&&(n.find(".page-check[data-val=repeat]").addClass("active"),this.$canvas.css("background-repeat","repeat")),t.attachment&&(n.find(".page-check[data-val=fixed]").addClass("active"),this.$canvas.css("background-attachment","fixed")),this.setCanvasSize(t.width,t.height),this.loadApp(t.app)},c.prototype.loadApp=function(t){var e=this;this.clear(),t.forEach(function(t){var n=null;"xdtb"===t.appType?n=new s.default:"xwzb"===t.appType?n=new l.default:"wangh"===t.appType&&(n=new r.default),n.formData=t.config,n.update(n.formData),n.setPosition(t.pos),e.addComponent(n)})},c.prototype.initPorpPanel=function(){var t=$(".page-config"),e=t.find(".input-width"),n=t.find(".input-height"),a=t.find(".input-bg"),i=(t.find(".calc-width"),t.find(".calc-height"),t.find(".align-select")),o=t.find("#allowOverstep");this.propPanel={$el:t,$inputWidth:e,$inputHeight:n,$alignSelect:i,$allowOverstep:o},e.val(this.pageWidth),n.val(this.pageHeight);var s=this;$(document).spectrum({showPalette:!0,maxSelectionSize:18,showInitial:!0,preferredFormat:"hex",showButtons:!1,palette:[["#000","#444","#666","#999","#ccc","#eee"],["#f00","#f90","#ff0","#0f0","#0ff","#00f"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394"]],move:function(t,e){if("inputBgColor"===e.attr("id")&&s&&(t||(s.$canvasBox.addClass("bg-trans"),s.$canvas.css("background-color","transparent"),s.props.bgColor="transparent"),"object"==typeof t)){var n=t.toHexString();s.$canvasBox.removeClass("bg-trans"),s.$canvas.css("background-color",n+""),s.props.bgColor=n}}}).spectrum.freshSpan(),e.bind("input",function(){s.pageWidth=+$(this).val(),s.setCanvasSize(s.pageWidth,s.pageHeight)}),n.bind("input",function(){s.pageHeight=+$(this).val(),s.setCanvasSize(s.pageWidth,s.pageHeight)}),a.bind("input",function(){var t=$(this).val();s.props.bgImg=t,s.$canvas.css("background-image",'url("'+t+'")')}),i.change(function(){var t=$(this).val();s.$canvas.css("background-position",""+t),s.props.position=t}),o.bind("click",function(){o.hasClass("active")?(o.removeClass("active"),s.props.overflow="hidden",s.setComponentAllowOverstep(!1)):(o.addClass("active"),s.props.overflow="visible",s.setComponentAllowOverstep(!0))}),t.find(".bgImg-box .page-check").bind("click",function(){var t=$(this),e=t.data("val");console.log(e),t.hasClass("active")?(t.removeClass("active"),"repeat"===e&&(s.$canvas.css("background-repeat",""),s.props.repeat=""),"fixed"===e&&(s.$canvas.css("background-attachment",""),s.props.attachment="")):(t.addClass("active"),"repeat"===e&&(s.$canvas.css("background-repeat","repeat"),s.props.repeat="repeat"),"fixed"===e&&(s.$canvas.css("background-attachment","fixed"),s.props.attachment="fixed"))})},c.STATE=["hotarea","selection","handle"],c);function c(){this.EVENTS=[],this.isRuler=!0,this.drags=[],this.curSelectedComponent=null,this.components=[],this.selector=null,this.pageWidth=1920,this.pageHeight=2561,this.state=c.STATE[0],this.propPanel={},this.props={bgColor:"#FFFFFF",position:"50% 0%",overflow:"hidden"},this.EVENTS=this.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.id=this.getRandomStr(5)}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i.prototype.create=function(t){var e=$('\n      <div class="ruler">\n        <div class="rulerX">\n          <div>\n            <div class="cursor-pos"><span>0</span></div>\n          </div>\n        </div>\n        <div class="rulerY">\n          <div>\n            <div class="cursor-pos"><span>0</span></div>\n          </div>\n        </div>\n      </div>\n    '),n=e.find(".rulerX > div"),a=e.find(".rulerY > div");this.$el=e,this.$rulerX=n,this.$rulerY=a,this.$cursorPosX=n.find(".cursor-pos"),this.$cursorPosY=a.find(".cursor-pos"),t.append(this.$el)},i.prototype.draw=function(){var t=this.canvasWidth,e=this.canvasHeight,n=this.paddingWidth,a=this.paddingHeight,i=50*Math.ceil(t/50)+n,o=50*Math.ceil(e/50)+a;this.paddingHeight=a,this.paddingWidth=n,this.width=i,this.height=o;for(var s=-n/2,l="",r=0;r<i/50;r++)l+="<span>"+Math.abs(s+50*r)+"</span>";var p=-a/2,c="";for(r=0;r<o/50;r++)c+="<span>"+Math.abs(p+50*r)+"</span>";this.$rulerX.append(l),this.$rulerX.width(i),this.$rulerY.append(c),this.$rulerY.height(o)},i.prototype.update=function(t,e,n,a){this.canvasWidth=t,this.canvasHeight=e,this.paddingWidth=n,this.paddingHeight=a,this.$rulerX.find("> span").remove(),this.$rulerY.find("> span").remove(),this.draw()},i.prototype.showCursor=function(){this.$cursorPosX.show(),this.$cursorPosY.show()},i.prototype.hideCursor=function(){this.$cursorPosX.hide(),this.$cursorPosY.hide()},i.prototype.setCursorPos=function(t,e){this.$cursorPosX.css("left",this.paddingWidth/2+t+"px"),this.$cursorPosY.css("top",this.paddingHeight/2+e+"px"),this.$cursorPosX.find("span").text(Math.ceil(t)),this.$cursorPosY.find("span").text(Math.ceil(e))},i.prototype.setX=function(t){this.$rulerX.css("left",t+"px")},i.prototype.setY=function(t){this.$rulerY.css("top",t+"px")},i);function i(){}e.default=a},function(t,e,n){"use strict";var a,i=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(0),l=(i(r,o=s.default),r.prototype.initFormData=function(){this.formData.appLabel="",this.formData.linkMode="urlink",this.formData.href="",this.formData.hrefMode="_blank",this.formData.wangID=""},r.prototype.onLinkModeChanged=function(t,e){var n=t.find(".wang-box"),a=t.find(".link-box");"urlink"===e?(n.hide(),a.show()):"wwlink"===e&&(a.hide(),n.show())},r.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xrq",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},r.prototype.toHtml=function(){return""},r.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href);var e=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?e.prop("checked",!0):e.prop("checked",!1),this.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=wangID]").val(this.formData.wangID)},r.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var e=$(".area-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),this.updatePropPanel(),e.find("input[type=radio][name=linkMode]").change(function(){var n=$(this).prop("value");t.formData.linkMode=n,t.onLinkModeChanged(e,t.formData.linkMode)}),e.find("input[type=text][name=href]").change(function(){var e=$(this).val();t.formData.href=e}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.formData.hrefMode=e?"_blank":""}),e.find("input[type=text][name=wangID]").change(function(){var e=$(this).val();t.formData.wangID=e})},r.prototype.openEditDialog=function(){},r.prototype.update=function(t){},r);function r(){var t=o.call(this,"hotarea-component")||this;return t.$contentBox.append('\n        <div class="hot-area-box"></div>\n      '),t}e.default=l},function(t,e){t.exports="../assets/wang2.gif"},function(t,e){t.exports="../assets/wang1.gif"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=n(3),o=n(4);e.default=function(t){this.stageCt=t;var e=$(".component-bar");this.$el=e;var n=t.curStage;e.find("li").bind("mousedown",function(t){var e=$(this).data("name"),s=null,l=Math.abs(n.myScroll.x)-n.paddingWidth/2,r=Math.abs(n.myScroll.y)-n.paddingHeight/2;"img-component"===e?s=new a.default:"text-component"===e?s=new i.default:"wang-component"===e&&(s=new o.default),s.$el.css("left",Math.max(l,0)+"px"),s.$el.css("top",Math.max(r,0)+"px"),n.addComponent(s),n.selectComponent(s)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i.prototype.generateJsonCode=function(){this.stageCt.curStage},i.prototype.openImportDialog=function(){var t=this,e=layui.layer;e.open({type:1,title:"导入代码",skin:"layui-layer-rim",area:["600px","550px"],success:function(n,a){var i=$(n),o=i.find("#jsonTextArea");i.find(".confirm-btn").bind("click",function(){var n=o.val().toString(),i=JSON.parse(n);t.stageCt.curStage.loadProp(i),e.close(a)}),i.find(".cancel-btn").on("click",function(){e.close(a)})},content:'\n        <div class="codegen" style="padding: 15px 10px">\n          <div class="layui-tab">\n            <ul class="layui-tab-title" style="font-size: 12px">\n              <li style="font-size: 12px" class="layui-this">覆盖导入</li>\n              <li style="font-size: 12px">追加导入</li>\n            </ul>\n            <div class="layui-tab-content">\n              <div class="layui-tab-item layui-show">\n                <textarea id="jsonTextArea"style="float:left;width:100%;height:320px;" spellcheck="false"></textarea>\n              </div>\n              <div class="layui-tab-item">\n                <textarea id="htmlTextArea"style="float:left;width:100%;height:320px;" spellcheck="false"></textarea>\n              </div>\n            </div>\n          </div>\n          <div class="layui-form-item" style="margin-top:15px;">\n            <div class="layui-ft-btn" style="text-align:center;padding-top: 20px">\n              <button class="layui-btn confirm-btn">确定</button>\n              <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n            </div>\n          </div>\n        </div>'})},i.prototype.openExportDialog=function(){var t=this;layui.layer.open({type:1,title:"生成代码",skin:"layui-layer-rim",area:["600px","550px"],success:function(e,n){var a=$(e),i=a.find("#jsonTextArea"),o=a.find("#htmlTextArea");i.val(t.stageCt.curStage.generateJsonCode()),o.val(t.stageCt.curStage.generateHtmlCode()),a.find(".page-width").val(t.stageCt.curStage.pageWidth),a.find(".page-height").val(t.stageCt.curStage.pageHeight)},content:'\n        <div class="codegen" style="padding: 15px 10px">\n          <div class="codegen-head">\n            <ul>\n              <li>\n                <label><span style="margin-left:10px;">当前模块宽</span>&nbsp;</label>\n                <input class="page-width" style="width:40px;" type="text" spellcheck="false">\n                <label>&nbsp;&nbsp;高&nbsp;</label>\n                <input class="page-height" style="width:40px;" type="text" spellcheck="false">\n                <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当内容超出模块范围时：&nbsp;</label>\n                <div id="rm_o1">\n                  <input class="cfgl-rr" type="radio" id="m_o2" name="overflowMode" value="visible" spellcheck="false">\n                  <label class="cfgl-radio cfgl-radio-checked" for="m_o2" title="" style="border-right:none;border-radius:2px 0 0 2px;">显示</label>\n                  <input class="cfgl-rr" type="radio" id="m_o1" name="overflowMode" checked="checked" value="hidden" spellcheck="false">\n                  <label class="cfgl-radio" for="m_o1" title="" style="border-left:none;border-radius:0 2px 2px 0;">裁掉</label>\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div class="layui-tab">\n            <ul class="layui-tab-title" style="font-size: 12px">\n              <li style="font-size: 12px" class="layui-this">JSON代码</li>\n              <li style="font-size: 12px">HTML代码</li>\n            </ul>\n            <div class="layui-tab-content">\n              <div class="layui-tab-item layui-show">\n                <textarea id="jsonTextArea"style="float:left;width:100%;height:320px;" readonly spellcheck="false"></textarea>\n              </div>\n              <div class="layui-tab-item">\n                <textarea id="htmlTextArea"style="float:left;width:100%;height:320px;" readonly spellcheck="false"></textarea>\n              </div>\n            </div>\n          </div>\n        </div>'})},i);function i(t){this.stageCt=t,this.$el=$(".header");var e=this;this.$el.find(".export-btn").bind("click",function(){e.openExportDialog()}),this.$el.find(".import-btn").bind("click",function(){e.openImportDialog()}),this.$el.find(".preview-btn").bind("click",function(){var t=window.open(""),n=window.location.href;t.document.write('<html><head><title></title><link rel="stylesheet" type="text/css" href="'+n+'css/common.css"></head><body>'),t.document.write(e.stageCt.curStage.generateHtmlCode()),t.document.write("</body></html>"),t.focus(),t.document.title="预览"})}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(19);e.default=function(t){this.stageCt=t;var e=$(".setting-bar"),n=e.find(".page-config"),i=(e.find(".assist-config"),e.find(".magnet-config"),n),o=$(".toolbar"),s=o.find(".group3.active"),l=o.find(".group1.active");this.$el=o;var r=this;o.find("li").bind("click",function(t){var e=$(this),n=e.data("name");if("draggable"===n){a.default.draggable=!a.default.draggable;var o=e.find("icon");a.default.draggable?(o.text("ꑸ"),o.removeClass("color0"),o.addClass("color1")):(o.text("ꑹ"),o.removeClass("color1"),o.addClass("color0"))}else if("assist"===n||"magnet"===n||"page"===n){var p=$("."+n+"-config");i.is(p)||(i.hide(),(i=p).show(),s.removeClass("active"),e.addClass("active"),s=e)}else"hotarea"!==n&&"selection"!==n&&"handle"!==n||e!==l&&(l.removeClass("active"),e.addClass("active"),l=e,r.stageCt.curStage.setState(n))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i.draggable=!0,i);function i(){}e.default=a}]);
//# sourceMappingURL=index.bundle.js.map