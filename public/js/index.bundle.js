!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=15)}([function(t,e,a){"use strict";function i(t){switch(typeof t){case"undefined":return!0;case"string":if(0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var e in t)return!1;return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=i,e.compareForm=function(t,e){for(var a in t)if(t[a]!==e[a])return!1;return!0},e.setRanDom=function(){var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];return t[Math.floor(62*Math.random())]+t[Math.floor(62*Math.random())]+t[Math.floor(62*Math.random())]+t[Math.floor(62*Math.random())]},e.valInt=function(t){var e;return t&&""!=t?(e=parseInt(t,10),!isNaN(e)||(e=0),e):t},e.valEmpty=function(t){return i(t)?"":t}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=a(25),o=(s.prototype.width=function(){return this.$el.width()},s.prototype.height=function(){return this.$el.height()},s.prototype.left=function(){return parseInt(this.$el[0].style.left)},s.prototype.top=function(){return parseInt(this.$el[0].style.top)},s.prototype.setContent=function(t){this.$contentBox.append(t)},s.prototype.remove=function(){this.$el.remove()},s.prototype.clone=function(){var t=this.stage.$componentTopBar.find(".copy")[0],e=this.stage.$componentTopBar[0].offsetLeft+t.offsetLeft,a=this.stage.$componentTopBar[0].offsetTop+t.offsetTop,i=new this.constructor;i.formData=JSON.parse(JSON.stringify(this.formData)),i.update(this.formData),i.setPosition({l:e,t:a,w:this.width(),h:this.height()});var n=this;this.stage.actionManager.execute({do:function(){n.stage.addComponent(i),n.stage.selectComponent(i)},undo:function(){n.stage.removeComponent(i),n.stage.unselectComponent(i),0<n.stage.components.length&&n.stage.selectComponent(n.stage.components[n.stage.components.length-1])}});var o=this.stage.curMouseEvent.clientX,s=this.stage.curMouseEvent.clientY;i.drag.start({type:"mock",clientX:o,clientY:s})},s.prototype.select=function(){this.selectFlag||(this.$el.addClass("ui-selected"),this.selectFlag=1,this.resetPositionInfo(),this.initPorpPanel())},s.prototype.resetPositionInfo=function(){this.stage.resetComponentPositionInfo()},s.prototype.setPosition=function(t,e){var a=t.l,i=t.t,o=t.w,s=t.h;void 0===e&&(e=!1);var l={l:this.left(),t:this.top(),w:this.width(),h:this.height()};this.$el.width(o),this.$el.height(s),this.$el.css("left",a+"px"),this.$el.css("top",i+"px");var r={l:this.left(),t:this.top(),w:this.width(),h:this.height()};if(e&&(l.l!==r.l||l.t!==r.t||l.w!==r.w||l.h!==r.h)){var d=new n.default(this);d.setOriginPos(l),d.setEndPos(r),this.stage.actionManager.execute(d)}},s.prototype.unselect=function(){this.$el.removeClass("ui-selected"),this.selectFlag=0,this.stage.hideComponentToolbar()},s.prototype.deleteSelf=function(){var t=layui.layer,e=this;t.confirm("您确定是否删除该组件吗？",{btn:["确定","关闭"],icon:3,title:"提示"},function(a){t.close(a),e.stage.removeComponent(e)},function(){})},s.prototype.mount=function(t){var e=this;(this.stage=t).$canvas.append(this.$el),this.enableResize&&this.$el.resizable({classes:{"ui-resizable-se":""},handles:"all",resize:function(){e.resetPositionInfo(),e.stage.setComponentToolbarPos()}}),this.$contentBox.on("mousedown",function(t){1!==e.selectFlag?t.ctrlKey?e.stage.selectComponent(e,1):e.stage.selectComponent(e):e.initPorpPanel()}),this.$contentBox.on("mouseenter",function(t){2===e.drag.dragStatus&&(e.drag.dragStatus=1),0!==e.selectFlag&&0===e.drag.dragStatus&&e.stage.showComponentToolbar(e)}),this.$contentBox.on("mouseleave",function(t){1===e.drag.dragStatus&&(e.drag.dragStatus=2,e.stage.dragScroll(t,e.drag))}),this.$contentBox.on("contextmenu",function(t){t.preventDefault()}),this.isInit||this.init()},s.prototype.init=function(){var t=this;this.isInit=!0,this.id=this.stage.getRandomStr(4);var e=new i.default(this.$el[0],{handle:this.$contentBox[0],containment:this.stage.$canvas[0],isMulti:!0,snap:!0});this.drag=e;var a=null;e.onStart=function(e){a={l:t.left(),t:t.top(),w:t.width(),h:t.height()}},e.onMultiDrag=function(){0===t.drag.dragStatus&&(t.drag.dragStatus=1),t.stage.hideComponentToolbar()},e.onMultiStop=function(){t.drag.dragStatus=0,t.stage.showComponentToolbar(t)},e.onDrag=function(e){t.stage.hideComponentToolbar(),0===t.drag.dragStatus&&(t.drag.dragStatus=1)},e.onStop=function(e){t.drag.dragStatus=0,t.stage.showComponentToolbar(t);var i={l:t.left(),t:t.top(),w:t.width(),h:t.height()};if(a.l!==i.l||a.t!==i.t){var o=new n.default(t);o.setOriginPos(a),o.setEndPos(i),t.stage.actionManager.execute(o)}}},s);function s(t,e){for(var a in void 0===t&&(t=""),void 0===e&&(e={}),this.props={},this.formData={},this.isLockedPos=!1,this.enableResize=!0,this.selectFlag=0,this.isEditPopup=!0,this.isInit=!1,this.name=t,e)this[a]=e[a];var i=$('\n      <div class="component-box t-app">\n        <div class="content-box">\n        </div>\n      </div>\n    ');this.$contentBox=i.find(".content-box"),t&&i.addClass(t),this.$el=i,this.minWidth=24,this.minHeight=24;var n=this;this.$contentBox.dblclick(function(){n.isEditPopup&&n.openEditDialog()})}e.default=o},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0);function n(t,e,a,n,o){var s=e;return i.isEmpty(t)||(e=i.isEmpty(e)?"":" "+e,s="url("+t+")"+(a=i.isEmpty(a)?" no-repeat":" "+a)+(n=i.isEmpty(n)?"":" "+n)+e+(o=i.isEmpty(o)?"":" "+o)),s}e.wwUrl=function(t,e,a,i){return"wwlink"==e?"//amos.alicdn.com/msg.aw?&v=2&uid="+a+"&site=enaliint&s="+i+"&charset=UTF-8":t},e.onLinkModeChanged=function(t,e){var a=t.find(".wang-box"),i=t.find(".link-box");"urlink"===e?(a.hide(),i.show()):"wwlink"===e&&(i.hide(),a.show())},e.boxShadow=function(t,e,a,i,n){var o=t+"px";return o+=" "+e+"px",o+=a?" "+a+"px":"",(o+=i?" "+i+"px":"")+(n?" "+n:"")},e.bgImage=n,e.textLine=function(t,e,a){var i=""!=a?a:"";return i+=""!=t?" "+t:"",""==(i+=""!=e?" "+e:"")&&(i="none"),i},e.onDisabledChanged=function(t,e,a){var i=e.next();i.removeAttr("disabled"),i.removeClass("state-disabled"),""!==a&&"xins-box-fromleft"!==a&&"xins-box-fromright"!==a&&"xins-box-fromtop"!==a&&"xins-box-frombottom"!==a||(i.attr("disabled","disabled"),i.addClass("state-disabled"))},e.BezierCss=function(t,e){var a="";if("bs"==t)switch(e){case"b":a="1, 0, 1, 0";break;case"m":a="1, 0, 1, 1";break;default:a="0.42, 0, 1, 1"}else if("bq"==t)switch(e){case"b":a="0, 1, 0, 1";break;case"m":a="0, 0, 0, 1";break;default:a="0, 0, 0.58, 1"}else if("bt"==t)switch(e){case"b":a="0.5,2.2,1,0.8";break;case"m":a="0.5, 2.2, 0.5, 0.8";break;default:a="1, 2.2, 0.5, 0.8"}else if("bc"==t)switch(e){case"b":a="0.5, 0.2, 1, -1.2";break;case"m":a="0.5, 0.2, 0.5, -1.2";break;default:a="1, 0.2, 0.5, -1.2"}else if("bd"==t)switch(e){case"b":a="0.5, 1, 1, 0";break;case"m":a="0.5, 1, 0.5, 0";break;default:a="1, 1, 0.5, 0"}else if("bx"==t)switch(e){case"b":a="0.5, 1.5, 0.5, -1.5";break;case"m":a="0.5, 2, 0.5, -1";break;default:a="0.5, 3, 0.5, 0"}return""!=a?"cubic-bezier("+a+") ":""},e.ImgBgHtml=function(t){var e={imgBgStyle:"",Html:""},a=i.valEmpty(t.bRadius),o=""!=a?"border-radius:"+a+"px;":"",s=i.valEmpty(t.imgMode),l=i.valEmpty(t.bgImg),r=""!=i.valEmpty(t.bgColor)?t.bgColor:"",d="";if(""!=l){var p="";switch(s){case"cut":d=n(l,r,"no-repeat","0% 0%",""),e.imgBgStyle=""!=d?"background:"+d+";":"";break;case"full":p='<img src="'+l+'" style="'+o+'width:100%;height:100%;" />';break;case"scaleX":p='<img src="'+l+'" style="'+o+'height:100%;"  />';break;case"scaleY":p='<img src="'+l+'" style="'+o+'width:100%;" />'}e.Html=p}return e},e.conModeChanged=function(t,e){var a=t.find(".txt-box"),i=t.find(".img-box");"txt"===e?(a.show(),i.hide()):"img"===e&&(a.hide(),i.show())}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.prototype.setOldFormData=function(t){this.oldFormData=JSON.parse(JSON.stringify(t))},n.prototype.setNewFormData=function(t){this.newFormData=t},n.prototype.do=function(){this.component&&this.newFormData&&(this.component.formData=this.newFormData,this.component.doUpdate(this.newFormData),this.component.initPorpPanel())},n.prototype.undo=function(){this.component&&this.oldFormData&&(this.component.formData=this.oldFormData,this.component.doUpdate(this.oldFormData),this.component.initPorpPanel())},n);function n(t){this.oldFormData=null,this.newFormData=null,this.component=null,this.component=t}e.default=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setFontOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var e="",a=0,i=[{value:"Roboto",text:"Roboto"},{value:"Helvetica Neue",text:"Helvetica Neue"},{value:"Helvetica",text:"Helvetica"},{value:"Tahoma",text:"Tahoma"},{value:"Arial",text:"Arial"},{value:"PingFang SC",text:"PingFang SC"},{value:"Microsoft YaHei",text:"Microsoft YaHei"}];a<i.length;a++){var n=i[a];e+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(e)}},e.setAntSpinvOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var e="",a=0,i=[{value:"0",text:"0度"},{value:"2",text:"2度"},{value:"5",text:"5度"},{value:"10",text:"10度"},{value:"20",text:"20度"},{value:"30",text:"30度"},{value:"40",text:"40度"},{value:"50",text:"50度"},{value:"60",text:"60度"},{value:"70",text:"70度"},{value:"80",text:"80度"},{value:"90",text:"90度"},{value:"120",text:"120度"},{value:"180",text:"180度"},{value:"270",text:"270度"},{value:"360",text:"360度"},{value:"720",text:"720度"}];a<i.length;a++){var n=i[a];e+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(e)}},e.setAntMrZoomOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var e="",a=0,i=[{value:"",text:"无效果"},{value:"xins-mr-sf0",text:"缩小至消失"},{value:"xins-mr-sf02",text:"缩小至0.2倍"},{value:"xins-mr-sf04",text:"缩小至0.4倍"},{value:"xins-mr-sf05",text:"缩小至0.5倍"},{value:"xins-mr-sf06",text:"缩小至0.6倍"},{value:"xins-mr-sf08",text:"缩小至0.7倍"},{value:"xins-mr-sf09",text:"缩小至0.9倍"},{value:"xins-mr-sf095",text:"缩小至0.95倍度"},{value:"xins-mr-sf098",text:"缩小至0.98倍"},{value:"xins-mr-sf1",text:"原始尺寸"},{value:"xins-mr-sf102",text:"放大至1.02倍"},{value:"xins-mr-sf105",text:"放大至1.05倍"},{value:"xins-mr-sf110",text:"放大至1.1倍"},{value:"xins-mr-sf120",text:"放大至1.2倍"},{value:"xins-mr-sf150",text:"放大至1.3倍"},{value:"xins-mr-sf180",text:"放大至1.8倍"},{value:"xins-mr-sf200",text:"放大至2倍"}];a<i.length;a++){var n=i[a];e+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(e)}},e.setAntMvZoomOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var e="",a=0,i=[{value:"",text:"无效果"},{value:"xins-box-sf0",text:"缩小至消失"},{value:"xins-box-sf02",text:"缩小至0.2倍"},{value:"xins-box-sf04",text:"缩小至0.4倍"},{value:"xins-box-sf05",text:"缩小至0.5倍"},{value:"xins-box-sf06",text:"缩小至0.6倍"},{value:"xins-box-sf08",text:"缩小至0.7倍"},{value:"xins-box-sf09",text:"缩小至0.9倍"},{value:"xins-box-sf095",text:"缩小至0.95倍度"},{value:"xins-box-sf098",text:"缩小至0.98倍"},{value:"xins-box-sf1",text:"原始尺寸"},{value:"xins-box-sf102",text:"放大至1.02倍"},{value:"xins-box-sf105",text:"放大至1.05倍"},{value:"xins-box-sf110",text:"放大至1.1倍"},{value:"xins-box-sf120",text:"放大至1.2倍"},{value:"xins-box-sf150",text:"放大至1.3倍"},{value:"xins-box-sf180",text:"放大至1.8倍"},{value:"xins-box-sf200",text:"放大至2倍"}];a<i.length;a++){var n=i[a];e+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(e)}},e.setAntMovevOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var e="",a=0,i=[{value:"0",text:"0像素"},{value:"5",text:"5像素"},{value:"10",text:"10像素"},{value:"15",text:"15像素"},{value:"20",text:"20像素"},{value:"30",text:"30像素"},{value:"40",text:"40像素"},{value:"50",text:"50像素"},{value:"60",text:"60像素"},{value:"70",text:"70像素"},{value:"80",text:"80像素"},{value:"90",text:"90像素"},{value:"100",text:"100像素"},{value:"70",text:"70像素"},{value:"110",text:"110像素"},{value:"120",text:"120像素"},{value:"130",text:"130像素"},{value:"140",text:"140像素"},{value:"150",text:"150像素"},{value:"160",text:"160像素"},{value:"170",text:"170像素"},{value:"180",text:"180像素"},{value:"190",text:"190像素"},{value:"200",text:"200像素"},{value:"210",text:"210像素"},{value:"220",text:"220像素"},{value:"230",text:"230像素"},{value:"240",text:"240像素"},{value:"250",text:"250像素"},{value:"260",text:"260像素"},{value:"270",text:"270像素"},{value:"280",text:"280像素"},{value:"290",text:"290像素"},{value:"300",text:"300像素"},{value:"310",text:"310像素"},{value:"320",text:"320像素"},{value:"330",text:"330像素"},{value:"340",text:"340像素"},{value:"350",text:"350像素"},{value:"360",text:"360像素"},{value:"370",text:"370像素"},{value:"380",text:"380像素"},{value:"390",text:"390像素"},{value:"400",text:"400像素"},{value:"410",text:"410像素"},{value:"420",text:"420像素"},{value:"430",text:"430像素"},{value:"440",text:"440像素"},{value:"450",text:"450像素"},{value:"460",text:"460像素"},{value:"470",text:"470像素"},{value:"480",text:"480像素"},{value:"490",text:"490像素"},{value:"500",text:"500像素"},{value:"510",text:"510像素"},{value:"520",text:"520像素"},{value:"530",text:"530像素"},{value:"540",text:"540像素"},{value:"550",text:"550像素"},{value:"560",text:"560像素"},{value:"570",text:"570像素"},{value:"580",text:"580像素"},{value:"590",text:"590像素"},{value:"600",text:"600像素"},{value:"610",text:"610像素"},{value:"620",text:"620像素"},{value:"670",text:"670像素"},{value:"720",text:"720像素"},{value:"770",text:"770像素"},{value:"820",text:"820像素"},{value:"870",text:"870像素"},{value:"920",text:"920像素"},{value:"970",text:"970像素"},{value:"820",text:"820像素"},{value:"870",text:"870像素"},{value:"1020",text:"1020像素"},{value:"1070",text:"1070像素"},{value:"1170",text:"1170像素"},{value:"1220",text:"1220像素"},{value:"1270",text:"1270像素"},{value:"1320",text:"1320像素"},{value:"1370",text:"1370像素"},{value:"1420",text:"1420像素"},{value:"1470",text:"1470像素"},{value:"1520",text:"1520像素"},{value:"1570",text:"1570像素"},{value:"1620",text:"1620像素"},{value:"1670",text:"1670像素"},{value:"1720",text:"1720像素"},{value:"1770",text:"1770像素"},{value:"1820",text:"1820像素"},{value:"1870",text:"1870像素"},{value:"1920",text:"1920像素"}];a<i.length;a++){var n=i[a];e+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(e)}},e.setAntBezierOption=function(t){if(""===t.html().trim().replace(/\s/g,"")){for(var e="",a=0,i=[{value:"",text:"匀速平滑"},{value:"bs",text:"由慢到快"},{value:"bq",text:"由快到慢"},{value:"bt",text:"跑过回头（加速）"},{value:"bc",text:"起步后撤（加速）"},{value:"bd",text:"中间停顿（加速）"},{value:"bx",text:"弹性抖动（1）"}];a<i.length;a++){var n=i[a];e+='<option value="'+n.value+'">'+n.text+"</option>"}t.append(e)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0);function n(t,e,a){var i=t.find("input[type=text][name=bdWidth]").val();t.find("input[type=text][name=mbdWidth]").val(i);var n=t.find("input[type=radio][name=bdStyle]:checked").val();t.find("input[type=radio][name=mbdStyle][value="+n+"]").prop("checked",!0);var o=t.find("input[type=text][name=bdColor]").val(),s=t.find("input[type=text][name=mbdColor]");s.val(o),s.prev().find(".sp-preview-inner").css("background-color",o);var l=t.find("input[type=checkbox][name=bdT]"),r=t.find("input[type=checkbox][name=mbdT]"),d=l.is(":checked");r.prop("checked",d);var p=t.find("input[type=checkbox][name=bdB]"),c=t.find("input[type=checkbox][name=mbdB]"),m=p.is(":checked");c.prop("checked",m);var u=t.find("input[type=checkbox][name=bdL]"),f=t.find("input[type=checkbox][name=mbdL]"),h=u.is(":checked");f.prop("checked",h);var v=t.find("input[type=checkbox][name=bdR]"),y=t.find("input[type=checkbox][name=mbdR]"),b=v.is(":checked");y.prop("checked",b),e&&(a.formData.mbdT=t.find("input[type=checkbox][name=mbdT]:checked").val(),a.formData.mbdB=t.find("input[type=checkbox][name=mbdB]:checked").val(),a.formData.mbdL=t.find("input[type=checkbox][name=mbdL]:checked").val(),a.formData.mbdR=t.find("input[type=checkbox][name=mbdR]:checked").val(),a.formData.mbdWidth=i,a.formData.mbdColor=o,a.formData.mbdStyle=n)}e.setPopHtmlBorder=function(t,e){e.formData.bdColor&&t.find("input[type=text][name=bdColor]").prev().find(".sp-preview-inner").css("background-color",e.formData.bdColor),e.formData.mbdColor&&t.find("input[type=text][name=mbdColor]").prev().find(".sp-preview-inner").css("background-color",e.formData.mbdColor),t.find(".layui-btn-sm").on("click",function(){var a=layui.form,i=layui.layer;i.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(o){n(t,!1,e),a.render(),i.close(o)}})})},e.editPopHtmlBorder=function(t){t.append('<div class="layui-tab layui-side-card">\n      <ul class="layui-tab-title"  >\n        <li class="layui-this" style="margin-top: 110px;">默认边框</li>\n        <li class="">鼠标划过动画</li>\n      </ul>\n      <div class="layui-tab-content" style="height: 400px;">\n        <div class="layui-tab-item layui-show">\n          <fieldset class="layui-elem-field" style="margin-top:20px;">\n            <legend>默认边框</legend>\n            <div class="layui-field-box">\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">边框显示</label>\n                <div class="layui-input-block">\n                  <input type="checkbox" name="bdT" value="on" lay-skin="primary" title="上边"  >\n                  <input type="checkbox" name="bdB" value="on" lay-skin="primary" title="下边">\n                  <input type="checkbox" name="bdL" value="on" lay-skin="primary" title="左边" >\n                  <input type="checkbox" name="bdR" value="on" lay-skin="primary" title="右边"  >\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">边框粗细</label>\n                <div class="layui-input-inline input-short" style="width:80px;"><input name="bdWidth" type="text" class="layui-input"></div>\n                <label class="layui-form-label">边框颜色</label>\n                <div class="layui-input-inline pagecolorpanel input-short"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="bdColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">边框样式</label>\n                <div class="layui-input-block">\n                  <input type="radio" name="bdStyle" lay-filter="bdStyle" value="solid" title="实线" checked="">\n                  <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dotted" title="细虚线">\n                  <input type="radio" name="bdStyle" lay-filter="bdStyle" value="dashed" title="粗虚线">\n                </div>\n              </div>\n            </div>\n          </fieldset>\n          <fieldset class="layui-elem-field" style="margin-top:20px;">\n            <legend>\n              <span  style="margin-right:15px;  display:inline-block"> 鼠标_移上边框 </span>\n              <button type="button" class="layui-btn layui-btn-sm">同步默认边框</button>\n            </legend>\n            <div class="layui-field-box">\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">边框显示</label>\n                <div class="layui-input-block">\n                  <input type="checkbox" name="mbdT" value="on" lay-skin="primary" title="上边"  >\n                  <input type="checkbox" name="mbdB" value="on" lay-skin="primary" title="下边">\n                  <input type="checkbox" name="mbdL" value="on" lay-skin="primary" title="左边" >\n                  <input type="checkbox" name="mbdR" value="on" lay-skin="primary" title="右边"  >\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">边框粗细</label>\n                <div class="layui-input-inline input-short" style="width:80px;"><input name="mbdWidth" type="text" class="layui-input"></div>\n                <label class="layui-form-label">边框颜色</label>\n                <div class="layui-input-inline pagecolorpanel input-short"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="mbdColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">边框样式</label>\n                <div class="layui-input-block">\n                  <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="solid" title="实线" checked="">\n                  <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dotted" title="细虚线">\n                  <input type="radio" name="mbdStyle" lay-filter="mbdStyle" value="dashed" title="粗虚线">\n                </div>\n              </div>\n            </div>\n          </fieldset>\n        </div>\n        <div class="layui-tab-item ">\n          <fieldset  class="layui-elem-field" style="margin-top:25px;">\n            <legend>\n              动画时长                      \n              <input class="input-short"  type="text" name="mbdTsDur"  style="width:50px; height:23px; margin-left:10px; padding-left:5px;" />\n              <label class="label-con">秒</label>\n            </legend>\n            <div class="layui-field-box">\n              <input class="radio-medium" type="radio" name="mbdTsFun" value="linear"  title="匀速">\n              <input class="radio-medium" type="radio" name="mbdTsFun" value="ease"  title="逐渐变慢">\n              <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in"   title="减速">\n              <div class="sepline"></div>\n              <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-out"   title="加速">\n              <input class="radio-medium" type="radio" name="mbdTsFun" value="ease-in-out"   title="加速后减速">\n              <input class="radio-medium" type="radio" name="mbdTsFun" value="cubic-bezier"   title="动感弹跳">\n            </div>\n          </fieldset>\n          <fieldset  class="layui-elem-field" style="margin-top:25px;">\n            <legend>动画效果</legend>\n            <div class="layui-field-box">\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx0" title="直接切换">\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx1" title="渐隐渐显" >\n              <div class="sepline"></div>\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx4"  title="左对角线切入">\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx5"  title="右对角线切入">\n              <div class="sepline"></div>\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx6"  title="顺时针出现">\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx7"  title="逆时针出现">\n              <div class="sepline"></div>\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx8"  title="由点到线">\n              <input class="radio-medium" type="radio" name="mbdTsAnt"  value="bdtx9"  title="由点到面">\n            </div>\n          </fieldset>\n        </div>\n      </div>\n    </div> ')},e.updateBorder=function(t,e){var a=t.attr("mbdTsAnt");1!=i.isEmpty(a)&&t.removeClass(a),t.addClass(e.mbdTsAnt),t.attr("mbdTsAnt",e.mbdTsAnt);var n=t,o=e.bRadius?parseInt(e.bRadius):"",s=""!=e.bdWidth?parseInt(e.bdWidth):"",l=""!=e.bdColor?e.bdColor:"transparent",r=t.find(".bk-aline");"on"===e.bdT||"on"===e.bdB||"on"===e.bdL||"on"===e.bdR?(r.length<=0&&n.append("<div class='bk-aline'></div>"),(r=t.find(".bk-aline")).css("border-radius",o),"on"===e.bdT?r.css("border-top-width",s):r.css("border-top-width",0),"on"===e.bdB?r.css("border-bottom-width",s):r.css("border-bottom-width",0),"on"===e.bdL?r.css("border-Left-width",s):r.css("border-Left-width",0),"on"===e.bdR?r.css("border-right-width",s):r.css("border-right-width",0),r.css("border-style",e.bdStyle),r.css("border-color",l)):r.remove();var d=t.find(".bk-mline"),p=t.find(".w-lt"),c=t.find(".w-lb"),m=t.find(".w-ll"),u=t.find(".w-lr");if("on"===e.mbdT||"on"===e.mbdB||"on"===e.mbdL||"on"===e.mbdR){var f="cubic-bezier"===e.mbdTsFun?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":e.mbdTsFun,h=e.mbdTsDur+"s",v=""!=e.mbdWidth?parseInt(e.mbdWidth):0,y=e.mbdStyle,b=""!=e.mbdColor?e.mbdColor:"transparent";d.length<=0&&n.append("<div class='bk-mline'></div>"),(d=t.find(".bk-mline")).css("border-radius",o),d.css("border-color",b),d.css("border-style",y),d.css("transition-timing-function",f),d.css("transition-duration",h),"on"===e.mbdT?(p.length<=0&&n.append("<div class='bk-line  w-lt'></div>"),(p=t.find(".w-lt")).css("border-top-width",v),p.css("border-top-style",y),p.css("border-top-color",b),p.css("transition-timing-function",f),p.css("transition-duration",h),d.css("border-top-width",v)):(d.css("border-top-width",0),p.remove()),"on"===e.mbdB?(c.length<=0&&n.append("<div class='bk-line  w-lb'></div>"),(c=t.find(".w-lb")).css("border-bottom-width",v),c.css("border-bottom-style",y),c.css("border-bottom-color",b),c.css("transition-timing-function",f),c.css("transition-duration",h),d.css("border-bottom-width",v)):(d.css("border-bottom-width",0),c.remove()),"on"===e.mbdL?(m.length<=0&&n.append("<div class='bk-line  w-ll'></div>"),(m=t.find(".w-ll")).css("border-left-width",v),m.css("border-left-style",y),m.css("border-left-color",b),m.css("transition-timing-function",f),m.css("transition-duration",h),d.css("border-left-width",v)):(d.css("border-left-width",0),m.remove()),"on"===e.mbdR?(u.length<=0&&n.append("<div class='bk-line  w-lr'></div>"),(u=t.find(".w-lr")).css("border-right-width",v),u.css("border-right-style",y),u.css("border-right-color",b),u.css("transition-timing-function",f),u.css("transition-duration",h),d.css("border-right-width",v)):(d.css("border-right-width",0),u.remove()),"bdtx0"===e.mbdTsAnt||"bdtx1"===e.mbdTsAnt?(p.remove(),c.remove(),m.remove(),u.remove()):d.remove()}else d.remove(),p.remove(),c.remove(),m.remove(),u.remove()},e.editSideHtmlBorder=function(t){if(""===t.html().trim().replace(/\s/g,"")){var e=i.setRanDom(),a=' <h2 class="layui-colla-title">边框设置</h2>\n                <div class="layui-colla-content"  >\n                  <div class="layui-tab layui-tab-card">\n                    <ul class="layui-tab-title">\n                      <li class="layui-this">边框样式</li>\n                      <li>鼠标划过动画</li>\n                    </ul>\n                    <div class="layui-tab-content"  >\n                      <div class="layui-tab-item layui-show">\n\n                        <fieldset  class="layui-elem-field">\n                          <legend>默认边框</legend>\n                          <div class="layui-field-box">\n                            <div class="nromal-wrap"  >\n                              <label >边框显示</label>\n                              <div class="layui-input-inline">\n                                <input type="checkbox" name="bdT" value="on" id="border_bd1_'+e+'" title="上边"  >\n                                <label for="border_bd1_'+e+'" >上边</label>\n                                <input type="checkbox" name="bdB" value="on" id="border_bd2_'+e+'" title="下边" style="margin-left:5px;">\n                                <label for="border_bd2_'+e+'" >下边</label>\n                                <input type="checkbox" name="bdL" value="on" id="border_bd3_'+e+'" title="左边" style="margin-left:5px;">\n                                <label for="border_bd3_'+e+'" >左边</label>\n                                <input type="checkbox" name="bdR" value="on" id="border_bd4_'+e+'" title="右边"  style="margin-left:5px;">\n                                <label for="border_bd4_'+e+'" >右边</label>\n                              </div>\n                            </div>\n                            <div class="nromal-wrap"  >\n                              <label class="label-con">边框粗细</label>\n                              <input  class="input-short" name="bdWidth" type="text" style="width:50px;" >\n\n                              <label class="label-con">边框颜色</label>\n                              <div class="pagecolorpanel"  >\n                                <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                                <input name="bdColor" type="text" class="pagecolor" style="width:85px;" >\n                                <span class="clear-color-button"></span>\n                              </div>\n                            </div>\n\n                            <div class="nromal-wrap">\n                              <label >边框样式</label>\n                              <div class="layui-input-inline">\n                                <input type="radio" name="bdStyle" id="border_bds1_'+e+'" value="solid" title="实线"  >\n                                <label for="border_bds1_'+e+'" >实线</label>\n                                <input type="radio" name="bdStyle" id="border_bds2_'+e+'" value="dotted" title="细虚线">\n                                <label for="border_bds2_'+e+'" >细虚线</label>\n                                <input type="radio" name="bdStyle" id="border_bds3_'+e+'" value="dashed" title="粗虚线">\n                                <label for="border_bds3_'+e+'" >粗虚线</label>\n                              </div>\n                            </div>\n                          </div>\n                        </fieldset>\n\n                        <fieldset  class="layui-elem-field">\n                          <legend>\n                            鼠标划过边框\n                            <button type="button" class="layui-btn layui-btn-sm" style="margin-left:10px;">同步默认边框</button>\n                          </legend>\n                          <div class="layui-field-box">\n                            <div class="nromal-wrap"  >\n                              <label >边框显示</label>\n                              <div class="layui-input-inline">\n                                <input type="checkbox" name="mbdT" value="on" id="mborder_bd1_'+e+'" title="上边"  >\n                                <label for="mborder_bd1_'+e+'" >上边</label>\n                                <input type="checkbox" name="mbdB" value="on" id="mborder_bd2_'+e+'" title="下边" style="margin-left:5px;">\n                                <label for="mborder_bd2_'+e+'" >下边</label>\n                                <input type="checkbox" name="mbdL" value="on" id="mborder_bd3_'+e+'" title="左边" style="margin-left:5px;">\n                                <label for="mborder_bd3_'+e+'" >左边</label>\n                                <input type="checkbox" name="mbdR" value="on" id="mborder_bd4_'+e+'" title="右边"  style="margin-left:5px;">\n                                <label for="mborder_bd4_'+e+'" >右边</label>\n                              </div>\n                            </div>\n                            <div class="nromal-wrap"  >\n                              <label class="label-con">边框粗细</label>\n                              <input  class="input-short" name="mbdWidth" type="text" style="width:50px;" >\n                              <label class="label-con">边框颜色</label>\n                              <div class="pagecolorpanel"  >\n                                <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                                <input name="mbdColor" type="text" class="pagecolor" style="width:85px;" >\n                                <span class="clear-color-button"></span>\n                              </div>\n                            </div>\n\n                            <div class="nromal-wrap">\n                              <label >边框样式</label>\n                              <div class="layui-input-inline">\n                                <input type="radio" name="mbdStyle" id="mborder_bds1_'+e+'" value="solid" title="实线"  >\n                                <label for="mborder_bds1_'+e+'" >实线</label>\n                                <input type="radio" name="mbdStyle" id="mborder_bds2_'+e+'" value="dotted" title="细虚线">\n                                <label for="mborder_bds2_'+e+'" >细虚线</label>\n                                <input type="radio" name="mbdStyle" id="mborder_bds3_'+e+'" value="dashed" title="粗虚线">\n                                <label for="mborder_bds3_'+e+'" >粗虚线</label>\n                              </div>\n                            </div>\n                          </div>\n                        </fieldset>\n\n\n                      </div>\n                      <div class="layui-tab-item">\n                        <fieldset  class="layui-elem-field">\n                          <legend>\n                            动画时长\n                            <input class="input-short"  type="text" name="mbdTsDur"  style="width:50px; height:20px; margin-left:10px; padding-left:5px;" />\n                            <label  style="margin-right:10px;">秒</label>\n                          </legend>\n                          <div class="layui-field-box">\n                            <input class="radio-medium" type="radio" name="mbdTsFun" id="mbdTsDur_1_'+e+'" value="linear"  title="匀速">\n                            <label for="mbdTsDur_1_'+e+'" >匀速</label>\n                            <input class="radio-medium" type="radio" name="mbdTsFun" id="mbdTsDur_2_'+e+'" value="ease"  title="逐渐变慢">\n                            <label for="mbdTsDur_2_'+e+'" >逐渐变慢</label>\n                            <input class="radio-medium" type="radio" name="mbdTsFun" id="mbdTsDur_3_'+e+'" value="ease-in"   title="减速" style="margin-left: 12px;">\n                            <label for="mbdTsDur_3_'+e+'" >减速</label>\n                            <div class="sepline"></div>\n                            <input class="radio-medium" type="radio" name="mbdTsFun" id="mbdTsDur_4_'+e+'" value="ease-out"   title="加速">\n                            <label for="mbdTsDur_4_'+e+'" >加速</label>\n                            <input class="radio-medium" type="radio" name="mbdTsFun" id="mbdTsDur_5_'+e+'" value="ease-in-out"   title="加速后减速">\n                            <label for="mbdTsDur_5_'+e+'" >加速后减速</label>\n                            <input class="radio-medium" type="radio" name="mbdTsFun" id="mbdTsDur_6_'+e+'" value="cubic-bezier"   title="动感弹跳">\n                            <label for="mbdTsDur_6_'+e+'" >动感弹跳</label>\n                          </div>\n                        </fieldset>\n                        <fieldset  class="layui-elem-field">\n                          <legend>动画效果</legend>\n                          <div class="layui-field-box">\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_1_'+e+'"  value="bdtx0" title="直接切换" >\n                            <label for="mbdTsAnt_1_'+e+'" >直接切换</label>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_2_'+e+'"  value="bdtx1" title="渐隐渐显" style="margin-left: 24px;">\n                            <label for="mbdTsAnt_2_'+e+'" >渐隐渐显</label>\n                            <div class="sepline"></div>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_3_'+e+'" value="bdtx4"  title="左对角线切入">\n                            <label for="mbdTsAnt_3_'+e+'" >左对角线切入</label>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_4_'+e+'"  value="bdtx5"  title="右对角线切入">\n                            <label for="mbdTsAnt_4_'+e+'" >右对角线切入</label>\n                            <div class="sepline"></div>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_5_'+e+'"  value="bdtx6"  title="顺时针出现">\n                            <label for="mbdTsAnt_5_'+e+'" >顺时针出现</label>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_6_'+e+'"  value="bdtx7"  title="逆时针出现" style="margin-left: 12px;">\n                            <label for="mbdTsAnt_6_'+e+'" >逆时针出现</label>\n                            <div class="sepline"></div>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_7_'+e+'"  value="bdtx8"  title="由点到线">\n                            <label for="mbdTsAnt_7_'+e+'" >由点到线</label>\n                            <input class="radio-medium" type="radio" name="mbdTsAnt" id="mbdTsAnt_8_'+e+'"  value="bdtx9"  title="由点到面"  style="margin-left: 24px;">\n                            <label for="mbdTsAnt_8_'+e+'" >由点到面</label>\n                          </div>\n                        </fieldset>\n                      </div>\n                    </div>\n                  </div>\n                </div>';t.append(a)}},e.updatePropBorder=function(t,e){var a=t.find("input[type=checkbox][name=bdT]");"on"===e.formData.bdT?a.prop("checked",!0):a.prop("checked",!1);var i=t.find("input[type=checkbox][name=bdB]");"on"===e.formData.bdB?i.prop("checked",!0):i.prop("checked",!1);var n=t.find("input[type=checkbox][name=bdL]");"on"===e.formData.bdL?n.prop("checked",!0):n.prop("checked",!1);var o=t.find("input[type=checkbox][name=bdR]");"on"===e.formData.bdR?o.prop("checked",!0):o.prop("checked",!1),t.find("input[type=text][name=bdWidth]").val(e.formData.bdWidth),t.find("input[type=radio][name=bdStyle]").filter('[value="'+e.formData.bdStyle+'"]').prop("checked",!0);var s=t.find("input[type=text][name=bdColor]");s.val(e.formData.bdColor),e.formData.bdColor?s.prev().find(".sp-preview-inner").css("background-color",e.formData.bdColor):s.prev().find(".sp-preview-inner").css("background-color","");var l=t.find("input[type=checkbox][name=mbdT]");"on"===e.formData.mbdT?l.prop("checked",!0):l.prop("checked",!1);var r=t.find("input[type=checkbox][name=mbdB]");"on"===e.formData.mbdB?r.prop("checked",!0):r.prop("checked",!1);var d=t.find("input[type=checkbox][name=mbdL]");"on"===e.formData.mbdL?d.prop("checked",!0):d.prop("checked",!1);var p=t.find("input[type=checkbox][name=mbdR]");"on"===e.formData.mbdR?p.prop("checked",!0):p.prop("checked",!1),t.find("input[type=text][name=mbdWidth]").val(e.formData.mbdWidth),t.find("input[type=radio][name=mbdStyle]").filter('[value="'+e.formData.mbdStyle+'"]').prop("checked",!0);var c=t.find("input[type=text][name=mbdColor]");c.val(e.formData.mbdColor),e.formData.mbdColor?c.prev().find(".sp-preview-inner").css("background-color",e.formData.mbdColor):c.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=mbdTsDur]").val(e.formData.mbdTsDur),t.find("input[type=radio][name=mbdTsFun]").filter('[value="'+e.formData.mbdTsFun+'"]').prop("checked",!0),t.find("input[type=radio][name=mbdTsAnt]").filter('[value="'+e.formData.mbdTsAnt+'"]').prop("checked",!0)},e.initPorpBorder=function(t,e){t.find("input[type=checkbox][name=bdT]").change(function(){var t=$(this).is(":checked");e.update({bdT:t?"on":"off"})}),t.find("input[type=checkbox][name=bdB]").change(function(){var t=$(this).is(":checked");e.update({bdB:t?"on":"off"})}),t.find("input[type=checkbox][name=bdL]").change(function(){var t=$(this).is(":checked");e.update({bdL:t?"on":"off"})}),t.find("input[type=checkbox][name=bdR]").change(function(){var t=$(this).is(":checked");e.update({bdR:t?"on":"off"})}),t.find("input[type=text][name=bdWidth]").keyup(function(){var t=$(this).val();e.update({bdWidth:t})}),t.find("input[type=text][name=bdColor]").change(function(){var t=$(this).val();e.update({bdColor:t})}),t.find("input[type=radio][name=bdStyle]").change(function(){var t=$(this).prop("value");e.update({bdStyle:t})}),t.find("input[type=checkbox][name=mbdT]").change(function(){var t=$(this).is(":checked");e.update({mbdT:t?"on":"off"})}),t.find("input[type=checkbox][name=mbdB]").change(function(){var t=$(this).is(":checked");e.update({mbdB:t?"on":"off"})}),t.find("input[type=checkbox][name=mbdL]").change(function(){var t=$(this).is(":checked");e.update({mbdL:t?"on":"off"})}),t.find("input[type=checkbox][name=mbdR]").change(function(){var t=$(this).is(":checked");e.update({mbdR:t?"on":"off"})}),t.find("input[type=text][name=mbdWidth]").keyup(function(){var t=$(this).val();e.update({mbdWidth:t})}),t.find("input[type=text][name=mbdColor]").change(function(){var t=$(this).val();e.update({mbdColor:t})}),t.find("input[type=radio][name=mbdStyle]").change(function(){var t=$(this).prop("value");e.update({mbdStyle:t})}),t.find("input[type=text][name=mbdTsDur]").keyup(function(){var t=$(this).val();e.update({mbdTsDur:t})}),t.find("input[type=radio][name=mbdTsFun]").change(function(){var t=$(this).prop("value");e.update({mbdTsFun:t})}),t.find("input[type=radio][name=mbdTsAnt]").change(function(){var t=$(this).prop("value");e.update({mbdTsAnt:t})}),t.find(".layui-btn-sm").on("click",function(){var a=layui.layer;a.msg("你确定  同步默文 边框样式么？",{time:0,btn:["同步","取消"],yes:function(i){n(t,!0,e),e.update(e.formData),a.close(i)}})})},e.tongBuBorder=n,e.toHtmlBorder=function(t){var e,a,n,o,s,l,r,d,p,c,m,u,f,h,v,y,b,g,x={bdpdStyle:"",mbdpdStyle:"",Html:""},D=i.valEmpty(t.bRadius),w=""!=D?"border-radius:"+D+"px;":"";e=i.valEmpty(t.bdT),a=i.valEmpty(t.bdB),n=i.valEmpty(t.bdL),o=i.valEmpty(t.bdR),s=i.valInt(t.bdWidth),l=""!=i.valEmpty(t.bdColor)?t.bdColor:"transparent",r=i.valEmpty(t.bdStyle),d=i.valEmpty(t.mbdT),p=i.valEmpty(t.mbdB),c=i.valEmpty(t.mbdL),m=i.valEmpty(t.mbdR),u=i.valInt(t.mbdWidth),f=""!=i.valEmpty(t.mbdColor)?t.mbdColor:"transparent",h=i.valEmpty(t.mbdStyle),v=i.valEmpty(t.mbdTsDur),y=i.valEmpty(t.mbdTsFun),b=i.valEmpty(t.mbdTsAnt),g="transition-timing-function:"+("cubic-bezier"===y?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":y)+";"+(""!=v?"transition-duration:"+v+"s;":"");var k,$,C,T,S,M,P,E,_,z="";T=C=$=k=0,"on"===e&&(z+="padding-top:"+(k=s)+"px;"),"on"===a&&(z+="padding-bottom:"+($=s)+"px;"),"on"===n&&(z+="padding-left:"+(C=s)+"px;"),"on"===o&&(z+="padding-right:"+(T=s)+"px;"),E=P=M=S=0,"on"===d&&(S=u,_+="padding-top:"+k+"px;"),"on"===p&&(M=u,_+="padding-bottom:"+$+"px;"),"on"===c&&(P=u,_+="padding-left:"+C+"px;"),"on"===m&&(E=u,_+="padding-right:"+T+"px;");var I,B,A,L,F,H="",R=[];return"on"!==e&&"on"!==a&&"on"!==n&&"on"!==o||(H='<div class="bk-aline" style="'+g+w+"border-color:"+l+";border-style:"+r+";border-top-width:"+k+"px;border-bottom-width:"+$+"px;border-left-width:"+C+"px;border-right-width:"+T+'px;" ></div>',R.push(H)),I='<div class="bk-mline" style="'+g+w+"border-color:"+f+";border-style:"+h+";border-top-width:"+S+"px;border-bottom-width:"+M+"px;border-left-width:"+P+"px;border-right-width:"+E+'px;" ></div>',B='<div class="bk-line w-lt" style="'+g+"border-top-style:"+h+";border-top-color:"+f+";border-top-width:"+u+'px;"></div>',A='<div class="bk-line w-lb" style="'+g+"border-bottom-style:"+h+";border-bottom-color:"+f+";border-bottom-width:"+u+'px;"></div>',L='<div class="bk-line w-ll" style="'+g+"border-left-style:"+h+";border-left-color:"+f+";border-left-width:"+u+'px;"></div>',F='<div class="bk-line w-lr" style="'+g+"border-right-style:"+h+";border-right-color:"+f+";border-right-width:"+u+'px;"></div>',"bdtx0"==b||"bdtx1"==b?"on"!==d&&"on"!==p&&"on"!==c&&"on"!==m||R.push(I):("on"===d&&R.push(B),"on"===p&&R.push(A),"on"===c&&R.push(L),"on"===m&&R.push(F)),x.bdpdStyle=z,x.mbdpdStyle=_,x.Html=R.join(""),x}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0),n=a(2);e.setPopHtmlShadow=function(t,e){e.formData.sdColor&&t.find("input[type=text][name=sdColor]").prev().find(".sp-preview-inner").css("background-color",e.formData.sdColor),e.formData.msdColor&&t.find("input[type=text][name=msdColor]").prev().find(".sp-preview-inner").css("background-color",e.formData.msdColor)},e.editPopHtmlShadow=function(t){t.append('<div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认阴影</li>\n                  <li class="">鼠标划过阴影</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="shadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="shadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="sdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="sdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                       \n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">阴影</label>\n                      <div class="layui-input-inline">\n                        <input class="radio-medium" type="radio" name="mshadow" value="on"  title="显示">\n                        <input class="radio-medium" type="radio" name="mshadow" value="off"  title="隐藏">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">阴影大小</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdSize" class="layui-input">\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">模糊距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdBlur" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">水平阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdX" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">垂直阴影距离</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="msdY" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">阴影颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="msdColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">划过显示速度</label>\n                      <div class="layui-input-inline" style="width:230px;">\n                        <input type="text" name="msdTsDur" class="layui-input input-short"  style="width:105px;display:inline-block;">\n                        <span style="color:red;">单位 秒   可以小数点</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div> ')},e.updateShadow=function(t,e){var a=e.bRadius?parseInt(e.bRadius):"";if("on"===e.shadow){var i=e.sdX?e.sdX:0,o=e.sdY?e.sdY:0,s=n.boxShadow(i,o,e.sdBlur,e.sdSize,e.sdColor);t.css("box-shadow",s)}else t.css("box-shadow","none");var l=t.find(".mchild");if("on"===e.mshadow){i=e.msdX?e.msdX:0,o=e.msdY?e.msdY:0;var r=n.boxShadow(i,o,e.msdBlur,e.msdSize,e.msdColor);l.length<=0&&t.append("<div class='abs mchild xins-box-fadein'></div>"),(l=t.find(".mchild")).css("box-shadow",r),l.css("border-radius",a);var d=e.msdTsDur?e.msdTsDur+"s linear":0;l.css("transition",d)}else l.remove()},e.toHtmlShadow=function(t){var e={onShadow:"",offShadow:""},a=i.valEmpty(t.bRadius),o=""!=a?"border-radius:"+a+"px;":"";if("on"===i.valEmpty(t.shadow)){var s=""!=i.valEmpty(t.sdX)?t.sdX:0,l=""!=i.valEmpty(t.sdY)?t.sdY:0,r=n.boxShadow(s,l,i.valEmpty(t.sdBlur),i.valEmpty(t.sdSize),i.valEmpty(t.sdColor));e.onShadow=""!=r?"box-shadow:"+r+";":""}if("on"===i.valEmpty(t.mshadow)){var d=""!=i.valEmpty(t.msdX)?t.msdX:0,p=""!=i.valEmpty(t.msdY)?t.msdY:0,c=n.boxShadow(d,p,i.valEmpty(t.msdBlur),i.valEmpty(t.msdSize),i.valEmpty(t.msdColor));c=""!=c?"box-shadow:"+c+";":"";var m=i.valEmpty(t.msdTsDur)?t.msdTsDur+"s linear":"",u=m?"transition:"+m+";":"";e.offShadow='<div class="abs mchild xins-box-fadein" style="'+u+c+o+'" ></div>'}return e}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.prototype.init=function(t){"string"==typeof this.el&&(this.el=document.querySelector(this.el)),this.el.style.position="absolute";var e=(this.el.dragRef=this).el.className.split(" ");for(var a in e.push("draggable"),this.el.className=e.join(" "),this.handle=this.el,t)this.option(a,t[a]);this.setupEvent()},n.prototype.option=function(t,e){"containment"===t?void 0!==e&&(this.containment="parent"===e?this.el.offsetParent:e):"handle"===t?this.handle=void 0===e?this.el:"string"==typeof e?document.querySelector(e):e:void 0!==e&&(this[t]=e)},n.prototype.isTouch=function(){return"ontouchstart"in window},n.prototype.stopPropagation=function(t){window.event?window.event.cancelBubble=!0:t.stopPropagation()},n.prototype.getEventInfo=function(t){return"mock"===t.type?t:this.isTouch()?t.targetTouches[0]:t},n.prototype.drag=function(t){var e,a,i=this,n=this.EVENTS,o=0,s=0,l=0,r=0,d=0,p=0,c=i.getEventInfo(t);function m(t){var e=i.getEventInfo(t),a=e.clientX-o,n=e.clientY-s,c=i.minLeft,m=i.minTop;i.containment&&(a<c&&(a=c),n<m&&(n=m),d<a+l&&(a=d-l),p<n+r&&(n=p-r));var u=i.el.offsetLeft,f=i.el.offsetTop;"y"!==i.axis&&(i.el.style.left=a+"px"),"x"!==i.axis&&(i.el.style.top=n+"px"),i.isMock&&i.moveSelectedDraggable(i.el.offsetLeft-u,i.el.offsetTop-f),i.snap&&i.doSnap(),i.onDrag&&i.onDrag(e)}i.isDragging=!0,o=c.clientX-i.el.offsetLeft,s=c.clientY-i.el.offsetTop,l=i.el.offsetWidth,r=i.el.offsetHeight,e=document.documentElement.clientWidth,a=document.documentElement.clientHeight,d=this.containment?this.containment.clientWidth:e,p=this.containment?this.containment.clientHeight:a,document.addEventListener(n[1],m),document.addEventListener(n[2],function t(e){var a=i.getEventInfo(e);i.isDragging=!1,i.isMock&&i.el.remove(),document.removeEventListener(n[1],m),document.removeEventListener(n[2],t),i.onStop&&i.onStop(a),i.clearSnapLine()})},n.prototype.getSelectedDraggable=function(){return Array.prototype.slice.call(document.querySelectorAll(".draggable"+this.multiClass))},n.prototype.moveSelectedDraggable=function(t,e){var a=this,i=this.getSelectedDraggable();0<i.length&&i.map(function(i){i!==a.el&&(i.style.left=i.offsetLeft+t+"px",i.style.top=i.offsetTop+e+"px")})},n.prototype.createMultiDraggable=function(){var t=this.getSelectedDraggable();if(0<t.length){for(var e=t[0].offsetLeft,a=t[0].offsetTop,i=e+t[0].offsetWidth,o=a+t[0].offsetHeight,s=1;s<t.length;s++){var l=t[s].offsetLeft,r=t[s].offsetTop,d=l+t[s].offsetWidth,p=r+t[s].offsetHeight;e=Math.min(e,l),a=Math.min(a,r),i=Math.max(i,d),o=Math.max(o,p)}var c=document.createElement("div");return c.style.left=e+"px",c.style.top=a+"px",c.style.width=i-e+"px",c.style.height=o-a+"px",c.style.outline="1px dashed #cccccc",this.containment.appendChild(c),new n(c,{snap:!0,isMock:!0,containment:"parent"})}},n.prototype.start=function(t){var e=this;"mock"!==t.type&&(t.preventDefault(),this.stopPropagation(t)),this.disabled||(this.isMulti&&1<this.getSelectedDraggable().length?setTimeout(function(){var a=e.createMultiDraggable();e.disable(),a.drag(t),e.enable(),e.onMultiDrag&&e.onMultiDrag();var i=e;document.addEventListener(e.EVENTS[2],function t(){i.onMultiStop&&i.onMultiStop(),document.removeEventListener(i.EVENTS[2],t)})},10):(this.onStart&&this.onStart(t),this.drag(t)))},n.prototype.setupEvent=function(){var t=this.EVENTS,e=this.handle;this.disabled||(e.style.cursor=this.cursor,e.addEventListener(t[0],this.start.bind(this)))},n.prototype.enable=function(){this.disabled=!1},n.prototype.disable=function(){this.disabled=!0},n.prototype.getStyle=function(t,e){return window.getComputedStyle?document.defaultView.getComputedStyle(t,null).getPropertyValue(e):t.currentStyle?t.currentStyle[e]:null},n.prototype.getClientRect=function(t){var e=t.getBoundingClientRect(),a=this.containment?this.containment:this.el.offsetParent,i={},n=parseInt(this.getStyle(a,"border-left-width")),o=parseInt(this.getStyle(a,"border-top-width")),s=a.getBoundingClientRect();return i.left=e.left-s.left-n,i.top=e.top-s.top-o,i.right=i.left+e.width,i.bottom=i.top+e.height,i.width=e.width,i.height=e.height,i},n.prototype.isSnap=function(t,e){var a=this.snapTolerance;return Math.abs(t-e)<=a},n.prototype.clearSnapLine=function(){Array.apply(null,document.querySelectorAll(".snap-line")).forEach(function(t){t.offsetParent.removeChild(t)})},n.prototype.createDistText=function(t,e,a){var i=a.top,o=a.bottom,s=a.left,l=a.right,r=a.width,d=a.height,p=r/2,c=d/2,m=e.width/2,u=e.height/2,f=document.createElement("div");f.style.position="absolute",f.style.textAlign="center";var h=document.createElement("span"),v=0;h.style.background=n.snapLineColor,h.style.borderRadius="2px",h.style.lineHeight="14px",h.style.padding="0 2px",h.style.fontSize="10px",h.style.color="#ffffff",h.style.userSelect="none",f.appendChild(h);var y=this.snapFlags;if(t===y[0]||t===y[1]||t===y[3]||t===y[4]){if(f.style.bottom="0px",s<e.left?(v=e.left-l,f.style.left=r+"px"):(v=s-e.right,f.style.left=e.width+"px"),(v=Math.round(v))<0)return null;f.style.width=v+"px",f.style.paddingBottom="2px",h.innerText=v+"px"}else if(t===y[2]||t===y[10]||t===y[11]){if(f.style.bottom="0px",s<e.left?(v=e.left-l,f.style.left=p+"px"):(v=s-e.right,f.style.left=m+"px"),(v=Math.round(v))<0)return null;f.style.paddingBottom="2px",f.style.width=v+"px",h.innerText=v+"px"}else if(t===y[5]||t===y[6]||t===y[8]||t===y[9]){if(f.style.left="0px",i<e.top?(v=e.top-o,f.style.top=d+"px"):(v=i-e.bottom,f.style.top=e.height+"px"),(v=Math.round(v))<0)return null;h.style.position="absolute",h.style.top="50%",h.style.marginTop="-7px",h.style.left="2px",f.style.height=v+"px",h.innerText=v+"px"}else if(t===y[7]||t===y[12]||t===y[13]){if(f.style.left="0px",i<e.top?(v=e.top-o,f.style.top=c+"px"):(v=i-e.bottom,f.style.top=u+"px"),(v=Math.round(v))<0)return null;h.style.position="absolute",h.style.top="50%",h.style.marginTop="-7px",h.style.left="2px",f.style.height=v+"px",h.innerText=v+"px"}return f},n.prototype.showSnapLine=function(t,e){var a=e.flag,i=e.dragElemRect,o=e.snapElemRect,s=(e.snapDrag,n.snapLineSize),l=n.snapLineColor,r=o.top,d=o.bottom,p=o.left,c=o.right,m=o.width/2,u=o.height/2,f=i.width/2,h=i.height/2,v={},y=this.snapFlags;a===y[0]||a===y[1]?(v.left=p<i.left?p:i.left,v.top=r,v.bottom=v.top+s,v.right=c>i.right?c:i.right):a===y[2]?(v.top=r+u,v.bottom=v.top+s,p===i.left&&c===i.right?(v.left=p,v.right=c):p>i.left&&c<i.right?(v.left=i.left,v.right=i.right):p<i.left&&c>i.right?(v.left=i.left+f,v.right=c):(v.left=p<i.left?p+m:i.left+f,v.right=c>i.right?c-m:i.right-f)):a===y[3]||a===y[4]?(v.left=p<i.left?p:i.left,v.top=d,v.bottom=v.top+s,v.right=c>i.right?c:i.right):a===y[5]||a===y[6]?(v.left=p,v.top=r<i.top?r:i.top,v.bottom=d>i.bottom?d:i.bottom,v.right=v.left+s):a===y[7]?(v.left=p+m,r===i.top&&d===i.bottom?(v.top=r,v.bottom=d):r>i.top&&d<i.bottom?(v.top=i.top,v.bottom=i.bottom):r<i.top&&d>i.bottom?(v.top=r,v.bottom=i.top+h):(v.top=r<i.top?r+u:i.top+h,v.bottom=d>i.bottom?d-u:i.bottom-h),v.right=v.left+s):a===y[8]||a===y[9]?(v.left=c,v.top=r<i.top?r:i.top,v.bottom=d>i.bottom?d:i.bottom,v.right=v.left+s):a===y[10]||a===y[11]?(v.top=r+u,v.bottom=v.top+s,p===i.left&&c===i.right?(v.left=p,v.right=c):p>i.left&&c<i.right?(v.left=i.left,v.right=i.right):(v.left=p<i.left?p+m:i.left+f,v.right=c>i.right?c:i.right)):a!==y[12]&&a!==y[13]||(v.left=p+m,r===i.top&&d===i.bottom?(v.top=r,v.bottom=d):r>i.top&&d<i.bottom?(v.top=i.top,v.bottom=i.bottom):(v.top=r<i.top?r+u:i.top+h,v.bottom=d>i.bottom?d:i.bottom),v.right=v.left+s);var b=document.createElement("div");b.style.position="absolute",b.style.top=v.top+"px",b.style.left=v.left+"px";var g=v.right-v.left;g=g;var x=v.bottom-v.top;x=x,b.style.width=g+"px",b.style.height=x+"px",b.style.background=l,b.style.zIndex="9999999999999",b.className="snap-line";var D=this.createDistText(a,i,o);this.snapDist&&D&&b.appendChild(D),t.appendChild(b)},n.prototype.doSnap=function(){var t=this,e=this.el,a=[];"boolean"==typeof this.snap?a=[].slice.call(document.querySelectorAll(".draggable:not("+this.multiClass+")")):"string"==typeof this.snap?a=[].slice.call(document.querySelectorAll(this.snap)):"object"==typeof this.snap&&this.snap.length&&(a=this.snap);var i=this.getClientRect(this.snapAnchor?this.snapAnchor:e),n=[];this.clearSnapLine();var o=this.snapFlags;a.forEach(function(a){if(a!==e){var s=a,l=t.getClientRect(a.dragRef.snapAnchor?a.dragRef.snapAnchor:s),r=l.top,d=l.height,p=l.bottom,c=l.left,m=l.width,u=l.right,f=i.width/2,h=m/2,v=i.height/2,y=d/2;if(t.isSnap(i.top+v,r+y)){var b={flag:o[2],snapDrag:a,dragValue:r+y-v,snapElemRect:l,dragElemRect:i};n.push(b)}else t.isSnap(i.top,r)?(b={flag:o[0],dragValue:r,snapDrag:a,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.bottom,r)?(b={flag:o[1],snapDrag:a,dragValue:r-i.height,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.bottom,p)?(b={flag:o[3],snapDrag:a,dragValue:p-i.height,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.top,p)?(b={flag:o[4],snapDrag:a,dragValue:p,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.top,r+y)?(b={flag:o[10],snapDrag:a,dragValue:r+y,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.bottom,p-y)&&(b={flag:o[11],snapDrag:a,dragValue:p-y-i.height,snapElemRect:l,dragElemRect:i},n.push(b));t.isSnap(i.left+f,c+h)?(b={flag:o[7],snapDrag:a,dragValue:c+h-f,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.left,c)?(b={flag:o[5],snapDrag:a,dragValue:c,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.right,c)?(b={flag:o[6],snapDrag:a,dragValue:c-i.width,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.right,u)?(b={flag:o[8],snapDrag:a,dragValue:u-i.width,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.left,u)?(b={flag:o[9],snapDrag:a,dragValue:u,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.left,c+h)?(b={flag:o[12],snapDrag:a,dragValue:c+h,snapElemRect:l,dragElemRect:i},n.push(b)):t.isSnap(i.right,u-h)&&(b={flag:o[13],snapDrag:a,dragValue:u-h-i.width,snapElemRect:l,dragElemRect:i},n.push(b))}}),n.forEach(function(a){var i=a.flag.split("_")[0],n=e.offsetLeft,o=e.offsetTop;if(e.dragRef.snapAnchor){var s=0;"left"===i?s=e.dragRef.snapAnchor.offsetLeft:"top"===i&&(s=e.dragRef.snapAnchor.offsetTop),e.style[i]=a.dragValue-s+"px"}else e.style[i]=a.dragValue+"px";t.isMock&&t.moveSelectedDraggable(e.offsetLeft-n,e.offsetTop-o),t.snapLine&&t.showSnapLine(t.containment?t.containment:e.offsetParent,a)}),this.onSnap&&0<n.length&&this.onSnap(n)},n.snapLineColor="#FF4AFF",n.snapLineSize=1,n);function n(t,e){void 0===e&&(e={}),this.EVENTS=[],this.snapFlags=["top_tt","top_bt","top_cc","top_bb","top_tb","left_ll","left_rl","left_cc","left_rr","left_lr","top_tc","top_bc","left_lc","left_rc"],this.isDragging=!1,this.cursor="move",this.containment=null,this.disabled=!1,this.handle=null,this.snapTolerance=10,this.snap=!1,this.snapAnchor=null,this.snapLine=!0,this.snapDist=!0,this.isMulti=!1,this.multiClass=".ui-selected",this.axis=!1,this.minLeft=0,this.minTop=0,this.dragStatus=0,this.isMock=!1,this.el=t,this.EVENTS=this.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.init(e)}e.default=i},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(2),r=a(0),d=a(5),p=a(6),c=a(3),m=(n(u,o=s.default),u.prototype.toHtml=function(){var t,e,a,i,n,o,s,c,m,u,f,h=[];t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),o=""!=r.valEmpty(this.formData.tipText)?' title="'+this.formData.tipText+'" ':"",n=r.valEmpty(this.formData.bRadius),f=r.valEmpty(this.formData.href),c="_blank"==r.valEmpty(this.formData.hrefMode)?' target="_blank"':"",s=r.valEmpty(this.formData.linkMode),m=r.valEmpty(this.formData.wangID),u=""!=l.wwUrl(f,s,m,22)?' href="'+u+'"':"";var v=""!=n?"border-radius:"+n+"px;":"",y=l.ImgBgHtml(this.formData),b=y.imgBgStyle;h.push(y.Html);var g=p.toHtmlShadow(this.formData),x=g.onShadow;h.push(g.offShadow);var D=r.valEmpty(this.formData.mbdTsAnt),w=d.toHtmlBorder(this.formData);h.push(w.Html);var k="",$="",C="";if(""!=r.valEmpty(this.formData.animType)){var T=""!=r.valEmpty(this.formData.animTsDur)?this.formData.animTsDur+"s ":"";C=(T+="cubic-bezier(0.5,3,0.5,0)")?"transition:"+T+";":"",k=" mshake",$=r.valEmpty(this.formData.animType)+r.valEmpty(this.formData.animRange)+" "}return'<div class="abs xdtb '+$+" "+D+'" style="top: '+t+"; left:"+e+"; width:"+a+"px; height:"+i+"px;"+C+v+'" ><a '+o+' class="ywlink '+k+'" '+u+c+' style="'+b+x+'">'+h.join("")+"</a></div>"},u.prototype.initFormData=function(){this.formData.bgImg="https://img.alicdn.com/imgextra/i2/280837244/TB2orubcrJmpuFjSZFwXXaE4VXa-280837244.jpg",this.formData.bgColor="",this.formData.appLabel="",this.formData.imgMode="cut",this.formData.linkMode="urlink",this.formData.href="",this.formData.tipText="",this.formData.animType="",this.formData.hrefMode="_blank",this.formData.bgImgSize="true",this.formData.animTsDur="0.5",this.formData.animRange="-s",this.formData.wangID="",this.formData.bdRadius="",this.formData.bdStyle="solid",this.formData.shadow="off",this.formData.sdColor="#666666",this.formData.sdSize="",this.formData.sdBlur="5",this.formData.sdX="",this.formData.sdY="",this.formData.mshadow="on",this.formData.msdColor="#E93030",this.formData.msdSize="",this.formData.msdBlur="5",this.formData.msdX="",this.formData.msdY="",this.formData.msdTsDur="0.5",this.formData.bdWidth=5,this.formData.bdStyle="solid",this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdTsAnt="bdtx1",this.$content.attr("mbdTsAnt",this.formData.mbdTsAnt),this.doUpdate(this.formData)},u.prototype.openEditDialog=function(){var t=this,e=layui.layer,a=null,i=e.open({type:1,title:"单图设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){a=$(i),void 0===t.formData.animType&&(t.formData.animType=""),a.find('.animselect > div[data-val="'+t.formData.animType+'"]').addClass("active"),a.find(".animselect > div").on("click",function(){a.find(".animselect > div.active").removeClass("active"),$(this).addClass("active")}),d.editPopHtmlBorder(a.find(".pop-item-border")),p.editPopHtmlShadow(a.find(".pop-item-shadow")),a.find(".sp-preview-inner").css("background-color",""),d.setPopHtmlBorder(a,t),p.setPopHtmlShadow(a,t),t.formData.bgColor&&a.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),a.find(".cancel-btn").on("click",function(){e.close(n)}),l.onLinkModeChanged(a,t.formData.linkMode)},content:'<form class="layui-form" lay-filter="imgComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="appLabel" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片地址</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n\n                </div>\n                <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片显示方式</label>\n                <div class="layui-input-inline">\n                  <select name="imgMode">\n                    <option value="cut">保持原图尺寸</option>\n                    <option value="full">自由拉伸</option>\n                    <option value="scaleX">保持比例(只裁剪宽度)</option>\n                    <option value="scaleY">保持比例(只裁剪高度)</option>\n                  </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景颜色</label>\n                <div class="layui-input-inline pagecolorpanel"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="bgColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接类型</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                </div>\n              </div>\n              <div class="layui-form-item link-box" style="display:none">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline">\n                  <input name="href" type="text" class="layui-input">\n                </div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item wang-box" style="display:none">\n                <label class="layui-form-label">旺旺ID</label>\n                <div class="layui-input-inline">\n                  <input name="wangID" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">提示文字</label>\n                <div class="layui-input-inline">\n                  <input name="tipText" type="text" class="layui-input">\n                </div>\n              </div>\n            </div>\n            <div  class="layui-tab-item pop-item-border">\n\n            </div>\n            <div class="layui-tab-item pop-item-shadow">\n\n            </div>\n            <div class="layui-tab-item"  >\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画效果</label>\n                <div class="layui-input-inline">\n                  <div class="animselect ui-buttonset">\n                    <div class="none" data-val=""><i><em></em></i>无效果</div>\n                    <div class="shakex" data-val="xins-x-shake"><i><em></em></i>左右抖动</div>\n                    <div class="shakey" data-val="xins-y-shake"><i><em></em></i>上下抖动</div>\n                    <div class="shaker" data-val="xins-r-shake"><i><em></em></i>旋转摆动</div>\n                    <div class="shakes" data-val="xins-s-shake"><i><em></em></i>弹性缩放</div>\n                    <div class="shaken" data-val="xins-n-shake"><i><em></em></i>弹性果冻</div>\n                  </div>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画幅度</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="animRange" value="-s" title="弱" checked="">\n                  <input type="radio" name="animRange" value="-m" title="中">\n                  <input type="radio" name="animRange" value="-l" title="强">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">动画时间</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="animTsDur" class="layui-input input-short"  style="width:120px;display:inline-block;">\n                  <label style="color:red;">单位 秒   可以小数点</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(linkMode)",function(t){console.log(t),l.onLinkModeChanged(a,t.value)}),n.on("submit(imgComponentForm)",function(n){return t.update(n.field),t.updatePropPanel(),t.formData.animType=a.find(".animselect > div.active").data("val"),console.log(t.formData),e.close(i),!1}),n.val("imgComponentForm",t.formData)},u.prototype.doUpdate=function(t){var e=this,a=t.bRadius?parseInt(t.bRadius):"";p.updateShadow(this.$content,t),d.updateBorder(this.$content,t),e.$content.css("border-radius",a),e.$img.bind("load",function(){"true"===t.bgImgSize&&(e.$el.width(e.$img.width()),e.$el.height(e.$img.height()))});var i=t.imgMode;if("cut"===i){var n=l.bgImage(t.bgImg,t.bgColor,"","","");e.$content.css("background",n),e.$img.is(":visible")&&e.$img.hide(),e.$img.attr("src",t.bgImg),e.$img.css("width",""),e.$img.css("height","")}else e.$img.attr("src",t.bgImg),e.$content.css("background","none"),e.$content.css("background-color",t.bgColor),"full"===i?(e.$img.css("width","100%"),e.$img.css("height","100%")):"scaleX"===i?(e.$img.css("height","100%"),e.$img.css("width","")):"scaleY"===i&&(e.$img.css("width","100%"),e.$img.css("height","")),e.$img.show()},u.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!r.compareForm(e,this.formData)){var i=new c.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},u.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=text][name=bgImg]").val(this.formData.bgImg);var e=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?e.prop("checked",!0):e.prop("checked",!1),t.find("#imgMode").val(this.formData.imgMode),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var a=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?a.prop("checked",!0):a.prop("checked",!1),l.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=bRadius]").val(this.formData.bRadius),d.updatePropBorder(t,this)},u.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var e=$(".img-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),d.editSideHtmlBorder(e.find(".side-item-border")),this.updatePropPanel(),layui.element.render("collapse");var a=e.find("input[type=text][name=bgImg]");a.keyup(function(){t.update({bgImg:a.val()})}),e.find("input[type=checkbox][name=bgImgSize]").change(function(){var e=$(this).is(":checked");t.update({bgImgSize:e?"true":"false"})}),e.find("#imgMode").change(function(){t.update({imgMode:$(this).val()})}),e.find("input[type=radio][name=linkMode]").change(function(){var a=$(this).prop("value");t.update({linkMode:a}),l.onLinkModeChanged(e,t.formData.linkMode)}),e.find("input[type=text][name=href]").keyup(function(){var e=$(this).val();t.update({href:e})}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.update({hrefMode:e?"_blank":""})}),e.find("input[type=text][name=wangID]").keyup(function(){var e=$(this).val();t.update({wangID:e})}),e.find("input[type=text][name=bRadius]").keyup(function(){t.update({bRadius:$(this).val()})}),d.initPorpBorder(e,t),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},u.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xdtb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},u);function u(){var t=o.call(this,"img-component")||this;return t.$content=$('<a class="xdtb ywimg-box"><img src="" style="display:none"></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=m},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(0),r=a(4),d=a(2),p=a(5),c=a(6),m=(n(u,o=s.default),u.prototype.initFormData=function(){this.formData.appLabel="",this.formData.scrlY="off",this.formData.family="arial",this.formData.fSize=12,this.formData.color="#000",this.formData.bgColor="#fff",this.formData.lHeight="",this.formData.spacing="",this.formData.indent="",this.formData.weight=600,this.formData.fStyle="normal",this.formData.oLine="",this.formData.through="",this.formData.uLine="",this.formData.align="center",this.formData.content="请设置文件内容",this.formData.href="",this.formData.hrefMode="_blank",this.formData.bgImg="",this.formData.bgRep="no-repeat",this.formData.bgPos="",this.formData.bRadius="",this.formData.hoverMode="off",this.formData.mfamily="arial",this.formData.mfSize=12,this.formData.mcolor="#fff",this.formData.mbgColor="#000",this.formData.mlHeight="",this.formData.mspacing="",this.formData.mindent="",this.formData.mweight=600,this.formData.mfStyle="normal",this.formData.moLine="",this.formData.mthrough="",this.formData.muLine="",this.formData.malign="left",this.formData.mcontent="",this.formData.mbgImg="",this.formData.mbgRep="no-repeat",this.formData.mbgPos="",this.formData.mTsDur="0.4",this.formData.mTsFun="ease",this.formData.mTsAnt="atrans5",this.formData.bdT="off",this.formData.bdB="off",this.formData.bdL="off",this.formData.bdR="off",this.formData.sdSize=5,this.formData.bdWidth=5,this.formData.bdColor="#FFFF00",this.formData.bdStyle="solid",this.formData.mbdT="off",this.formData.mbdB="off",this.formData.mbdL="off",this.formData.mbdR="off",this.formData.msdSize=5,this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdColor="#00FFFF",this.formData.mbdTsAnt="bdtx1",this.doUpdate(this.formData)},u.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xwzb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},u.prototype.toHtml=function(){var t,e,a,i,n,o,s,r,m,u="",f="",h=[];t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),n=l.valEmpty(this.formData.bRadius),m=l.valEmpty(this.formData.hoverMode),"on"===l.valEmpty(this.formData.scrlY)&&(u=" scrly-box",f="padding-right:5px;"),r=""!=l.valEmpty(this.formData.href)?' href="'+this.formData.href+'"':"",s="_blank"===l.valEmpty(this.formData.hrefMode)?' target="'+this.formData.hrefMode+'"':"",o=""!=l.valEmpty(this.formData.tipText)?' title="'+this.formData.tipText+'" ':"";var v="word-wrap: break-word;word-break: normal;";v+=""!=n?"border-radius:"+n+"px;":"";var y,b,g,x,D,w,k,$,C,T,S,M,P,E,_,z,I,B,A,L,F,H,R,O,X=c.toHtmlShadow(this.formData),W=X.onShadow,Y=X.offShadow,j=l.valEmpty(this.formData.mbdTsAnt),N=p.toHtmlBorder(this.formData),q=N.bdpdStyle,V=N.mbdpdStyle,J=N.Html;if(E=""!=l.valEmpty(this.formData.content)?this.formData.content:"",y=""!=l.valEmpty(this.formData.family)?"font-family:"+this.formData.family+";":"",b=""!=l.valEmpty(this.formData.fSize)?"font-size:"+this.formData.fSize+"px;":"",g=""!=l.valEmpty(this.formData.color)?"color:"+this.formData.color+";":"",D=""!=l.valEmpty(this.formData.lHeight)?"line-height:"+this.formData.lHeight+"px;":"",w=""!=l.valEmpty(this.formData.spacing)?"letter-spacing:"+this.formData.spacing+"px;":"",k=""!=l.valEmpty(this.formData.indent)?"text-indent:"+this.formData.indent+"px;":"",$=""!=l.valEmpty(this.formData.weight)?"font-weight:"+this.formData.weight+";":"",C=""!=l.valEmpty(this.formData.fStyle)?"font-style:"+this.formData.fStyle+";":"",P=""!=l.valEmpty(this.formData.align)?"text-align:"+this.formData.align+";":"",x=l.valEmpty(this.formData.bgColor),_=l.valEmpty(this.formData.bgImg),z=l.valEmpty(this.formData.bgRep),I=l.valEmpty(this.formData.bgPos),B=""!=(B=d.bgImage(_,x,z,I,""))?"background:"+B+";":"",T=l.valEmpty(this.formData.oLine),S=l.valEmpty(this.formData.through),M=l.valEmpty(this.formData.uLine),A=""!=(A=d.textLine(T,S,M))?"text-decoration:"+A+";":"",F=l.valEmpty(this.formData.mTsDur),L='<div class="on" style="'+v+f+B+A+(O="transition-timing-function:"+("cubic-bezier"===(H=l.valEmpty(this.formData.mTsFun))?"cubic-bezier(0.52, 1.64, 0.37, 0.66)":H)+";"+(""!=F?"transition-duration:"+F+"s;":""))+q+y+b+g+D+w+k+$+P+C+'" >'+E+"</div>","on"===m){R=l.valEmpty(this.formData.mTsAnt);var U,Z,K,Q,G,tt,et,at,it,nt,ot,st,lt,rt,dt,pt,ct,mt,ut=void 0,ft=void 0;rt=""!=l.valEmpty(this.formData.mcontent)?this.formData.mcontent:"",U=""!=l.valEmpty(this.formData.mfamily)?"font-family:"+this.formData.mfamily+";":"",Z=""!=l.valEmpty(this.formData.mfSize)?"font-size:"+this.formData.mfSize+"px;":"",K=""!=l.valEmpty(this.formData.mcolor)?"color:"+this.formData.mcolor+";":"",G=""!=l.valEmpty(this.formData.mlHeight)?"line-height:"+this.formData.mlHeight+"px;":"",tt=""!=l.valEmpty(this.formData.mspacing)?"letter-spacing:"+this.formData.mspacing+"px;":"",et=""!=l.valEmpty(this.formData.mindent)?"text-indent:"+this.formData.mindent+"px;":"",at=""!=l.valEmpty(this.formData.mweight)?"font-weight:"+this.formData.mweight+";":"",it=""!=l.valEmpty(this.formData.mfStyle)?"font-style:"+this.formData.mfStyle+";":"",lt=""!=l.valEmpty(this.formData.malign)?"text-align:"+this.formData.malign+";":"",Q=l.valEmpty(this.formData.mbgColor),dt=l.valEmpty(this.formData.mbgImg),pt=l.valEmpty(this.formData.mbgRep),ct=l.valEmpty(this.formData.mbgPos),ut=""!=(ut=d.bgImage(dt,Q,pt,ct,""))?"background:"+ut+";":"",nt=l.valEmpty(this.formData.moLine),ot=l.valEmpty(this.formData.mthrough),st=l.valEmpty(this.formData.muLine),mt='<div class="off" style="'+v+ut+(ft=""!=(ft=d.textLine(nt,ot,st))?"text-decoration:"+ft+";":"")+O+V+U+Z+K+G+tt+et+at+lt+it+'" >'+rt+"</div>","atrans5"==R||"atrans6"==R||"atrans7"===R||"atrans8"===R||"atrans9"===R||"atrans19"===R?(h.push(mt),h.push(L)):(h.push(L),h.push(mt))}else h.push(L);h.push(J);var ht=h.join("");return"on"===m&&(ht="<a "+o+' class="ywlink '+R+" "+j+'" '+r+s+' style="'+v+'">'+ht+"</a>"),'<div class="abs xdtb ant-text '+u+'" style="top: '+t+"; left:"+e+"; width:"+a+"px; height:"+i+"px;"+W+v+'" >'+Y+ht+"</div>"},u.prototype.onTongBu=function(t,e,a){var i=t.find("select[name=family] option:selected").val();t.find("select[name=mfamily] option[value="+i+"]").attr("selected",!0);var n=t.find("input[type=text][name=color]").val(),o=t.find("input[type=text][name=mcolor]");o.val(n),o.prev().find(".sp-preview-inner").css("background-color",n);var s=t.find("input[type=text][name=bgColor]").val(),l=t.find("input[type=text][name=mbgColor]");l.val(s),l.prev().find(".sp-preview-inner").css("background-color",s);var r=t.find("input[type=text][name=fSize]").val();t.find("input[type=text][name=mfSize]").val(r);var d=t.find("input[type=text][name=lHeight]").val();t.find("input[type=text][name=mlHeight]").val(d);var p=t.find("input[type=text][name=spacing]").val();t.find("input[type=text][name=mspacing]").val(p);var c=t.find("input[type=text][name=indent]").val();t.find("input[type=text][name=mindent]").val(c);var m=t.find(".font-z .font-item-radio.active"),u=t.find(".font-f .font-item-radio"),f=m.attr("data-val");u.removeClass("active"),t.find(".font-f .font-item-radio[data-val="+f+"]").addClass("active");var h=t.find(".font-z input[type=hidden][name=weight]").val(),v=t.find(".font-f input[type=hidden][name=mweight]");"600"==h?(v.val("600"),v.parent().addClass("active")):(v.val(""),v.parent().removeClass("active"));var y=t.find(".font-z input[type=hidden][name=fStyle]").val(),b=t.find(".font-f input[type=hidden][name=mfStyle]");"italic"==y?(b.val("italic"),b.parent().addClass("active")):(b.val("normal"),b.parent().removeClass("active"));var g=t.find(".font-z input[type=hidden][name=oLine]").val(),x=t.find(".font-f input[type=hidden][name=moLine]");"overline"==g?(x.val("overline"),x.parent().addClass("active")):(x.val(""),x.parent().removeClass("active"));var D=t.find(".font-z input[type=hidden][name=through]").val(),w=t.find(".font-f input[type=hidden][name=mthrough]");"line-through"==D?(w.val("line-through"),w.parent().addClass("active")):(w.val(""),w.parent().removeClass("active"));var k=t.find(".font-z input[type=hidden][name=uLine]").val(),$=t.find(".font-f input[type=hidden][name=muLine]");"underline"==k?($.val("underline"),$.parent().addClass("active")):($.val(""),$.parent().removeClass("active")),e&&(a.formData.family=i,a.formData.mcolor=n,a.formData.mbgColor=s,a.formData.mfSize=r,a.formData.mlHeight=d,a.formData.mspacing=p,a.formData.mindent=c,a.formData.mweight=h,a.formData.mfStyle=y,a.formData.moLine=g,a.formData.mthrough=D,a.formData.muLine=k,a.formData.malign=f),console.log("onTongBu")},u.prototype.updatePreviewStyle=function(t){var e=t.parent().parent().parent().find(".font-textarea .multi-textarea");t.parent().hasClass("nromal-wrap")&&(e=t.parent().parent().find(".font-textarea .multi-textarea"));var a=!!e.parent().prev().hasClass("font-f");if(0<e.length)if(a){var i=this.formData.muLine;this.formData.moLine?i+=" "+this.formData.moLine:(this.formData.mthrough&&(i+=" "+this.formData.mthrough),""===i&&(i="none"),e.css("font-family",this.formData.mfamily),e.css("color",this.formData.mcolor),e.css("background-color",this.formData.mbgColor),e.css("font-size",parseInt(this.formData.mfSize)),e.css("line-height",this.formData.mlHeight+"px"),e.css("letter-spacing",parseInt(this.formData.mspacing)),e.css("text-indent",parseInt(this.formData.mindent)),e.css("text-align",this.formData.malign),e.css("font-weight",this.formData.mweight),e.css("font-style",this.formData.mfStyle),e.css("text-decoration",i))}else i=this.formData.uLine,this.formData.oLine?i+=" "+this.formData.oLine:(this.formData.through&&(i+=" "+this.formData.through),""===i&&(i="none"),e.css("font-family",this.formData.family),e.css("color",this.formData.color),e.css("background-color",this.formData.bgColor),e.css("font-size",parseInt(this.formData.fSize)),e.css("line-height",this.formData.lHeight+"px"),e.css("letter-spacing",parseInt(this.formData.spacing)),e.css("text-indent",parseInt(this.formData.indent)),e.css("text-align",this.formData.align),e.css("font-weight",this.formData.weight),e.css("font-style",this.formData.fStyle),e.css("text-decoration",i))},u.prototype.getFontActive=function(t){var e=t.find("input[type=hidden]"),a=e.attr("name").toLowerCase();if(t.parent().hasClass("font-f")&&(a=a.substr(1)),t.hasClass("active"))switch(t.removeClass("active"),a){case"weight":e.val("");break;case"fstyle":e.val("normal");break;case"oline":case"through":case"uline":e.val("")}else switch(t.addClass("active"),a){case"weight":e.val("600");break;case"fstyle":e.val("italic");break;case"oline":e.val("overline");break;case"through":e.val("line-through");break;case"uline":e.val("underline")}},u.prototype.initPorpPanel=function(){console.log("initTextPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var e=$(".text-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),r.setFontOption(e.find(".font-select")),p.editSideHtmlBorder(e.find(".side-item-border")),this.updatePropPanel(),layui.element.render("collapse"),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.update({hrefMode:e?"_blank":""})}),e.find("input[type=text][name=href]").keyup(function(){var e=$(this).val();t.update({href:e})}),e.find("input[type=text][name=bRadius]").keyup(function(){var e=$(this).val();t.update({bRadius:e})}),e.find("input[type=radio][name=scrlY]").change(function(){var e=$(this).prop("value");t.update({scrlY:e})}),e.find("select[name=family]").change(function(){var e=$(this).prop("value");t.update({family:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=color]").change(function(){var e=$(this).val();t.update({color:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.update({bgColor:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=fSize]").keyup(function(){var e=$(this).val();t.update({fSize:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=lHeight]").keyup(function(){var e=$(this).val();t.update({lHeight:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=spacing]").keyup(function(){var e=$(this).val();t.update({spacing:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=indent]").keyup(function(){var e=$(this).val();t.update({indent:e}),t.updatePreviewStyle($(this))}),e.find("textarea[name=content]").keyup(function(){var e=$(this).val();t.update({content:e})}),e.find("input[type=radio][name=hoverMode]").change(function(){var e=$(this).prop("value");t.update({hoverMode:e})}),e.find("select[name=mfamily]").change(function(){var e=$(this).prop("value");t.update({mfamily:e})}),e.find("input[type=text][name=mcolor]").change(function(){var e=$(this).val();t.update({mcolor:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=mbgColor]").change(function(){var e=$(this).val();t.update({mbgColor:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=mfSize]").keyup(function(){var e=$(this).val();t.update({mfSize:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=mlHeight]").keyup(function(){var e=$(this).val();t.update({mlHeight:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=mspacing]").keyup(function(){var e=$(this).val();t.update({mspacing:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=mindent]").keyup(function(){var e=$(this).val();t.update({mindent:e}),t.updatePreviewStyle($(this))}),e.find("textarea[name=mcontent]").keyup(function(){var e=$(this).val();t.update({mcontent:e})}),e.find("input[type=text][name=mTsDur]").keyup(function(){var e=$(this).val();t.update({mTsDur:e})}),e.find("input[type=radio][name=mTsFun]").change(function(){var e=$(this).prop("value");t.update({mTsFun:e})}),e.find("input[type=radio][name=mTsAnt]").change(function(){var e=$(this).prop("value");t.update({mTsAnt:e})}),e.find(".font-setting .font-item-radio").click(function(){var e=$(this).attr("data-val"),a=$(this).parent();a.hasClass("font-f")?t.update({malign:e}):t.update({align:e}),a.find(".font-item-radio").removeClass("active"),$(this).addClass("active"),t.updatePreviewStyle($(this))}),e.find(".font-z .font-item-checkbox").click(function(){var e=$(this).find("input[type=hidden]"),a=e.attr("name").toLowerCase();if($(this).hasClass("active"))switch($(this).removeClass("active"),a){case"weight":t.update({weight:""}),e.val("");break;case"fstyle":t.update({fStyle:"normal"}),e.val("normal");break;case"oline":t.update({oLine:""}),e.val("");break;case"through":t.update({through:""}),e.val("");break;case"uline":t.update({uLine:""}),e.val("")}else switch($(this).addClass("active"),a){case"weight":t.update({weight:"600"}),e.val("600");break;case"fstyle":t.update({fStyle:"italic"}),e.val("italic");break;case"oline":t.update({oLine:"overline"}),e.val("overline");break;case"through":t.update({through:"line-through"}),e.val("line-through");break;case"uline":t.update({uLine:"underline"}),e.val("underline")}t.updatePreviewStyle($(this))}),e.find(".font-f .font-item-checkbox").click(function(){var e=$(this).find("input[type=hidden]"),a=e.attr("name").toLowerCase();if($(this).hasClass("active"))switch($(this).removeClass("active"),a){case"mweight":t.update({mweight:""}),e.val("");break;case"mfstyle":t.update({mfStyle:"normal"}),e.val("normal");break;case"moLine":t.update({moLine:""}),e.val("");break;case"mthrough":t.update({mthrough:""}),e.val("");break;case"muLine":t.update({muLine:""}),e.val("")}else switch($(this).addClass("active"),a){case"mweight":t.update({mweight:"600"}),e.val("600");break;case"mfstyle":t.update({mfStyle:"italic"}),e.val("italic");break;case"moline":t.update({moLine:"overline"}),e.val("overline");break;case"mthrough":t.update({mthrough:"line-through"}),e.val("line-through");break;case"muline":t.update({muLine:"underline"}),e.val("underline")}t.updatePreviewStyle($(this))}),p.initPorpBorder(e,t),e.find(".font-synchronous").on("click",function(){var a=$(this),i=layui.layer;i.msg("你确定  同步默文 文字样式么？",{time:0,btn:["同步","取消"],yes:function(n){t.onTongBu(e,!0,t),t.update(t.formData),t.updatePreviewStyle(a),i.close(n)}})}),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},u.prototype.openEditDialog=function(){var t=this,e=layui.layer,a=null,i=e.open({type:1,title:"文字设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){a=$(i),r.setFontOption(a.find(".font-select")),a.find(".cancel-btn").on("click",function(){e.close(n)}),p.editPopHtmlBorder(a.find(".pop-item-border")),c.editPopHtmlShadow(a.find(".pop-item-shadow")),a.find(".sp-preview-inner").css("background-color",""),p.setPopHtmlBorder(a,t),c.setPopHtmlShadow(a,t),t.formData.color&&a.find("input[type=text][name=color]").prev().find(".sp-preview-inner").css("background-color",t.formData.color),t.formData.bgColor&&a.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.mcolor&&a.find("input[type=text][name=mcolor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mcolor),t.formData.mbgColor&&a.find("input[type=text][name=mbgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbgColor),"600"==t.formData.weight&&a.find(".font-z .font-item-checkbox:eq(0)").addClass("active"),"italic"==t.formData.fStyle&&a.find(".font-z .font-item-checkbox:eq(1)").addClass("active"),"overline"==t.formData.oLine&&a.find(".font-z .font-item-checkbox:eq(2)").addClass("active"),"line-through"==t.formData.through&&a.find(".font-z .font-item-checkbox:eq(3)").addClass("active"),"underline"==t.formData.uLine&&a.find(".font-z .font-item-checkbox:eq(4)").addClass("active"),a.find('.font-z .font-item-radio[data-val="'+t.formData.align+'"]').addClass("active"),a.find('.font-f .font-item-radio[data-val="'+t.formData.malign+'"]').addClass("active"),"italic"==t.formData.mfStyle&&a.find(".font-f .font-item-checkbox:eq(1)").addClass("active"),"overline"==t.formData.moLine&&a.find(".font-f .font-item-checkbox:eq(2)").addClass("active"),"line-through"==t.formData.mthrough&&a.find(".font-f .font-item-checkbox:eq(3)").addClass("active"),"underline"==t.formData.muLine&&a.find(".font-f .font-item-checkbox:eq(4)").addClass("active"),a.find(".font-setting .font-item-checkbox").on("click",function(){t.getFontActive($(this))}),a.find(".font-setting .font-item-radio").on("click",function(){var t=$(this);t.parent().find(".font-item-radio").removeClass("active"),t.addClass("active")}),a.find(".font-synchronous").on("click",function(){var i=layui.form;e.msg("你确定  同步默文 文字样式么？",{time:0,btn:["同步","取消"],yes:function(n){t.onTongBu(a,!1,t),i.render("select"),e.close(n)}})})},content:'<form class="layui-form" lay-filter="textComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">默认设置</li>\n            <li>鼠标经过</li>\n            <li>边框设置</li>\n            <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline"><input type="text" name="appLabel" class="layui-input"></div>\n              </div>\n\n              <div class="layui-form-item">\n                <label class="layui-form-label">样式及内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px; height: 36px;">\n                      <select class="font-select"   name="family" >\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="color"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="fSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="bgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="lHeight" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="spacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="indent" class="layui-input">\n                    </div>\n                    <div class="font-setting font-z">\n                      <span  title="加粗" class="font-item-checkbox" data-val="" ><icon>ꕅ</icon><input name="weight" type="hidden"   value="" /></span>\n                      <span  title="斜体" class="font-item-checkbox" data-val="" ><icon>ꕆ</icon><input name="fStyle" type="hidden"   value="" /></span>\n                      <span  title="上划线" class="font-item-checkbox" data-val="" ><icon>ꔣ</icon><input name="oLine" type="hidden"   value="" /></span>\n                      <span  title="中划线" class="font-item-checkbox" data-val=""><icon>ꕇ</icon><input name="through" type="hidden"   value="" /></span>\n                      <span  title="下划线" class="font-item-checkbox" data-val="" ><icon>ꕈ</icon><input name="uLine" type="hidden"   value="" /></span>\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item-radio" data-val="left" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item-radio"  data-val="center" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item-radio"  data-val="right" ><icon>ꕑ</icon></span>\n                    </div>\n                    <textarea   name="content"  ></textarea>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline"><input type="text" name="href" class="layui-input"></div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">超出滚动条</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="scrlY" lay-filter="scrlY" value="on" title="显示" >\n                  <input type="radio" name="scrlY" lay-filter="scrlY" value="off" title="隐藏">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景图片</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">对齐方式</label>\n                <div class="layui-input-inline">\n                  <select   name="bgPos" >\n                    <option value="0% 0%">左上</option>\n                    <option value="0% 50%">左中</option>\n                    <option value="0% 100%">左下</option>\n                    <option value="50% 0%">中上</option>\n                    <option value="50% 50%">正中</option>\n                    <option value="50% 100%">中下</option>\n                    <option value="100% 0%">右上</option>\n                    <option value="100% 50%">右中</option>\n                    <option value="100% 100%">右下</option>\n                 </select>\n                </div>\n              </div>\n\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-form-item">\n                <label class="layui-form-label">鼠标经过状态</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="hoverMode" lay-filter="hoverMode" value="on" title="开启" >\n                  <input type="radio" name="hoverMode" lay-filter="hoverMode" value="off" title="关闭">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">样式及内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px;">\n                      <select class="font-select"   name="mfamily" >\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="mcolor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="mfSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="mbgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="mlHeight" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="mspacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="mindent" class="layui-input">\n                    </div>\n                    <div class="font-setting font-f">\n                      <span  title="加粗" class="font-item-checkbox" data-val="" ><icon>ꕅ</icon><input name="mweight" type="hidden"   value="" /></span>\n                      <span  title="斜体" class="font-item-checkbox" data-val="" ><icon>ꕆ</icon><input name="mfStyle" type="hidden"   value="" /></span>\n                      <span  title="上划线" class="font-item-checkbox" data-val="" ><icon>ꔣ</icon><input name="moLine" type="hidden"   value="" /></span>\n                      <span  title="中划线" class="font-item-checkbox" data-val=""><icon>ꕇ</icon><input name="mthrough" type="hidden"   value="" /></span>\n                      <span  title="下划线" class="font-item-checkbox" data-val="" ><icon>ꕈ</icon><input name="muLine" type="hidden"   value="" /></span>\n\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item-radio" data-val="left" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item-radio"  data-val="center" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item-radio"  data-val="right" ><icon>ꕑ</icon></span>\n\n                    </div>\n                    <textarea   name="mcontent"  ></textarea>\n                    <div class="font-synchronous">\n                      <icon>ꕦ</icon><span>同步默认文字样式</span>\n                    </div>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景图片</label>\n                <div class="layui-input-inline">\n                  <input name="mbgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景平铺</label>\n                <div class="layui-input-inline">\n                  <select   name="mbgRep" >\n                    <option value="repeat" >纵横向</option>\n                    <option value="repeat-x" >横向</option>\n                    <option value="repeat-y" >纵向</option>\n                    <option value="no-repeat" >不平铺</option>\n                 </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">对齐方式</label>\n                <div class="layui-input-inline">\n                  <select   name="mbgPos" >\n                    <option value="0% 0%">左上</option>\n                    <option value="0% 50%">左中</option>\n                    <option value="0% 100%">左下</option>\n                    <option value="50% 0%">中上</option>\n                    <option value="50% 50%">正中</option>\n                    <option value="50% 100%">中下</option>\n                    <option value="100% 0%">右上</option>\n                    <option value="100% 50%">右中</option>\n                    <option value="100% 100%">右下</option>\n                 </select>\n                </div>\n              </div>\n            </div>\n            <div  class="layui-tab-item pop-item-border">\n\n            </div>\n            <div class="layui-tab-item pop-item-shadow">\n\n            </div>\n            <div class="layui-tab-item">\n              <fieldset  class="layui-elem-field">\n                <legend>\n                  动画时长\n                  <input class="input-short"  type="text" name="mTsDur"  style="width:50px; height:20px; margin-left:10px; padding-left:5px;" />\n                  <label class="label-con">秒</label>\n                </legend>\n                <div class="layui-field-box">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="linear"  title="匀速">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease"  title="逐渐变慢">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease-in"   title="减速">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease-out"   title="加速">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="ease-in-out"   title="加速后减速">\n                  <input class="radio-medium" type="radio" name="mTsFun" value="cubic-bezier"   title="动感弹跳">\n                </div>\n              </fieldset>\n              <fieldset  class="layui-elem-field" style="margin-top:15px;">\n                <legend>动画效果</legend>\n                <div class="layui-field-box">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans0" title="无效果">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans1" title="右切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans2"  title="下切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans3"  title="左切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans4"  title="上切入">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans5"  title="右切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans6"  title="下切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans7"  title="左切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans8"  title="上切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans9"  title="右切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans10"   title="下切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans11"   title="左切入切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans12"  title="上切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans13"  title="放大出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans14"  title="缩小出现">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans15"  title="翻转出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans16"  title="缩放出现1">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans17"  title="缩放出现2">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans18"  title="旋转放大">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans19"  title="旋转缩小">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans20"  title="渐隐渐显">\n                </div>\n              </fieldset>\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="textComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("submit(textComponentForm)",function(n){return t.formData=n.field,t.formData.align=a.find(".font-z .font-item-radio.active").data("val"),t.formData.malign=a.find(".font-f .font-item-radio.active").data("val"),t.update(t.formData),t.updatePropPanel(),e.close(i),!1}),n.val("textComponentForm",t.formData)},u.prototype.doUpdate=function(t){},u.prototype.update=function(t){var e=this.formData.bRadius;c.updateShadow(this.$content,t),p.updateBorder(this.$content,t);var a=this.formData.uLine;this.formData.oLine&&(a+=" "+this.formData.oLine),this.formData.through&&(a+=" "+this.formData.through),""===a&&(a="none");var i,n,o,s,l,r=this.$contentBox.find(".on");n=this.formData.bgImg,i=this.formData.bgColor,o=this.formData.bgRep,s=this.formData.bgPos,l=d.bgImage(n,i,o,s,""),r.css("background",l),r.css("font-family",this.formData.family),r.css("color",this.formData.color),r.css("font-size",parseInt(this.formData.fSize)),r.css("line-height",this.formData.lHeight+"px"),r.css("letter-spacing",parseInt(this.formData.spacing)),r.css("text-indent",parseInt(this.formData.indent)),r.css("border-radius",parseInt(e)),r.css("text-align",this.formData.align),r.css("font-weight",this.formData.weight),r.css("font-style",this.formData.fStyle),r.css("text-decoration",a),r.text(t.content);var m=this.$contentBox.find(".off"),u=this.$content.attr("mTsAnt");if("on"===this.formData.hoverMode){m.remove();var f=this.formData.muLine;this.formData.moLine&&(f+=" "+this.formData.moLine),this.formData.mthrough&&(f+=" "+this.formData.mthrough),""===f&&(f="none");var h,v,y,b,g,x=this.formData.mTsAnt;"atrans5"==x||"atrans6"==x||"atrans7"===x||"atrans8"===x||"atrans9"===x||"atrans19"===x?this.$contentBox.find(".on").before("<div class='off'></div>"):this.$contentBox.find(".on").after("<div class='off'></div>"),v=this.formData.mbgImg,h=this.formData.mbgColor,y=this.formData.mbgRep,b=this.formData.mbgPos,g=d.bgImage(v,h,y,b,""),(m=this.$contentBox.find(".off")).text(t.mcontent),m.css("background",g),m.css("font-family",this.formData.mfamily),m.css("color",this.formData.mcolor),m.css("font-size",parseInt(this.formData.mfSize)),m.css("line-height",this.formData.mlHeight+"px"),m.css("letter-spacing",parseInt(this.formData.mspacing)),m.css("text-indent",parseInt(this.formData.mindent)),m.css("border-radius",this.formData.bRadius),m.css("text-align",this.formData.malign),m.css("font-weight",this.formData.mweight),m.css("font-style",this.formData.mfStyle),m.css("text-decoration",f),"cubic-bezier"===this.formData.mTsFun?(r.css("transition-timing-function","cubic-bezier(0.52, 1.64, 0.37, 0.66)"),m.css("transition-timing-function","cubic-bezier(0.52, 1.64, 0.37, 0.66)")):(r.css("transition-timing-function",this.formData.mTsFun),m.css("transition-timing-function",this.formData.mTsFun)),r.css("transition-duration",this.formData.mTsDur+"s"),m.css("transition-duration",this.formData.mTsDur+"s"),this.$content.removeClass(u),this.$content.addClass(this.formData.mTsAnt),this.$content.attr("mTsAnt",this.formData.mTsAnt)}else m.remove(),this.$content.removeClass(u),this.$content.attr("mTsAnt","");m=this.$contentBox.find(".off")},u.prototype.updatePropPanel=function(){var t=this,e=this.$propPanel;e.find("select[name=family]").val(this.formData.family);var a=e.find("input[type=text][name=color]");a.val(this.formData.color),e.find("input[type=text][name=fSize]").val(this.formData.fSize);var i=e.find("input[type=text][name=bgColor]");i.val(this.formData.bgColor),e.find("input[type=text][name=lHeight]").val(this.formData.lHeight),e.find("input[type=text][name=spacing]").val(this.formData.spacing),e.find("input[type=text][name=indent]").val(this.formData.indent),e.find("textarea[name=content]").val(this.formData.content),e.find("input[type=text][name=href]").val(this.formData.href);var n=e.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?n.prop("checked",!0):n.prop("checked",!1),e.find("input[type=text][name=bRadius]").val(this.formData.bRadius),e.find("input[type=radio][name=scrlY]").filter('[value="'+this.formData.scrlY+'"]').prop("checked",!0),this.formData.color?a.prev().find(".sp-preview-inner").css("background-color",this.formData.color):a.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?i.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):i.prev().find(".sp-preview-inner").css("background-color",""),e.find("input[type=radio][name=hoverMode]").filter('[value="'+this.formData.hoverMode+'"]').prop("checked",!0),e.find("select[name=mfamily]").val(this.formData.mfamily);var o=e.find("input[type=text][name=mcolor]");o.val(this.formData.mcolor),e.find("input[type=text][name=mfSize]").val(this.formData.mfSize);var s=e.find("input[type=text][name=mbgColor]");s.val(this.formData.mbgColor),e.find("input[type=text][name=mlHeight]").val(this.formData.mlHeight),e.find("input[type=text][name=mspacing]").val(this.formData.mspacing),e.find("input[type=text][name=mindent]").val(this.formData.mindent),e.find("textarea[name=mcontent]").val(this.formData.mcontent),this.formData.mcolor?o.prev().find(".sp-preview-inner").css("background-color",this.formData.mcolor):o.prev().find(".sp-preview-inner").css("background-color",""),this.formData.mbgColor?s.prev().find(".sp-preview-inner").css("background-color",this.formData.mbgColor):s.prev().find(".sp-preview-inner").css("background-color",""),e.find(".font-setting span").removeClass("active");var l=e.find(".font-z input[type=hidden][name=weight]");"600"==t.formData.weight?(l.val("600"),l.parent().addClass("active")):l.val("");var r=e.find(".font-z input[type=hidden][name=fStyle]");"italic"==t.formData.fStyle?(r.val("italic"),r.parent().addClass("active")):r.val("normal");var d=e.find(".font-z input[type=hidden][name=oLine]");"overline"==t.formData.oLine?(d.val("overline"),d.parent().addClass("active")):d.val("");var p=e.find(".font-z input[type=hidden][name=through]");"line-through"==t.formData.through?(p.val("line-through"),p.parent().addClass("active")):p.val("");var c=e.find(".font-z input[type=hidden][name=uLine]");"underline"==t.formData.uLine?(c.val("underline"),c.parent().addClass("active")):c.val("");var m=e.find(".font-f input[type=hidden][name=mweight]");"600"==t.formData.mweight?(m.val("600"),m.parent().addClass("active")):m.val("");var u=e.find(".font-f input[type=hidden][name=mfStyle]");"italic"==t.formData.mfStyle?(u.val("italic"),u.parent().addClass("active")):u.val("normal");var f=e.find(".font-f input[type=hidden][name=moLine]");"overline"==t.formData.moLine?(f.val("overline"),f.parent().addClass("active")):f.val("");var h=e.find(".font-f input[type=hidden][name=mthrough]");"line-through"==t.formData.mthrough?(h.val("line-through"),h.parent().addClass("active")):h.val("");var v=e.find(".font-z input[type=hidden][name=muLine]");"underline"==t.formData.uLine?(v.val("underline"),v.parent().addClass("active")):v.val(""),e.find('.font-z .font-item-radio[data-val="'+t.formData.align+'"]').addClass("active"),e.find('.font-f .font-item-radio[data-val="'+t.formData.malign+'"]').addClass("active"),e.find("input[type=text][name=mTsDur]").val(this.formData.mTsDur),e.find("input[type=radio][name=mTsFun]").filter('[value="'+this.formData.mTsFun+'"]').prop("checked",!0),e.find("input[type=radio][name=mTsAnt]").filter('[value="'+this.formData.mTsAnt+'"]').prop("checked",!0);var y=e.find("input[type=checkbox][name=bdT]");"on"===this.formData.bdT?y.prop("checked",!0):y.prop("checked",!1);var b=e.find("input[type=checkbox][name=bdB]");"on"===this.formData.bdB?b.prop("checked",!0):b.prop("checked",!1);var g=e.find("input[type=checkbox][name=bdL]");"on"===this.formData.bdL?g.prop("checked",!0):g.prop("checked",!1);var x=e.find("input[type=checkbox][name=bdR]");"on"===this.formData.bdR?x.prop("checked",!0):x.prop("checked",!1),e.find("input[type=text][name=bdWidth]").val(this.formData.bdWidth),e.find("input[type=radio][name=bdStyle]").filter('[value="'+this.formData.bdStyle+'"]').prop("checked",!0);var D=e.find("input[type=text][name=bdColor]");D.val(this.formData.bdColor),this.formData.bdColor?D.prev().find(".sp-preview-inner").css("background-color",this.formData.bdColor):D.prev().find(".sp-preview-inner").css("background-color","");var w=e.find("input[type=checkbox][name=mbdT]");"on"===this.formData.mbdT?w.prop("checked",!0):w.prop("checked",!1);var k=e.find("input[type=checkbox][name=mbdB]");"on"===this.formData.mbdB?k.prop("checked",!0):k.prop("checked",!1);var $=e.find("input[type=checkbox][name=mbdL]");"on"===this.formData.mbdL?$.prop("checked",!0):$.prop("checked",!1);var C=e.find("input[type=checkbox][name=mbdR]");"on"===this.formData.mbdR?C.prop("checked",!0):C.prop("checked",!1),e.find("input[type=text][name=mbdWidth]").val(this.formData.mbdWidth),e.find("input[type=radio][name=mbdStyle]").filter('[value="'+this.formData.mbdStyle+'"]').prop("checked",!0);var T=e.find("input[type=text][name=mbdColor]");T.val(this.formData.mbdColor),this.formData.mbdColor?T.prev().find(".sp-preview-inner").css("background-color",this.formData.mbdColor):T.prev().find(".sp-preview-inner").css("background-color",""),e.find("input[type=text][name=mbdTsDur]").val(this.formData.mbdTsDur),e.find("input[type=radio][name=mbdTsFun]").filter('[value="'+this.formData.mbdTsFun+'"]').prop("checked",!0),e.find("input[type=radio][name=mbdTsAnt]").filter('[value="'+this.formData.mbdTsAnt+'"]').prop("checked",!0)},u);function u(){var t=o.call(this,"text-component")||this;return t.$contentBox.append('\n    <div class="ant-text xdtb" ><a class="ywlink"   mTsAnt=""  mbdTsAnt=""><div class="on">请设置文本内容</div></a></div>\n      '),t.$content=t.$contentBox.find(".ywlink"),t.initFormData(),t}e.default=m},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o=a(1),s=a(0),l=a(4),r=a(3);a(26),a(27);var d,p=(n(c,d=o.default),c.prototype.toHtml=function(){var t,e,a,i,n,o,l,r,d,p,c,m,u,f,h,v,y,b,g,x;return t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),u=""!=s.valEmpty(this.formData.tipText)?' title="'+this.formData.tipText+'" ':"",o=""!=s.valEmpty(this.formData.bgColor)?"background-color:"+this.formData.bgColor+";":"",n=s.valEmpty(this.formData.bgImg),l=s.valEmpty(this.formData.eName),r=s.valEmpty(this.formData.color),d=s.valEmpty(this.formData.fSize),p=s.valEmpty(this.formData.family),c=s.valEmpty(this.formData.weight),m=s.valEmpty(this.formData.fStyle),f=s.valEmpty(this.formData.nameMl),h=s.valEmpty(this.formData.nameMt),y=s.valEmpty(this.formData.wangID),b="","88"===(v=s.valEmpty(this.formData.wangMode))&&(v="24",b=" w-mid"),""!=n&&(g='<img  src="'+n+'" />'),""!=l&&(x='<span style="color:'+r+";font-size:"+d+";font-family:"+p+";font-weight:"+c+";font-style:"+m+";margin-left:"+f+'px;">'+l+"</span>"),'<a class="abs wang-box"  href="//amos.alicdn.com/msg.aw?&v=2&uid='+y+"&site=enaliint&s="+v+'&charset=UTF-8" target="_blank" '+u+' style="'+o+"top:"+t+";left:"+e+";width:"+a+"px; height:"+i+'px;display:inline-block;">'+g+'<div class="wang-info" style="margin-top:'+h+'px;"><img class="wang-line'+b+'" src="//amos.alicdn.com/online.aw?v=2&uid='+y+"&site=enaliint&s="+v+'&charset=UTF-8" />'+x+"</div></a>"},c.prototype.initFormData=function(){this.formData.appLabel="",this.formData.wangMode="22",this.formData.wangID="",this.formData.bgImg="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg",this.formData.bgColor="",this.formData.eName="John Deao",this.formData.color="",this.formData.fSize=12,this.formData.family="arial",this.formData.weight="",this.formData.fStyle="normal",this.formData.tipText="24Hours Service Online",this.formData.nameMl=5,this.formData.nameMt=5,this.doUpdate(this.formData)},c.prototype.initPorpPanel=function(){console.log("initPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var e=$(".ww-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),l.setFontOption(e.find(".font-select")),this.updatePropPanel(),e.find("input[type=radio][name=wangMode]").change(function(){var e=$(this).prop("value");t.update({wangMode:e})}),e.find("input[type=text][name=wangID]").keyup(function(){var e=$(this).val();t.update({wangID:e})}),e.find("input[type=text][name=bgImg]").keyup(function(){var e=$(this).val();t.update({bgImg:e})}),e.find("input[type=text][name=nameMt]").keyup(function(){var e=$(this).val();t.update({nameMt:e})}),e.find("input[type=text][name=eName]").keyup(function(){var e=$(this).val();t.update({eName:e})}),e.find("input[type=text][name=color]").change(function(){var e=$(this).val();t.update({color:e})}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.update({bgColor:e})}),e.find("input[type=text][name=nameMl]").keyup(function(){var e=$(this).val();t.update({nameMl:e})}),e.find("input[type=text][name=fSize]").keyup(function(){var e=$(this).val();t.update({fSize:e})}),e.find("select[name=weight]").change(function(){var e=$(this).prop("value");t.update({weight:e})}),e.find("select[name=fStyle]").change(function(){var e=$(this).prop("value");t.update({fStyle:e})}),e.find("select[name=family]").change(function(){var e=$(this).prop("value");t.update({family:e})}),e.find("input[type=text][name=tipText]").keyup(function(){var e=$(this).val();t.update({tipText:e})})},c.prototype.openEditDialog=function(){var t=layui.layer,e=t.open({type:1,title:"旺旺设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(e,a){$(e).find(".cancel-btn").on("click",function(){t.close(a)})},content:'<form class="layui-form" lay-filter="wangComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="wangComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),a=layui.form;a.render(),a.on("submit(wangComponentForm)",function(a){return t.close(e),!1})},c.prototype.doUpdate=function(t){var e=this.$content.find(".cphoto"),a=this.$content.find(".wang-info span");this.$content.css("background-color",this.formData.bgColor),this.$content.find(".wang-info").css("margin-top",parseInt(this.formData.nameMt)),this.$content.attr("title",this.formData.tipText);var i="22"==this.formData.wangMode?"./assets/wang1.gif":"./assets/wang2.gif";this.$wangImg.attr("src",i),"88"==this.formData.wangMode?this.$wangImg.addClass("w-mid"):this.$wangImg.removeClass("w-mid"),this.formData.bgImg?(e.length<=0&&this.$content.find(".wang-info").before("<img class='cphoto' >"),(e=this.$content.find(".cphoto")).attr("src",this.formData.bgImg)):e.remove(),this.formData.eName?(a.length<=0&&(a=this.$content.find(".wang-line").after("<span>"+t.eName+"</span>")),(a=this.$content.find(".wang-info span")).text(t.eName),a.css("color",this.formData.color),a.css("font-size",parseInt(this.formData.fSize)),a.css("font-family",this.formData.family),a.css("font-weight",this.formData.weight),a.css("font-style",this.formData.fStyle),a.css("margin-left",parseInt(this.formData.nameMl))):a.remove()},c.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!s.compareForm(e,this.formData)){var i=new r.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},c.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=radio][name=wangMode]").filter('[value="'+this.formData.wangMode+'"]').prop("checked",!0),t.find("input[type=text][name=wangID]").val(this.formData.wangID),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg),t.find("input[type=text][name=nameMt]").val(this.formData.nameMt),t.find("input[type=text][name=eName]").val(this.formData.eName);var e=t.find("input[type=text][name=color]");e.val(this.formData.color);var a=t.find("input[type=text][name=bgColor]");a.val(this.formData.bgColor),t.find("input[type=text][name=nameMl]").val(this.formData.nameMl),t.find("input[type=text][name=fSize]").val(this.formData.fSize),t.find("select[name=family]").val(this.formData.family),t.find("input[type=text][name=weight]").val(this.formData.weight),t.find("select[name=fStyle]").val(this.formData.fStyle),t.find("input[type=text][name=tipText]").val(this.formData.tipText),this.formData.color?e.prev().find(".sp-preview-inner").css("background-color",this.formData.color):e.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?a.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):a.prev().find(".sp-preview-inner").css("background-color","")},c.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"wangh",config:t,pos:{l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},c);function c(){var t=d.call(this,"wang-component",{enableResize:!1,isEditPopup:!1})||this;return t.$content=$('<a class="wang-box"><img class="cphoto" src="//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg"><div class="wang-info" > <img class="wang-line" src="./assets/wang1.gif"><span>John Deao</span></div></a>'),t.$wangImg=t.$content.find(".wang-line"),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=p},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(0),r=a(3),d=(n(p,o=s.default),p.prototype.toHtml=function(){var t,e,a,i,n,o,s,r;return t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),n="true"===l.valEmpty(this.formData.autoplay)?' autoplay="autoplay"':"",o="true"===l.valEmpty(this.formData.muted)||"true"===l.valEmpty(this.formData.autoplay)?" muted":"",s="true"===l.valEmpty(this.formData.controls)?" controls":"",r=""!=l.valEmpty(this.formData.coverImg)?' poster="'+this.formData.coverImg+'"':"",'<div class="abs video-box"  style="top:'+t+";left:"+e+";width:"+a+"px; height:"+i+'px;"><Video '+n+o+s+("true"===l.valEmpty(this.formData.loop)?' loop="loop"':"")+r+' style="width:100%;height:100%;"   src="https://cloud.video.taobao.com/play/u/2780279213/p/1/e/6/t/1/d/ld/36255062.mp4"  /></div>'},p.prototype.initFormData=function(){this.formData.appLabel="",this.formData.width=640,this.formData.height=363,this.formData.videoID="",this.formData.autoplay="false",this.formData.muted="false",this.formData.controls="true",this.formData.loop="false",this.formData.autoControls="false",this.formData.coverImg="",this.doUpdate(this.formData)},p.prototype.initPorpPanel=function(){console.log("initPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var e=$(".video-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),this.updatePropPanel(),e.find("input[type=text][name=width]").keyup(function(){var e=$(this).val();t.$el.width(l.valInt(e))}),e.find("input[type=text][name=height]").keyup(function(){var e=$(this).val();t.$el.height(l.valInt(e))}),e.find("input[type=text][name=videoID]").keyup(function(){var e=$(this).val();t.update({videoID:e})}),e.find("input[type=text][name=coverImg]").keyup(function(){var e=$(this).val();t.update({coverImg:e})}),e.find("input[type=radio][name=autoplay]").change(function(){var e=$(this).prop("value");t.update({autoplay:e})}),e.find("input[type=radio][name=muted]").change(function(){var e=$(this).prop("value");t.update({muted:e})}),e.find("input[type=radio][name=controls]").change(function(){var e=$(this).prop("value");t.update({controls:e})}),e.find("input[type=radio][name=autoControls]").change(function(){var e=$(this).prop("value");t.update({autoControls:e})}),e.find("input[type=radio][name=loop]").change(function(){var e=$(this).prop("value");t.update({loop:e})})},p.prototype.openEditDialog=function(){var t=layui.layer,e=t.open({type:1,title:"视频设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(e,a){$(e).find(".cancel-btn").on("click",function(){t.close(a)})},content:'<form class="layui-form" lay-filter="videoComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n            <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n            <div class="layui-tab-item">\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="videoComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),a=layui.form;a.render(),a.on("submit(videoComponentForm)",function(a){return t.close(e),!1})},p.prototype.doUpdate=function(t){var e=this.$content.find("Video"),a="true"===this.formData.autoplay,i="true"===this.formData.muted,n="true"===this.formData.controls,o="true"===this.formData.loop;a?e.attr("autoplay","autoplay"):e.removeAttr("autoplay"),i?e.removeAttr("muted"):e.attr("muted","muted"),n?e.attr("controls","controls"):e.removeAttr("controls"),o?e.attr("loop","loop"):e.removeAttr("loop"),e.attr("autoplay"),e.attr("muted"),e.attr("controls"),"diy"==this.formData.coverMode&&this.formData.coverImg},p.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!l.compareForm(e,this.formData)){var i=new r.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},p.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=text][name=width]").val(this.formData.width),t.find("input[type=text][name=height]").val(this.formData.height),t.find("input[type=text][name=videoID]").val(this.formData.videoID),t.find("input[type=text][name=coverImg]").val(this.formData.coverImg),t.find("input[type=radio][name=autoplay]").filter('[value="'+this.formData.autoplay+'"]').prop("checked",!0),t.find("input[type=radio][name=muted]").filter('[value="'+this.formData.muted+'"]').prop("checked",!0),t.find("input[type=radio][name=controls]").filter('[value="'+this.formData.controls+'"]').prop("checked",!0),t.find("input[type=radio][name=autoControls]").filter('[value="'+this.formData.autoControls+'"]').prop("checked",!0),t.find("input[type=radio][name=loop]").filter('[value="'+this.formData.loop+'"]').prop("checked",!0)},p.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xvb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},p);function p(){var t=o.call(this,"video-component",{isEditPopup:!1})||this;return t.$content=$('<div class="video-box"><Video style="width:100%;height:100%"  width="100%" height="100%"  src="https://cloud.video.taobao.com/play/u/2780279213/p/1/e/6/t/1/d/ld/36255062.mp4" /><div class="yw-overlay"></div></div>'),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=d},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(0),r=a(4),d=a(2),p=a(5),c=a(6),m=a(3),u=(n(f,o=s.default),f.prototype.toHtml=function(){var t,e,a,i,n,o,s,r,m,u,f,h,v,y,b=[];t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),n=l.valEmpty(this.formData.overMode),r=l.valEmpty(this.formData.bRadius),m=l.valEmpty(this.formData.tipText),y=l.valEmpty(this.formData.href),f=l.valEmpty(this.formData.hrefMode),u=l.valEmpty(this.formData.linkMode),h=l.valEmpty(this.formData.wangID),v=d.wwUrl(y,u,h,22),s="","mover"===(o=n)&&(s=" u-a",o="");var g=""!=r?"border-radius:"+r+"px;":"",x=d.ImgBgHtml(this.formData),D=x.imgBgStyle;b.push(x.Html);var w=c.toHtmlShadow(this.formData),k=w.onShadow;b.push(w.offShadow);var $,C,T,S,M,P,E,_,z,I,B,A,L,F,H,R,O,X,W,Y,j,N,q=l.valEmpty(this.formData.mbdTsAnt),V=p.toHtmlBorder(this.formData);return b.push(V.Html),$=l.valEmpty(this.formData.disMode),C=""!=l.valEmpty(this.formData.mvTsDur)?this.formData.mvTsDur+"s ":"",T=""!=l.valEmpty(this.formData.mvTsDelay)?this.formData.mvTsDelay+"s ":"",M=" <a "+m+' class="abs ywlink '+$+" "+q+'" href="'+v+'" target="'+f+'" style="'+D+k+g+(S=(S=C+d.BezierCss(this.formData.mvTsBezier,this.formData.mvTsBezierv)+T)?"transition:"+S+";":"")+'">'+b.join("")+"</a>",P="width:"+a+"px; height:"+i+"px;"+S,E=l.valEmpty(this.formData.mrxz),_=l.valEmpty(this.formData.mrxzv),z=l.valEmpty(this.formData.mrsf),(B=I="")!=E&&""!=_&&(I=" "+E+_,B=" mr"),A=l.valEmpty(this.formData.mvTsModeX),L=l.valEmpty(this.formData.mvTsModeXv),F=l.valEmpty(this.formData.mvTsModeY),H=l.valEmpty(this.formData.mvTsModeYv),R=l.valEmpty(this.formData.mvxz),O=l.valEmpty(this.formData.mvxzv),X=l.valEmpty(this.formData.mvsf),W=l.valEmpty(this.formData.mvfz),Y=""!=A?A+L:"",j=""!=F?F+H:"",N=""!=R&&""!=O?" "+R+O:"",-1!=A.indexOf("from")&&(Y=A),-1!=F.indexOf("from")&&(j=F),""!=W&&(M='<div class="abs '+W+'" style="'+P+'">'+M+"</div>"),""==X&&""==z||(M='<div class="abs '+z+" "+X+'" style="'+P+'">'+M+"</div>"),""==R&&""==E||(M='<div class="abs '+I+" "+N+'" style="'+P+'">'+M+"</div>"),""==A&&""==F||(M='<div class="abs '+Y+" "+j+'" style="'+P+'">'+M+"</div>"),'<div class="abs xdtb xtxc '+B+s+'" style="top: '+t+"; left:"+e+"; width:"+a+"px; height:"+i+"px;overflow:"+o+";"+g+'" > '+M+"</div>"},f.prototype.initFormData=function(){this.formData.bgImg="http://image.suning.cn/uimg/sop/commodity/192796024482525085891100_x.jpg",this.formData.bgColor="",this.formData.appLabel="",this.formData.imgMode="cut",this.formData.linkMode="urlink",this.formData.href="",this.formData.tipText="",this.formData.animType="",this.formData.hrefMode="_blank",this.formData.bgImgSize="true",this.formData.animTsDur="0.5",this.formData.animRange="-s",this.formData.wangID="",this.formData.bdRadius="",this.formData.bdStyle="solid",this.formData.overMode="visible",this.formData.shadow="off",this.formData.sdColor="#666666",this.formData.sdSize="",this.formData.sdBlur="5",this.formData.sdX="",this.formData.sdY="",this.formData.mshadow="on",this.formData.msdColor="#E93030",this.formData.msdSize="",this.formData.msdBlur="5",this.formData.msdX="",this.formData.msdY="",this.formData.msdTsDur="0.5",this.formData.bdWidth=5,this.formData.bdStyle="solid",this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdTsAnt="bdtx1",this.formData.mrxz="",this.formData.mrxzv="20",this.formData.mvTsDur="0.5",this.formData.mvTsDelay="",this.formData.mvTsModeX="xins-box-lx",this.formData.mvTsModeXv="20",this.formData.mvTsModeY="",this.formData.mvTsModeYv="30",this.formData.mvfz="",this.formData.disMode="",this.$content.attr("mbdTsAnt",this.formData.mbdTsAnt),this.doUpdate(this.formData)},f.prototype.openEditDialog=function(){var t=this,e=layui.layer,a=null,i=e.open({type:1,title:"炫图层设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){a=$(i),r.setAntSpinvOption(a.find(".ant-spin-v")),r.setAntBezierOption(a.find(".ant-bezier")),r.setAntMrZoomOption(a.find(".ant-mr-zoom")),r.setAntMvZoomOption(a.find(".ant-mv-zoom")),r.setAntMovevOption(a.find(".ant-move-v")),a.find('.animselect > div[data-val="'+t.formData.animType+'"]').addClass("active"),a.find(".animselect > div").on("click",function(){a.find(".animselect > div.active").removeClass("active"),$(this).addClass("active")}),p.editPopHtmlBorder(a.find(".pop-item-border")),c.editPopHtmlShadow(a.find(".pop-item-shadow")),a.find(".sp-preview-inner").css("background-color",""),p.setPopHtmlBorder(a,t),c.setPopHtmlShadow(a,t),t.formData.bgColor&&a.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),a.find(".cancel-btn").on("click",function(){e.close(n)}),d.onLinkModeChanged(a,t.formData.linkMode)},content:'<form class="layui-form" lay-filter="imgAntComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n             <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline">\n                  <input type="text" name="appLabel" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片地址</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n\n                </div>\n                <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">图片显示方式</label>\n                <div class="layui-input-inline">\n                  <select name="imgMode">\n                    <option value="cut">保持原图尺寸</option>\n                    <option value="full">自由拉伸</option>\n                    <option value="scaleX">保持比例(只裁剪宽度)</option>\n                    <option value="scaleY">保持比例(只裁剪高度)</option>\n                  </select>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">背景颜色</label>\n                <div class="layui-input-inline pagecolorpanel"  >\n                  <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                  <input name="bgColor" type="text" class="layui-input pagecolor">\n                  <span class="clear-color-button"></span>\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">链接类型</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                  <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                </div>\n              </div>\n              <div class="layui-form-item link-box" style="display:none">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline">\n                  <input name="href" type="text" class="layui-input">\n                </div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n              <div class="layui-form-item wang-box" style="display:none">\n                <label class="layui-form-label">旺旺ID</label>\n                <div class="layui-input-inline">\n                  <input name="wangID" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">超出部分</label>\n                <div class="layui-input-inline" style="width:300px;">\n                  <input type="radio" name="overMode" lay-filter="overMode" value="visible" title="显示" checked="">\n                  <input type="radio" name="overMode" lay-filter="overMode" value="mover" title="鼠标经过显示">\n                  <input type="radio" name="overMode" lay-filter="overMode" value="hidden" title="隐藏">\n                </div>\n              </div>\n\n              <div class="layui-form-item"  >\n                <label class="layui-form-label">圆角度数</label>\n                <div class="layui-input-inline">\n                  <input name="bRadius" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">提示文字</label>\n                <div class="layui-input-inline">\n                  <input name="tipText" type="text" class="layui-input">\n                </div>\n              </div>\n            </div>\n            <div  class="layui-tab-item pop-item-border">\n\n            </div>\n            <div class="layui-tab-item pop-item-shadow">\n\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认动画</li>\n                  <li class="">鼠标划过动画</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n\n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">显示方式</label>\n                      <div class="layui-input-inline" style="width: 326px;">\n                        <input class="radio-medium" type="radio" name="disMode" value=""  title="始终显示">\n                        <input class="radio-medium" type="radio" name="disMode" value="xins-box-fadein"  title="淡入显示">\n                        <input class="radio-medium" type="radio" name="disMode" value="xins-box-fadeout"  title="淡出消失">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">旋转特效</label>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxz">\n                            <option value="" selected="selected">无效果</option>\n                            <option value="xins-mr-r">顺时针旋转</option>\n                            <option value="xins-mr-fr">逆时针旋转</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxzv"  class="ant-spin-v" >\n                        </select>\n                      </div>\n                    </div>\n                     <div class="layui-form-item">\n                      <label class="layui-form-label">缩放特效</label>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrsf"  class="ant-mr-zoom">\n                        </select>\n                      </div>\n                    </div>\n\n                  </div>\n                  <div class="layui-tab-item">\n\n                    <div class="layui-form-item" style="margin-top:30px;">\n                      <label class="layui-form-label">动画速度</label>\n                      <div class="layui-input-inline" style="width: 148px;">\n                        <input type="text" name="mvTsDur" class="layui-input">\n                      </div>\n                      <label class="layui-form-label" style="width: 65px;padding-left:0px;padding-right:5px">动画延迟</label>\n                      <div class="layui-input-inline" style="width: 65px;">\n                        <input type="text" name="mvTsDelay" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">动画特效</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvTsBezier"  class="ant-bezier">\n                        </select>\n                      </div>\n                      <label class="layui-form-label" style="width:40px;padding-left:0px;padding-right:5px">程度</label>\n                      <div class="layui-input-inline" style="width:85px;">\n                        <select  name="mvTsBezierv" >\n                          <option value="b" selected="selected">强</option>\n                          <option value="m">中</option>\n                          <option value="s">弱</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">横向移动</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvTsModeX" >\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-lx">向左移动</option>\n                          <option value="xins-box-rx">向右移动</option>\n                          <option value="xins-box-fromleft">从左进入</option>\n                          <option value="xins-box-fromright">从右进入</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select  name="mvTsModeXv"  class="ant-move-v">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">纵向移动</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvTsModeY" >\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-uy">向上移动</option>\n                          <option value="xins-box-dy">向下移动</option>\n                          <option value="xins-box-fromtop">从上进入</option>\n                          <option value="xins-box-frombottom">从下进入</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select  name="mvTsModeYv"  class="ant-move-v">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">旋转特效</label>\n                      <div class="layui-input-inline" style="width:150px;">\n                        <select name="mvxz" >\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-r">顺时针旋转</option>\n                          <option value="xins-box-fr">逆时针旋转</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select  name="mvxzv"  class="ant-spin-v">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">缩放特效</label>\n                      <div class="layui-input-inline"  style="width: 150px;">\n                        <select name="mvsf" class="ant-mv-zoom">\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">翻转特效</label>\n                      <div class="layui-input-inline"  style="width: 150px;">\n                        <select name="mvfz">\n                          <option value="" selected="selected">无效果</option>\n                          <option value="xins-box-fx">横向翻转</option>\n                          <option value="xins-box-fy">纵向翻转</option>\n                          <option value="xins-box-fxy">横向纵向同时翻转</option>\n                        </select>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgAntComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(linkMode)",function(t){console.log(t),d.onLinkModeChanged(a,t.value)}),n.on("submit(imgAntComponentForm)",function(n){return t.formData=n.field,t.update(t.formData),t.updatePropPanel(),t.formData.animType=a.find(".animselect > div.active").data("val"),console.log(t.formData),e.close(i),!1}),n.val("imgAntComponentForm",t.formData)},f.prototype.doUpdate=function(t){var e=this,a=t.bRadius?parseInt(t.bRadius):"",i=e.$content.parent().parent(),n=e.$content.parent(),o=!1,s=e.$content.attr("mrxz");if(""!=t.mrxz){var r=t.mrxz+t.mrxzv;1!=l.isEmpty(s)&&e.$content.removeClass(s),e.$content.addClass(r),e.$content.attr("mrxz",r),o=!0}else 1!=l.isEmpty(s)&&(e.$content.removeClass(s),e.$content.removeAttr("mrxz"));var m=e.$content.attr("mrsf");if(""!=t.mrsf){var u=t.mrsf;1!=l.isEmpty(m)&&n.removeClass(m),n.addClass(u),e.$content.attr("mrsf",u),o=!0}else 1!=l.isEmpty(m)&&(n.removeClass(m),e.$content.removeAttr("mrsf"));o?i.addClass("mr"):i.removeClass("mr"),c.updateShadow(this.$content,t),p.updateBorder(this.$content,t),t.bgImg&&e.$img.attr("src",t.bgImg),e.$content.css("border-radius",a),e.$img.bind("load",function(){"true"===t.bgImgSize&&(e.$el.width(e.$img.width()),e.$el.height(e.$img.height()))});var f=t.imgMode;if("cut"===f){var h=d.bgImage(t.bgImg,t.bgColor,"","","");e.$content.css("background",h),e.$img.is(":visible")&&e.$img.hide()}else e.$content.css("background","none"),e.$content.css("background-color",t.bgColor),"full"===f?(e.$img.css("width","100%"),e.$img.css("height","100%")):"scaleX"===f?(e.$img.css("height","100%"),e.$img.css("width","")):"scaleY"===f&&(e.$img.css("width","100%"),e.$img.css("height","")),e.$img.show()},f.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!l.compareForm(e,this.formData)){var i=new m.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},f.prototype.updatePropPanel=function(){var t=this.$propPanel,e=t.find("select[name=mrxz]");e.val(this.formData.mrxz),t.find("select[name=mrxzv]").val(this.formData.mrxzv),d.onDisabledChanged(t,e,this.formData.mrxz),t.find("select[name=mrsf]").val(this.formData.mrsf);var a=t.find("select[name=mvTsModeX]");a.val(this.formData.mvTsModeX),t.find("select[name=mvTsModeXv]").val(this.formData.mvTsModeXv),d.onDisabledChanged(t,a,this.formData.mvTsModeX);var i=t.find("select[name=mvTsModeY]");i.val(this.formData.mvTsModeY),t.find("select[name=mvTsModeYv]").val(this.formData.mvTsModeYv),d.onDisabledChanged(t,i,this.formData.mvTsModeY);var n=t.find("select[name=mvxz]");n.val(this.formData.mvxz),t.find("select[name=mvxzv]").val(this.formData.mvxzv),d.onDisabledChanged(t,n,this.formData.mvxz),t.find("select[name=mvsf]").val(this.formData.mvsf),t.find("select[name=mvfz]").val(this.formData.mvfz),t.find("input[type=text][name=mvTsDur]").val(this.formData.mvTsDur),t.find("input[type=text][name=mvTsDelay]").val(this.formData.mvTsDelay),t.find("select[name=mvTsBezier]").val(this.formData.mvTsBezier),t.find("select[name=mvTsBezierv]").val(this.formData.mvTsBezierv),t.find("input[type=radio][name=disMode]").filter('[value="'+this.formData.disMode+'"]').prop("checked",!0),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg);var o=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?o.prop("checked",!0):o.prop("checked",!1),t.find("#imgMode").val(this.formData.imgMode),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var s=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?s.prop("checked",!0):s.prop("checked",!1),d.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=bRadius]").val(this.formData.bRadius),t.find("input[type=radio][name=overMode]").filter('[value="'+this.formData.overMode+'"]').prop("checked",!0),p.updatePropBorder(t,this)},f.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var e=$(".img-ant-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),r.setAntSpinvOption(e.find(".ant-spin-v")),r.setAntBezierOption(e.find(".ant-bezier")),r.setAntMrZoomOption(e.find(".ant-mr-zoom")),r.setAntMvZoomOption(e.find(".ant-mv-zoom")),r.setAntMovevOption(e.find(".ant-move-v")),p.editSideHtmlBorder(e.find(".side-item-border")),this.updatePropPanel(),layui.element.render("collapse"),e.find("input[type=text][name=mvTsDur]").keyup(function(){var e=$(this).val();t.update({mvTsDur:e})}),e.find("input[type=text][name=mvTsDelay]").keyup(function(){var e=$(this).val();t.update({mvTsDelay:e})}),e.find("select[name=mvTsBezier]").change(function(){t.update({mvTsBezier:$(this).prop("value")})}),e.find("select[name=mvTsBezierv]").change(function(){t.update({mvTsBezierv:$(this).prop("value")})}),e.find("select[name=mrsf]").change(function(){t.update({mrsf:$(this).prop("value")})}),e.find("select[name=mrxz]").change(function(){t.update({mrxz:$(this).prop("value")}),d.onDisabledChanged(e,$(this),t.formData.mrxz)}),e.find("select[name=mrxzv]").change(function(){t.update({mrxzv:$(this).prop("value")})}),e.find("select[name=mvTsModeXv]").change(function(){t.update({mvTsModeXv:$(this).prop("value")})}),e.find("select[name=mvTsModeX]").change(function(){t.update({mvTsModeX:$(this).prop("value")}),d.onDisabledChanged(e,$(this),t.formData.mvTsModeX)}),e.find("select[name=mvTsModeYv]").change(function(){t.update({mvTsModeYv:$(this).prop("value")})}),e.find("select[name=mvTsModeY]").change(function(){t.update({mvTsModeY:$(this).prop("value")}),d.onDisabledChanged(e,$(this),t.formData.mvTsModeY)}),e.find("select[name=mvxzv]").change(function(){t.update({mvxzv:$(this).prop("value")}),t.update(t.formData)}),e.find("select[name=mvxz]").change(function(){t.update({mvxz:$(this).prop("value")}),d.onDisabledChanged(e,$(this),t.formData.mvxz)}),e.find("select[name=mvsf]").change(function(){t.update({mvsf:$(this).prop("value")})}),e.find("select[name=mvfz]").change(function(){t.update({mvfz:$(this).prop("value")})}),e.find("input[type=radio][name=disMode]").change(function(){var e=$(this).prop("value");t.update({disMode:e})}),e.find("input[type=radio][name=overMode]").change(function(){var e=$(this).prop("value");t.update({overMode:e})}),e.find("input[type=text][name=bgImg]").keyup(function(){t.update({bgImg:$(this).val()})}),e.find("input[type=checkbox][name=bgImgSize]").change(function(){var e=$(this).is(":checked");t.update({bgImgSize:e?"true":"false"})}),e.find("#imgMode").change(function(){t.update({imgMode:$(this).val()})}),e.find("input[type=radio][name=linkMode]").change(function(){var a=$(this).prop("value");t.update({imgMode:a}),d.onLinkModeChanged(e,t.formData.linkMode)}),e.find("input[type=text][name=href]").keyup(function(){var e=$(this).val();t.update({href:e})}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.update({hrefMode:e?"_blank":""})}),e.find("input[type=text][name=wangID]").keyup(function(){var e=$(this).val();t.update({wangID:e})}),e.find("input[type=text][name=bRadius]").keyup(function(){var e=$(this).val();t.update({bRadius:e})}),p.initPorpBorder(e,t),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},f.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xtcl",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},f);function f(){var t=o.call(this,"img-ant-component")||this;return t.$content=$('<a class="xdtb ywimg-box"><img src="" style="display:none"></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=u},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(0),r=a(4),d=a(2),p=a(5),c=a(6),m=a(3),u=(n(f,o=s.default),f.prototype.toHtml=function(){var t,e,a,i,n,o,s,r,m,u,f=[];t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),n=l.valEmpty(this.formData.bRadius),u=l.valEmpty(this.formData.href),s=l.valEmpty(this.formData.hrefMode),o=l.valEmpty(this.formData.linkMode),r=l.valEmpty(this.formData.wangID),m=d.wwUrl(u,o,r,22),u=""!=u?' href="'+m+'"':"",s="_blank"===s?' target="_blank"':"";var h,v,y,b,g,x,D,w,k,$=""!=n?"border-radius:"+n+"px;":"";b=this.formData.mTsAnt,h=""!=l.valEmpty(this.formData.mTsDur)?this.formData.mTsDur+"s ":"",v=""!=l.valEmpty(this.formData.mTsDelay)?this.formData.mTsDelay+"s ":"",y=(y=h+d.BezierCss(this.formData.mTsBezier,this.formData.mTsBezierv)+v)?"transition:"+y+";":"",x=this.formData.bgImg,D=this.formData.bgColor,w=this.formData.bgPos,k='<div class="on" style="'+(g=""!=(g=d.bgImage(x,D,"",w,""))?"background:"+g+";":"")+y+'"></div>';var C,T,S,M,P,E,_="";if(C=this.formData.mbgImg,T=this.formData.mbgColor,""!=C||""!=C){var z,I=void 0;z=this.formData.mbgPos,_='<div class="off" style="'+(I=""!=(I=d.bgImage(C,T,"",z,""))?"background:"+I+";":"")+y+'"></div>'}"atrans5"==b||"atrans6"==b||"atrans7"===b||"atrans8"===b||"atrans9"===b||"atrans19"===b?(f.push(_),f.push(k)):(f.push(k),f.push(_)),S=l.valEmpty(this.formData.mrxz),M=l.valEmpty(this.formData.mrxzv),(E=P="")!=S&&""!=M&&(P=" "+S+M,E=" mr");var B=c.toHtmlShadow(this.formData),A=B.onShadow,L=B.offShadow,F=l.valEmpty(this.formData.mbdTsAnt),H=p.toHtmlBorder(this.formData);return f.push(H.Html),'<div class="abs xdtb xtxc '+E+'" style="top: '+t+"; left:"+e+"; width:"+a+"px; height:"+i+"px;"+$+'" > <div class="yw-100'+P+'" style="'+A+$+'">'+L+'<a   class="ywlink  ant-text '+F+" "+b+'" '+u+s+'  style="'+$+'overflow: hidden;position:relative;">'+f.join("")+"</a></div></div>"},f.prototype.initFormData=function(){this.formData.appLabel="",this.formData.bgImgSize="true",this.formData.bgImg="http://img04.taobaocdn.com/imgextra/i4/808048452/TB2bMZZcpXXXXb5XXXXXXXXXXXX-808048452.jpg",this.formData.bgColor="",this.formData.bgPos="50% 50%",this.formData.mrxz="",this.formData.mrxzv="20",this.formData.mbgImg="http://img04.taobaocdn.com/imgextra/i4/808048452/TB2BLE3cpXXXXXIXXXXXXXXXXXX-808048452.jpg",this.formData.mbgColor="",this.formData.mbgPos="50% 50%",this.formData.linkMode="urlink",this.formData.hrefMode="_blank",this.formData.href="",this.formData.wangID="",this.formData.bdRadius="",this.formData.mTsDur="0.5",this.formData.mTsAnt="atrans16",this.formData.shadow="off",this.formData.sdColor="#666666",this.formData.sdSize="",this.formData.sdBlur="5",this.formData.sdX="",this.formData.sdY="",this.formData.mshadow="on",this.formData.msdColor="#E93030",this.formData.msdSize="",this.formData.msdBlur="5",this.formData.msdX="",this.formData.msdY="",this.formData.msdTsDur="0.5",this.formData.bdWidth=5,this.formData.bdStyle="solid",this.formData.mbdWidth=5,this.formData.mbdStyle="solid",this.formData.mbdTsDur="0.5",this.formData.mbdTsFun="ease-out",this.formData.mbdTsAnt="bdtx1",this.doUpdate(this.formData)},f.prototype.openEditDialog=function(){var t=this,e=layui.layer,a=null,i=e.open({type:1,title:"双面图片设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){a=$(i),r.setAntSpinvOption(a.find(".ant-spin-v")),r.setAntBezierOption(a.find(".ant-bezier")),p.editPopHtmlBorder(a.find(".pop-item-border")),c.editPopHtmlShadow(a.find(".pop-item-shadow")),a.find(".sp-preview-inner").css("background-color",""),p.setPopHtmlBorder(a,t),c.setPopHtmlShadow(a,t),t.formData.bgColor&&a.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.mbgColor&&a.find("input[type=text][name=mbgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbgColor),a.find(".cancel-btn").on("click",function(){e.close(n)});var o=a.find("select[name=mrxz]").parent();d.onLinkModeChanged(a,t.formData.linkMode),d.onDisabledChanged(a,o,t.formData.mrxz)},content:'<form class="layui-form" lay-filter="imgZfComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">内容设置</li>\n             <li>边框设置</li>\n             <li>阴影外框</li>\n             <li>动画设置</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-tab layui-side-card">\n                <ul class="layui-tab-title"  >\n                  <li class="layui-this" style="margin-top: 110px;">默认图片</li>\n                  <li class="">鼠标划过图片</li>\n                </ul>\n                <div class="layui-tab-content" style="height: 400px;">\n                  <div class="layui-tab-item layui-show">\n                    <div class="layui-form-item" style="margin-top:5px;">\n                      <label class="layui-form-label">应用名称</label>\n                      <div class="layui-input-inline">\n                        <input type="text" name="appLabel" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">图片地址</label>\n                      <div class="layui-input-inline">\n                        <input name="bgImg" type="text" class="layui-input">\n                      </div>\n                      <div><input name="bgImgSize" value="true" type="checkbox" lay-skin="primary" title="自动宽高"></div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">对齐方式</label>\n                      <div class="layui-input-inline">\n                        <select name="bgPos">\n                          <option value="0% 0%">左上</option>\n                          <option value="0% 50%">左中</option>\n                          <option value="0% 100%">左下</option>\n                          <option value="50% 0%">中上</option>\n                          <option value="50% 50%">正中</option>\n                          <option value="50% 100%">中下</option>\n                          <option value="100% 0%">右上</option>\n                          <option value="100% 50%">右中</option>\n                          <option value="100% 100%">右下</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">背景颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="bgColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">链接类型</label>\n                      <div class="layui-input-inline">\n                        <input type="radio" name="linkMode" lay-filter="linkMode" value="urlink" title="普通" checked="">\n                        <input type="radio" name="linkMode" lay-filter="linkMode" value="wwlink" title="旺旺">\n                      </div>\n                    </div>\n                    <div class="layui-form-item link-box" style="display:none">\n                      <label class="layui-form-label">链接地址</label>\n                      <div class="layui-input-inline">\n                        <input name="href" type="text" class="layui-input">\n                      </div>\n                      <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n                    </div>\n                    <div class="layui-form-item wang-box" style="display:none">\n                      <label class="layui-form-label">旺旺ID</label>\n                      <div class="layui-input-inline">\n                        <input name="wangID" type="text" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">旋转特效</label>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxz">\n                            <option value="" selected="selected">无效果</option>\n                            <option value="xins-mr-r">顺时针旋转</option>\n                            <option value="xins-mr-fr">逆时针旋转</option>\n                        </select>\n                      </div>\n                      <div class="layui-input-inline" style="width: 126px;">\n                        <select name="mrxzv"  class="ant-spin-v" >\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item"  >\n                      <label class="layui-form-label">圆角度数</label>\n                      <div class="layui-input-inline">\n                        <input name="bRadius" type="text" class="layui-input">\n                      </div>\n                    </div>\n                  </div>\n                  <div class="layui-tab-item">\n                    <div class="layui-form-item" style="margin-top:10px;">\n                      <label class="layui-form-label">图片地址</label>\n                      <div class="layui-input-inline">\n                        <input name="mbgImg" type="text" class="layui-input">\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">对齐方式</label>\n                      <div class="layui-input-inline">\n                        <select name="mbgPos">\n                          <option value="0% 0%">左上</option>\n                          <option value="0% 50%">左中</option>\n                          <option value="0% 100%">左下</option>\n                          <option value="50% 0%">中上</option>\n                          <option value="50% 50%">正中</option>\n                          <option value="50% 100%">中下</option>\n                          <option value="100% 0%">右上</option>\n                          <option value="100% 50%">右中</option>\n                          <option value="100% 100%">右下</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class="layui-form-item">\n                      <label class="layui-form-label">背景颜色</label>\n                      <div class="layui-input-inline pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner"></div></div></div>\n                        <input name="mbgColor" type="text" class="layui-input pagecolor">\n                        <span class="clear-color-button"></span>\n                      </div>\n                    </div>\n\n\n\n                  </div>\n                </div>\n              </div>\n\n            </div>\n            <div  class="layui-tab-item pop-item-border">\n\n            </div>\n            <div class="layui-tab-item pop-item-shadow">\n\n            </div>\n            <div class="layui-tab-item">\n\n\n              <fieldset  class="layui-elem-field"  >\n\n                <div class="layui-field-box">\n                  <div class="layui-form-item" >\n                    <label class="layui-form-label">动画速度</label>\n                    <div class="layui-input-inline" style="width: 148px;">\n                      <input type="text" name="mTsDur" class="layui-input">\n                    </div>\n                    <label class="layui-form-label" style="width: 65px;padding-left:0px;padding-right:5px">动画延迟</label>\n                    <div class="layui-input-inline" style="width: 65px;">\n                      <input type="text" name="mTsDelay" class="layui-input">\n                    </div>\n                  </div>\n                  <div class="layui-form-item">\n                    <label class="layui-form-label">动画特效</label>\n                    <div class="layui-input-inline" style="width:150px;">\n                      <select name="mTsBezier"  class="ant-bezier">\n                      </select>\n                    </div>\n                    <label class="layui-form-label" style="width:40px;padding-left:0px;padding-right:5px">程度</label>\n                    <div class="layui-input-inline" style="width:85px;">\n                      <select  name="mTsBezierv" >\n                        <option value="b" selected="selected">强</option>\n                        <option value="m">中</option>\n                        <option value="s">弱</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </fieldset>\n              <fieldset  class="layui-elem-field" style="margin-top:10px;">\n                <legend>动画效果</legend>\n                <div class="layui-field-box" style="padding-left:60px;">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans0" title="无效果">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans1" title="右切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans2"  title="下切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans3"  title="左切入">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans4"  title="上切入">\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans5"  title="右切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans6"  title="下切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans7"  title="左切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans8"  title="上切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans9"  title="右切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans10"   title="下切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans11"   title="左切入切出">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans12"  title="上切入切出">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans13"  title="放大出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans14"  title="缩小出现">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans15"  title="翻转出现">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans16"  title="缩放出现1">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans17"  title="缩放出现2">\n\n                  <div class="sepline"></div>\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans18"  title="旋转放大">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans19"  title="旋转缩小">\n                  <input class="radio-medium" type="radio" name="mTsAnt"  value="atrans20"  title="渐隐渐显">\n                </div>\n              </fieldset>\n\n\n            </div>\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="imgZfComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(linkMode)",function(t){console.log(t),d.onLinkModeChanged(a,t.value)}),n.on("submit(imgZfComponentForm)",function(n){return t.formData=n.field,t.update(t.formData),t.updatePropPanel(),t.formData.animType=a.find(".animselect > div.active").data("val"),console.log(t.formData),e.close(i),!1}),n.val("imgZfComponentForm",t.formData)},f.prototype.doUpdate=function(t){var e,a,i,n=this,o=t.bRadius?parseInt(t.bRadius):"",s=n.$content.parent().parent(),r=(n.$content.parent(),!1),m=n.$content.attr("mrxz");if(""!=t.mrxz){var u=t.mrxz+t.mrxzv;1!=l.isEmpty(m)&&n.$content.removeClass(m),n.$content.addClass(u),n.$content.attr("mrxz",u),r=!0}else 1!=l.isEmpty(m)&&(n.$content.removeClass(m),n.$content.removeAttr("mrxz"));r?s.addClass("mr"):s.removeClass("mr"),e=""!=l.valEmpty(this.formData.mTsDur)?this.formData.mTsDur+"s ":"",a=""!=l.valEmpty(this.formData.mTsDelay)?this.formData.mTsDelay+"s ":"",i=e+d.BezierCss(this.formData.mTsBezier,this.formData.mTsBezierv)+a;var f,h,v,y,b=this.$contentBox.find(".on");h=this.formData.bgImg,v=this.formData.bgColor,y=this.formData.bgPos,f=d.bgImage(h,v,"",y,""),b.css("background",f),b.css("transition",i);var g,x,D,w,k=this.$contentBox.find(".off"),$=this.$content.attr("mTsAnt");if(x=this.formData.mbgImg,D=this.formData.mbgColor,w=this.formData.mbgPos,g=d.bgImage(x,D,"",w,""),""!=x){k.remove();var C=this.formData.mTsAnt;"atrans5"==C||"atrans6"==C||"atrans7"===C||"atrans8"===C||"atrans9"===C||"atrans19"===C?this.$contentBox.find(".on").before("<div class='off' ></div>"):this.$contentBox.find(".on").after("<div class='off'   ></div>"),(k=this.$contentBox.find(".off")).css("background",g),k.css("transition",i),1!=l.isEmpty($)&&this.$content.removeClass($),this.$content.addClass(C),this.$content.attr("mTsAnt",C)}else k.remove(),1!=l.isEmpty($)&&this.$content.removeClass($),this.$content.attr("mTsAnt","");t.bgImg&&n.$img.attr("src",t.bgImg),n.$img.bind("load",function(){"true"===t.bgImgSize&&(n.$el.width(n.$img.width()),n.$el.height(n.$img.height()))}),n.$content.css("border-radius",o),c.updateShadow(this.$content,t),p.updateBorder(this.$content,t)},f.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!l.compareForm(e,this.formData)){var i=new m.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},f.prototype.updatePropPanel=function(){var t=this.$propPanel,e=t.find("select[name=mrxz]");e.val(this.formData.mrxz),t.find("select[name=mrxzv]").val(this.formData.mrxzv),d.onDisabledChanged(t,e,this.formData.mrxz),t.find("input[type=text][name=bgImg]").val(this.formData.bgImg);var a=t.find("input[type=checkbox][name=bgImgSize]");"true"===this.formData.bgImgSize?a.prop("checked",!0):a.prop("checked",!1);var i=t.find("input[type=text][name=bgColor]");i.val(this.formData.bgColor),this.formData.bgColor?i.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):i.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=text][name=mbgImg]").val(this.formData.mbgImg);var n=t.find("input[type=text][name=mbgColor]");n.val(this.formData.mbgColor),this.formData.mbgColor?n.prev().find(".sp-preview-inner").css("background-color",this.formData.mbgColor):n.prev().find(".sp-preview-inner").css("background-color",""),t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var o=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?o.prop("checked",!0):o.prop("checked",!1),d.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=bRadius]").val(this.formData.bRadius),t.find("input[type=text][name=mTsDur]").val(this.formData.mTsDur),t.find("input[type=text][name=mTsDelay]").val(this.formData.mTsDelay),t.find("select[name=mTsBezier]").val(this.formData.mTsBezier),t.find("select[name=mTsBezierv]").val(this.formData.mTsBezierv),t.find("input[type=radio][name=mTsAnt]").filter('[value="'+this.formData.mTsAnt+'"]').prop("checked",!0),p.updatePropBorder(t,this)},f.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var e=$(".img-zf-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),r.setAntSpinvOption(e.find(".ant-spin-v")),r.setAntBezierOption(e.find(".ant-bezier")),p.editSideHtmlBorder(e.find(".side-item-border")),this.updatePropPanel(),layui.element.render("collapse"),e.find("select[name=mrxz]").change(function(){var a=$(this).prop("value");t.update({mrxz:a}),d.onDisabledChanged(e,$(this),a)}),e.find("select[name=mrxzv]").change(function(){var e=$(this).prop("value");t.update({mrxzv:e})}),e.find("input[type=text][name=bgImg]").keyup(function(){var e=$(this).val();t.update({bgImg:e})}),e.find("input[type=checkbox][name=bgImgSize]").change(function(){var e=$(this).is(":checked");t.update({bgImgSize:e?"true":"false"})}),e.find("select[name=bgPos]").change(function(){var e=$(this).prop("value");t.update({bgPos:e})}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.update({bgColor:e})}),e.find("input[type=text][name=mbgImg]").keyup(function(){var e=$(this).val();t.update({mbgImg:e})}),e.find("select[name=mbgPos]").change(function(){var e=$(this).prop("value");t.update({mbgPos:e})}),e.find("input[type=text][name=mbgColor]").change(function(){var e=$(this).val();t.update({mbgColor:e})}),e.find("input[type=radio][name=linkMode]").change(function(){var a=$(this).prop("value");t.update({linkMode:a}),d.onLinkModeChanged(e,a)}),e.find("input[type=text][name=href]").keyup(function(){var e=$(this).val();t.update({href:e})}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.update({hrefMode:e?"_blank":""})}),e.find("input[type=text][name=wangID]").keyup(function(){var e=$(this).val();t.update({wangID:e})}),e.find("input[type=text][name=bRadius]").keyup(function(){var e=$(this).val();t.update({bRadius:e})}),e.find("input[type=text][name=mTsDur]").keyup(function(){var e=$(this).val();t.update({mTsDur:e})}),e.find("input[type=text][name=mTsDelay]").keyup(function(){var e=$(this).val();t.update({mTsDelay:e})}),e.find("select[name=mTsBezier]").change(function(){var e=$(this).prop("value");t.update({mTsBezier:e})}),e.find("select[name=mTsBezierv]").change(function(){var e=$(this).prop("value");t.update({mTsBezierv:e})}),e.find("input[type=radio][name=mTsAnt]").change(function(){var e=$(this).prop("value");t.update({mTsAnt:e})}),p.initPorpBorder(e,t),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},f.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xzfm",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},f);function f(){var t=o.call(this,"img-zf-component")||this;return t.$content=$('<a class="xdtb ywimg-box ant-text yw-hidden yw-rel"><div class="on"></div><img  style="display: none;"/></a>'),t.$img=t.$content.find("img"),t.$contentBox.append(t.$content),t.initFormData(),t}e.default=u},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(0),r=a(4),d=a(2),p=a(3),c=(n(m,o=s.default),m.prototype.initFormData=function(){this.formData.appLabel="",this.formData.family="arial",this.formData.fSize=12,this.formData.color="#000",this.formData.bgColor="#fff",this.formData.lHeight="",this.formData.spacing="",this.formData.indent="",this.formData.weight=600,this.formData.fStyle="normal",this.formData.oLine="",this.formData.through="",this.formData.uLine="",this.formData.align="center",this.formData.content="请设置文件内容",this.formData.href="",this.formData.hrefMode="_blank",this.formData.bgImg="http://image.suning.cn/uimg/sop/commodity/192796024482525085891100_x.jpg",this.formData.dirtPos="left",this.formData.behavior="scroll",this.formData.dirt="left",this.formData.amount=5,this.formData.scrlw=0,this.formData.scrlh=0,this.formData.scjl=0,this.formData.conMode="txt",this.doUpdate(this.formData)},m.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xgdb",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},m.prototype.toHtml=function(){var t,e,a,i,n,o,s,r,p,c,m,u,f,h,v,y,b,g,x,D,w,k,$,C,T,S,M,P,E,_,z,I,B,A;t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),u=""!=l.valEmpty(this.formData.amount)?' scrollamount="'+this.formData.amount+'"':"",f=""!=l.valEmpty(this.formData.delay)?' scrolldelay="'+this.formData.delay+'"':"",h=this.formData.dirt,v=this.formData.behavior,b=""!=l.valInt(this.formData.scjl)?l.valInt(this.formData.scjl):0,s=l.valEmpty(this.formData.conMode),r=this.$contentBox.find(".sc-box"),"img"===s&&(r=this.$contentBox.find(".sc-box img")),p=r.width(),c=r.height(),g="rel",(m="")!=b&&("left"===h||"right"===h?p+=b:"up"!==h&&"down"!==h||(c+=b,g="abs")),m+="width:"+p+"px; height:"+c+"px;overflow:hidden;",y="white-space:nowrap;word-break:break-all;",o=""!=l.valEmpty(this.formData.href)?' href="'+this.formData.href+'"':"",n="_blank"===l.valEmpty(this.formData.hrefMode)?' target="'+this.formData.hrefMode+'"':"",I=""!=l.valEmpty(this.formData.content)?this.formData.content:"",x=""!=l.valEmpty(this.formData.family)?"font-family:"+this.formData.family+";":"",D=""!=l.valEmpty(this.formData.fSize)?"font-size:"+this.formData.fSize+"px;":"",w=""!=l.valEmpty(this.formData.color)?"color:"+this.formData.color+";":"",$=""!=l.valEmpty(this.formData.lHeight)?"line-height:"+this.formData.lHeight+"px;":"",C=""!=l.valEmpty(this.formData.spacing)?"letter-spacing:"+this.formData.spacing+"px;":"",T=""!=l.valEmpty(this.formData.indent)?"text-indent:"+this.formData.indent+"px;":"",S=""!=l.valEmpty(this.formData.weight)?"font-weight:"+this.formData.weight+";":"",M=""!=l.valEmpty(this.formData.fStyle)?"font-style:"+this.formData.fStyle+";":"",z=""!=l.valEmpty(this.formData.align)?"text-align:"+this.formData.align+";":"",B=""!=(k=l.valEmpty(this.formData.bgColor))?"background-color:"+k+";":"",P=l.valEmpty(this.formData.oLine),E=l.valEmpty(this.formData.through),_=l.valEmpty(this.formData.uLine),A=""!=(A=d.textLine(P,E,_))?"text-decoration:"+A+";":"";var L="",F=0,H="",R="",O="";if("left"===h||"right"===h?(H="right:"+(F=p)+"px;",R="top:-"+c+"px;right:0px;",O="right:-"+F+"px;top:-"+2*c+"px;"):"up"!==h&&"down"!==h||(H="top:-"+(F=c)+"px;background-color:red;",R="top:0px;background-color: green;",O="top:"+F+"px;background-color: #000;"),"txt"===s)"left"!==h&&"up"!==h&&"right"!==h||"scroll"!==v?L='<div class="rel"  style="'+m+y+B+A+x+D+w+$+C+T+S+z+M+'" >'+I+"</div>":(L='<div class="rel"  style="'+H+m+y+B+A+x+D+w+$+C+T+S+z+M+'" >'+I+"</div>",L+='<div class="rel"  style="'+R+m+y+B+A+x+D+w+$+C+T+S+z+M+'" >'+I+"</div>",L+='<div class="rel"  style="'+O+m+y+B+A+x+D+w+$+C+T+S+z+M+'" >'+I+"</div>");else{var X=l.valEmpty(this.formData.bgImg),W=""!=X?'<img  src="'+X+'" />':"";"left"!==h&&"up"!==h&&"right"!==h||"scroll"!==v?L='<div class="'+g+'" style="'+m+'">'+W+"</div>":(L='<div class="'+g+'" style="'+H+m+'">'+W+"</div>",L+='<div class="'+g+'" style="'+R+m+'">'+W+"</div>",L+='<div class="'+g+'" style="'+O+m+'">'+W+"</div>")}return o&&(L="<a "+o+n+"  >"+L+"</a>"),'<div class="abs" style="top: '+t+"; left:"+e+"; width:"+a+"px; height:"+i+'px;" >'+(L='<marquee class="rel" onmouseover=this.stop() onmouseout=this.start()  style="width:100%;height:100%;overflow:hidden;" '+u+f+' direction="'+h+'" behavior="'+v+'">'+L+"</marquee>")+"</div>"},m.prototype.updatePreviewStyle=function(t){var e=t.parent().parent().parent().find(".font-textarea .multi-textarea");t.parent().hasClass("nromal-wrap")&&(e=t.parent().parent().find(".font-textarea .multi-textarea"));var a=!!e.parent().prev().hasClass("font-f");if(0<e.length)if(a){var i=this.formData.muLine;this.formData.moLine?i+=" "+this.formData.moLine:(this.formData.mthrough&&(i+=" "+this.formData.mthrough),""===i&&(i="none"),e.css("font-family",this.formData.mfamily),e.css("color",this.formData.mcolor),e.css("background-color",this.formData.mbgColor),e.css("font-size",parseInt(this.formData.mfSize)),e.css("line-height",this.formData.mlHeight+"px"),e.css("letter-spacing",parseInt(this.formData.mspacing)),e.css("text-indent",parseInt(this.formData.mindent)),e.css("text-align",this.formData.malign),e.css("font-weight",this.formData.mweight),e.css("font-style",this.formData.mfStyle),e.css("text-decoration",i))}else i=this.formData.uLine,this.formData.oLine?i+=" "+this.formData.oLine:(this.formData.through&&(i+=" "+this.formData.through),""===i&&(i="none"),e.css("font-family",this.formData.family),e.css("color",this.formData.color),e.css("background-color",this.formData.bgColor),e.css("font-size",parseInt(this.formData.fSize)),e.css("line-height",this.formData.lHeight+"px"),e.css("letter-spacing",parseInt(this.formData.spacing)),e.css("text-indent",parseInt(this.formData.indent)),e.css("text-align",this.formData.align),e.css("font-weight",this.formData.weight),e.css("font-style",this.formData.fStyle),e.css("text-decoration",i))},m.prototype.getFontActive=function(t){var e=t.find("input[type=hidden]"),a=e.attr("name").toLowerCase();if(t.parent().hasClass("font-f")&&(a=a.substr(1)),t.hasClass("active"))switch(t.removeClass("active"),a){case"weight":e.val("");break;case"fstyle":e.val("normal");break;case"oline":case"through":case"uline":e.val("")}else switch(t.addClass("active"),a){case"weight":e.val("600");break;case"fstyle":e.val("italic");break;case"oline":e.val("overline");break;case"through":e.val("line-through");break;case"uline":e.val("underline")}},m.prototype.initPorpPanel=function(){console.log("initTextPorpPanel");var t=this;$(".prop-setting-ct > div").hide();var e=$(".marquee-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),r.setFontOption(e.find(".font-select")),this.updatePropPanel(),layui.element.render("collapse"),e.find("select[name=dirt]").change(function(){var e=$(this).prop("value");t.update({dirt:e})}),e.find("select[name=behavior]").change(function(){var e=$(this).prop("value");t.update({behavior:e})}),e.find("input[type=text][name=amount]").keyup(function(){var e=$(this).val();t.update({amount:e})}),e.find("input[type=text][name=delay]").keyup(function(){var e=$(this).val();t.update({delay:e})}),e.find("input[type=text][name=scjl]").keyup(function(){var e=$(this).val();t.update({scjl:e})}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.update({hrefMode:e?"_blank":""})}),e.find("input[type=text][name=href]").keyup(function(){var e=$(this).val();t.update({href:e})}),e.find("select[name=family]").change(function(){var e=$(this).prop("value");t.update({family:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=color]").change(function(){var e=$(this).val();t.update({color:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.update({bgColor:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=fSize]").keyup(function(){var e=$(this).val();t.update({fSize:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=lHeight]").keyup(function(){var e=$(this).val();t.update({lHeight:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=spacing]").keyup(function(){var e=$(this).val();t.update({spacing:e}),t.updatePreviewStyle($(this))}),e.find("input[type=text][name=indent]").keyup(function(){var e=$(this).val();t.update({indent:e}),t.updatePreviewStyle($(this))}),e.find("textarea[name=content]").keyup(function(){var e=$(this).val();t.update({content:e})}),e.find("input[type=radio][name=conMode]").change(function(){var a=$(this).prop("value");t.update({conMode:a}),d.conModeChanged(e,a)}),e.find("input[type=text][name=bgImg]").keyup(function(){var e=$(this).val();t.update({bgImg:e})}),e.find(".font-setting .font-item-radio").click(function(){var e=$(this).attr("data-val"),a=$(this).parent();a.hasClass("font-f")?t.update({malign:e}):t.update({align:e}),a.find(".font-item-radio").removeClass("active"),$(this).addClass("active"),t.updatePreviewStyle($(this))}),e.find(".font-z .font-item-checkbox").click(function(){var e=$(this).find("input[type=hidden]"),a=e.attr("name").toLowerCase();if($(this).hasClass("active"))switch($(this).removeClass("active"),a){case"weight":t.update({weight:""}),e.val("");break;case"fstyle":t.update({fStyle:"normal"}),e.val("normal");break;case"oline":t.update({oLine:""}),e.val("");break;case"through":t.update({through:""}),e.val("");break;case"uline":t.update({uLine:""}),e.val("")}else switch($(this).addClass("active"),a){case"weight":t.update({weight:"600"}),e.val("600");break;case"fstyle":t.update({fStyle:"italic"}),e.val("italic");break;case"oline":t.update({oLine:"overline"}),e.val("overline");break;case"through":t.update({through:"line-through"}),e.val("line-through");break;case"uline":t.update({uLine:"underline"}),e.val("underline")}t.updatePreviewStyle($(this))}),e.find(".editor-btns").on("click",function(){t.openEditDialog()})},m.prototype.openEditDialog=function(){var t=this,e=layui.layer,a=null,i=e.open({type:1,title:"滚动文子/图片设置",skin:"layui-layer-rim",area:["600px","600px"],success:function(i,n){a=$(i),r.setFontOption(a.find(".font-select")),a.find(".cancel-btn").on("click",function(){e.close(n)}),a.find(".sp-preview-inner").css("background-color",""),t.formData.color&&a.find("input[type=text][name=color]").prev().find(".sp-preview-inner").css("background-color",t.formData.color),t.formData.bgColor&&a.find("input[type=text][name=bgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.bgColor),t.formData.mcolor&&a.find("input[type=text][name=mcolor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mcolor),t.formData.mbgColor&&a.find("input[type=text][name=mbgColor]").prev().find(".sp-preview-inner").css("background-color",t.formData.mbgColor),"600"==t.formData.weight&&a.find(".font-z .font-item-checkbox:eq(0)").addClass("active"),"italic"==t.formData.fStyle&&a.find(".font-z .font-item-checkbox:eq(1)").addClass("active"),"overline"==t.formData.oLine&&a.find(".font-z .font-item-checkbox:eq(2)").addClass("active"),"line-through"==t.formData.through&&a.find(".font-z .font-item-checkbox:eq(3)").addClass("active"),"underline"==t.formData.uLine&&a.find(".font-z .font-item-checkbox:eq(4)").addClass("active"),a.find('.font-z .font-item-radio[data-val="'+t.formData.align+'"]').addClass("active"),a.find(".font-setting .font-item-checkbox").on("click",function(){t.getFontActive($(this))}),a.find(".font-setting .font-item-radio").on("click",function(){var t=$(this);t.parent().find(".font-item-radio").removeClass("active"),t.addClass("active")}),d.conModeChanged(a,t.formData.conMode)},content:'<form class="layui-form" lay-filter="marqueeComponentForm">\n        <div class="layui-tab layui-tab-brief">\n          <ul class="layui-tab-title">\n            <li class="layui-this">默认设置</li>\n            <li>滚动动画</li>\n          </ul>\n          <div class="layui-tab-content">\n            <div class="layui-tab-item layui-show">\n              <div class="layui-form-item">\n                <label class="layui-form-label">应用名称</label>\n                <div class="layui-input-inline"><input type="text" name="appLabel" class="layui-input"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">内容设置</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="conMode" lay-filter="conMode" value="txt" title="文字" >\n                  <input type="radio" name="conMode" lay-filter="conMode" value="img" title="图片">\n                </div>\n              </div>\n              <div class="layui-form-item txt-box">\n                <label class="layui-form-label">文字内容</label>\n                <div class="layui-input-inline text-panel" style="width:343px;">\n                    <label class="label-con" style="letter-spacing:13px;">字体</label>\n                    <div class="labelpanel"   style="width: 90px; height: 36px;">\n                      <select class="font-select"   name="family" >\n                      </select>\n                    </div>\n                    <label class="label-con">文字颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="color"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">文字大小</label>\n                    <div class="labelpanel"   style="width: 90px; ">\n                      <input type="text" name="fSize" class="layui-input">\n                    </div>\n                    <label class="label-con">背景颜色</label>\n                    <div class="pagecolorpanel"  >\n                        <div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color:transparent;"></div></div></div>\n                        <input class="pagecolor" name="bgColor"  type="text"  />\n                        <span class="clear-color-button"></span>\n                    </div>\n                    <label class="label-con">行  高</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="lHeight" class="layui-input">\n                    </div>\n                    <label class="label-con">字  距</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="spacing" class="layui-input">\n                    </div>\n                    <label class="label-con">缩  进</label>\n                    <div class="labelpanel"   style="width: 65px; ">\n                      <input type="text" name="indent" class="layui-input">\n                    </div>\n                    <div class="font-setting font-z">\n                      <span  title="加粗" class="font-item-checkbox" data-val="" ><icon>ꕅ</icon><input name="weight" type="hidden"   value="" /></span>\n                      <span  title="斜体" class="font-item-checkbox" data-val="" ><icon>ꕆ</icon><input name="fStyle" type="hidden"   value="" /></span>\n                      <span  title="上划线" class="font-item-checkbox" data-val="" ><icon>ꔣ</icon><input name="oLine" type="hidden"   value="" /></span>\n                      <span  title="中划线" class="font-item-checkbox" data-val=""><icon>ꕇ</icon><input name="through" type="hidden"   value="" /></span>\n                      <span  title="下划线" class="font-item-checkbox" data-val="" ><icon>ꕈ</icon><input name="uLine" type="hidden"   value="" /></span>\n                      <i class="spaceline"></i>\n                      <span  title="文字左对齐" class="font-item-radio" data-val="left" ><icon>ꕉ</icon></span>\n                      <span  title="文字居中对齐" class="font-item-radio"  data-val="center" ><icon>ꕐ</icon></span>\n                      <span  title="文字右对齐" class="font-item-radio"  data-val="right" ><icon>ꕑ</icon></span>\n                    </div>\n                    <textarea   name="content"  ></textarea>\n                </div>\n              </div>\n              <div class="layui-form-item img-box">\n                <label class="layui-form-label">图片地址</label>\n                <div class="layui-input-inline">\n                  <input name="bgImg" type="text" class="layui-input">\n                </div>\n              </div>\n              <div class="layui-form-item ">\n                <label class="layui-form-label">链接地址</label>\n                <div class="layui-input-inline"><input type="text" name="href" class="layui-input"></div>\n                <div><input name="hrefMode" value="_blank" type="checkbox" lay-skin="primary" title="新窗口打开"></div>\n              </div>\n\n\n\n            </div>\n            <div class="layui-tab-item">\n              <div class="layui-form-item">\n                <label class="layui-form-label">滚动方式</label>\n                <div class="layui-input-inline">\n                  <select   name="behavior" >\n                    <option value="scroll" selected="selected">循环滚动</option>\n                    <option value="slide">单次滚动</option>\n                    <option value="alternate">来回滚动</option>\n                 </select>\n                </div>\n              </div>\n\n              <div class="layui-form-item">\n                <label class="layui-form-label">滚动方向</label>\n                <div class="layui-input-inline">\n                  <select   name="dirt" >\n                    <option value="left" selected="selected">从右至左</option>\n                    <option value="right">从左至右</option>\n                    <option value="down">从上至下</option>\n                    <option value="up">从下至上</option>\n                 </select>\n                </div>\n              </div>\n              <div class="layui-form-item ">\n                <label class="layui-form-label">滚动速度</label>\n                <div class="layui-input-inline"><input type="text" name="amount" class="layui-input"></div>\n              </div>\n              <div class="layui-form-item">\n                <label class="layui-form-label">起始位置</label>\n                <div class="layui-input-inline">\n                  <input type="radio" name="dirtPos" lay-filter="dirtPos" value="left" title="左侧" >\n                  <input type="radio" name="dirtPos" lay-filter="dirtPos" value="right" title="右侧">\n                </div>\n              </div>\n\n\n            </div>\n\n\n          </div>\n        </div>\n        <div class="layui-form-item">\n          <div class="layui-ft-btn">\n            <button class="layui-btn" lay-submit lay-filter="marqueeComponentForm">确定</button>\n            <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n          </div>\n        </div>\n      </form>'}),n=layui.form;n.render(),n.on("radio(conMode)",function(t){console.log(t),d.conModeChanged(a,t.value)}),n.on("submit(marqueeComponentForm)",function(n){return t.formData=n.field,t.formData.align=a.find(".font-z .font-item-radio.active").data("val"),t.formData.malign=a.find(".font-f .font-item-radio.active").data("val"),t.update(t.formData),t.updatePropPanel(),e.close(i),!1}),n.val("marqueeComponentForm",t.formData)},m.prototype.doUpdate=function(t){var e=this,a=this.formData.amount;this.formData.dirt,this.$content.attr("scrollamount",a),this.$content.attr("scrolldelay",this.formData.delay),this.$content.attr("behavior",this.formData.behavior),this.$content.attr("direction",this.formData.dirt);var i=this.formData.conMode,n=e.$contentBox.find(".sc-text"),o=e.$contentBox.find(".sc-img");if("txt"===i){var s=this.formData.uLine;this.formData.oLine&&(s+=" "+this.formData.oLine),this.formData.through&&(s+=" "+this.formData.through),""===s&&(s="none"),n.length<=0&&(e.$content.append("<div class='sc-text sc-box'></div>"),n=e.$contentBox.find(".sc-text")),n.css("background-color",this.formData.bgColor),n.css("font-family",this.formData.family),n.css("color",this.formData.color),n.css("font-size",parseInt(this.formData.fSize)),n.css("line-height",this.formData.lHeight+"px"),n.css("letter-spacing",parseInt(this.formData.spacing)),n.css("text-indent",parseInt(this.formData.indent)),n.css("display","inline-block"),n.css("text-align",this.formData.align),n.css("font-weight",this.formData.weight),n.css("font-style",this.formData.fStyle),n.css("text-decoration",s),n.text(t.content),o.remove()}else"img"===i&&(n.remove(),o.length<=0&&e.$content.append('<div class="sc-img sc-box"  ><img src="'+this.formData.bgImg+'"  style="display: block;"/></div>'),(o=e.$contentBox.find(".sc-img img")).attr("src",this.formData.bgImg));var l=e.$contentBox.find(".sc-box");e.formData.scrlw=l.width(),e.formData.scrlh=l.height()},m.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!l.compareForm(e,this.formData)){var i=new p.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},m.prototype.updatePropPanel=function(){var t=this,e=this.$propPanel;e.find("select[name=dirt]").val(this.formData.dirt),e.find("select[name=behavior]").val(this.formData.behavior),e.find("input[type=text][name=amount]").val(this.formData.amount),e.find("input[type=text][name=delay]").val(this.formData.delay),e.find("input[type=text][name=scjl]").val(this.formData.scjl),e.find("input[type=radio][name=conMode]").filter('[value="'+this.formData.conMode+'"]').prop("checked",!0),d.conModeChanged(e,this.formData.conMode),e.find("input[type=text][name=bgImg]").val(this.formData.bgImg),e.find("select[name=family]").val(this.formData.family);var a=e.find("input[type=text][name=color]");a.val(this.formData.color),e.find("input[type=text][name=fSize]").val(this.formData.fSize);var i=e.find("input[type=text][name=bgColor]");i.val(this.formData.bgColor),e.find("input[type=text][name=lHeight]").val(this.formData.lHeight),e.find("input[type=text][name=spacing]").val(this.formData.spacing),e.find("input[type=text][name=indent]").val(this.formData.indent),e.find("textarea[name=content]").val(this.formData.content),e.find("input[type=text][name=href]").val(this.formData.href);var n=e.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?n.prop("checked",!0):n.prop("checked",!1),this.formData.color?a.prev().find(".sp-preview-inner").css("background-color",this.formData.color):a.prev().find(".sp-preview-inner").css("background-color",""),this.formData.bgColor?i.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):i.prev().find(".sp-preview-inner").css("background-color",""),e.find(".font-setting span").removeClass("active");var o=e.find(".font-z input[type=hidden][name=weight]");"600"==t.formData.weight?(o.val("600"),o.parent().addClass("active")):o.val("");var s=e.find(".font-z input[type=hidden][name=fStyle]");"italic"==t.formData.fStyle?(s.val("italic"),s.parent().addClass("active")):s.val("normal");var l=e.find(".font-z input[type=hidden][name=oLine]");"overline"==t.formData.oLine?(l.val("overline"),l.parent().addClass("active")):l.val("");var r=e.find(".font-z input[type=hidden][name=through]");"line-through"==t.formData.through?(r.val("line-through"),r.parent().addClass("active")):r.val("");var p=e.find(".font-z input[type=hidden][name=uLine]");"underline"==t.formData.uLine?(p.val("underline"),p.parent().addClass("active")):p.val(""),e.find('.font-z .font-item-radio[data-val="'+t.formData.align+'"]').addClass("active")},m);function m(){var t=o.call(this,"marquee-component",{isEditPopup:!1})||this;return t.$contentBox.append('\n    <marquee style="width:100%;height:100%;overflow:hidden;" scrollamount="4" scrolldelay="0" direction="right" behavior="slide"></marquee>\n      '),t.$content=t.$contentBox.find("marquee"),t.initFormData(),t}e.default=c},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(16),a(17),a(18),a(19),a(20);var i=a(21),n=a(29),o=a(30),s=a(31);$(function(){var t=new i.default;t.createStage(),new n.default(t),new s.default(t),new o.default(t)})},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e){Array.prototype.remove=function(t){var e=this.indexOf(t);-1<e&&this.splice(e,1)}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(22),n=(o.prototype.createStage=function(){var t=new i.default;t.create(this.$el),this.curStage=t,this.stages.push(t)},o.prototype.setupHotkey=function(){var t=this,e=["up","down","left","right","del","ctrl+c","ctrl+v","ctrl+z","ctrl+y","ctrl+a"];hotkeys(e.join(","),function(a,i){var n=t.curStage;switch(a.preventDefault(),console.log(i.key),i.key){case e[0]:n.move1PX("up");break;case e[1]:n.move1PX("down");break;case e[2]:n.move1PX("left");break;case e[3]:n.move1PX("right");break;case e[4]:n&&n.selectedComponents[0]&&n.selectedComponents[0].deleteSelf();case e[5]:console.log("copy");break;case e[6]:console.log("paste");break;case e[7]:case e[8]:case e[9]:}})},o);function o(){this.stages=[],this.curStage=null;var t=$(".stage-ct");this.stages=[],this.$el=t,this.setupHotkey()}e.default=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=a(23),o=a(24),s=a(8),l=a(9),r=a(10),d=a(11),p=a(12),c=a(13),m=a(14),u=a(2),f=a(28),h=(v.prototype.create=function(t){var e,a,o,s,l=this,r=this.pageWidth,d=this.pageHeight,p=$('<div class="stage"></div>');t.append(p),e=$('\n      <div class="canvas-wrap">\n        <div>\n          <div class="canvas-box">\n            <div class="canvas">\n            </div>\n          </div>\n        </div>\n      </div>\n    '),this.paddingWidth=100*Math.ceil(p.width()/100),this.paddingHeight=100*Math.ceil(p.height()/100),this.isRuler?((s=new n.default).create(p),p.append(e)):(p.append(e),e.css("left",0),e.css("top",0)),a=e.find("> div"),o=e.find(".canvas"),this.$canvas=o,this.$canvasBox=e.find(".canvas-box"),this.$canvasWrap=e,this.$el=p,this.ruler=s,this.$scrollContent=a,this.createIScroll(),this.layoutCanvas(r,d);var c=s.$rulerX[0],m=s.$rulerY[0],u=this.EVENTS;c.addEventListener(u[0],function(t){var e=$('<div class="guide-line guide-lineX"><div></div></div>');l.$el.append(e);var a=new i.default(e[0],{snapAnchor:e[0].children[0],minLeft:20,axis:"y",cursor:"row-resize",resizable:!1});e.css("top",t.clientY-l.$el[0].getBoundingClientRect().top-e[0].children[0].offsetTop+"px"),a.start(t),a.onStop=function(t){a.el.offsetTop<=15&&$(a.el).remove()}}),m.addEventListener(u[0],function(t){var e=$('<div class="guide-line guide-lineY"><div></div></div>');l.$el.append(e);var a=new i.default(e[0],{snapAnchor:e[0].children[0],minTop:20,axis:"x",cursor:"col-resize",resizable:!1});e.css("left",t.clientX-l.$el[0].getBoundingClientRect().left-e[0].children[0].offsetLeft+"px"),a.start(t),a.onStop=function(t){a.el.offsetLeft<=15&&$(a.el).remove()}}),this.selector=a.selectable({disabled:!0,distance:1,filter:".draggable",selected:function(t,e){l.selectComponentByElem(e.selected)}}),this.setupEvent(),this.createComponentToolbar(),this.initPorpPanel(),this.checkStore(),this.autoStore()},v.prototype.selectComponentByElem=function(t){for(var e=0,a=this.components;e<a.length;e++){var i=a[e];i.$el[0]===t&&this.selectComponent(i,1)}},v.prototype.createIScroll=function(t,e,a){void 0===t&&(t=!0),void 0===e&&(e=0),void 0===a&&(a=0),this.myScroll=new IScroll(this.$canvasWrap[0],{scrollX:!0,freeScroll:!0,startX:e,startY:a,probeType:3,scrollbars:!0,mouseWheel:!0,HWCompositing:!1,interactiveScrollbars:!0,disableMouse:t,disablePointer:t,disableTouch:t});var i=this.ruler;this.myScroll.on("scroll",function(){i&&(i.setX(this.x),i.setY(this.y))})},v.prototype.layoutCanvas=function(t,e){var a,i,n,o,s,l;a=this.paddingWidth/2,i=this.paddingHeight/2,n=50*Math.ceil(t/50)+this.paddingWidth,o=50*Math.ceil(e/50)+this.paddingHeight,s=t<this.$canvasWrap.width()?n/2-this.$canvasWrap.width()/2:this.paddingWidth/2,l=e<this.$canvasWrap.height()?o/2-this.$canvasWrap.height()/2:this.paddingHeight/2,this.ruler.update(t,e,this.paddingWidth,this.paddingHeight),this.ruler&&(this.ruler.setX(-s),this.ruler.setY(-l)),this.$canvas.width(t),this.$canvas.height(e),this.$canvasBox.width(t),this.$canvasBox.height(e),this.$canvasBox.css("margin-left",a+"px"),this.$canvasBox.css("margin-top",i+"px"),this.$scrollContent.width(n),this.$scrollContent.height(o),this.myScroll.scrollTo(-s,-l),this.myScroll.refresh()},v.prototype.setCanvasSize=function(t,e){this.pageWidth=t,this.pageHeight=e,this.layoutCanvas(t,e)},v.prototype.setupEvent=function(){var t=this,e=this.EVENTS,a=this.$el[0],i=this.$canvas[0];a.addEventListener(e[1],function(e){var a=i.getBoundingClientRect(),n=t.getEventInfo(e),o=n.clientX-a.left,s=n.clientY-a.top;0<=o&&0<=s&&o<t.$canvas.width()&&s<t.$canvas.height()?(t.ruler.setCursorPos(o,s),t.ruler.showCursor()):t.ruler.hideCursor()}),i.addEventListener(e[1],function(e){if(t.curMouseEvent=e,t.focusComponent){var a=e.clientX-t.$canvas.offset().left,i=e.clientY-t.$canvas.offset().top,n=t.$componentTopBar.height(),o=t.focusComponent.left(),s=t.focusComponent.top(),l=t.focusComponent.width(),r=t.focusComponent.height();l<t.$componentBottomBar.width()&&(l=t.$componentBottomBar.width()),r<t.$componentBottomBar.height()&&(r=t.$componentBottomBar.height()),(a<o-n||o+l+n<a||i<s-n||s+r+n<i)&&t.hideComponentToolbar()}}),i.addEventListener(e[0],function(a){if(a.target===i&&(t.unselectComponent(),t.state===v.STATE[0])){var n=i.getBoundingClientRect(),s=t,l=t.getEventInfo(a),r=l.clientX,d=l.clientY,p=null;document.addEventListener(e[1],c),document.addEventListener(e[2],function t(a){p&&(p.width()<p.minWidth||p.height()<p.minHeight)&&s.removeComponent(p),document.removeEventListener(e[1],c),document.removeEventListener(e[2],t)})}function c(t){null===p&&(p=new o.default,s.addComponent(p),s.selectComponent(p));var e,a,i,l,c=(t=s.getEventInfo(t)).clientX,m=t.clientY;i=c<r?r-(e=c):c-(e=r),l=m<d?d-(a=m):m-(a=d),s.setElementPos(p.$el,e-n.left,a-n.top,i,l),s.setComponentToolbarPos(),p.resetPositionInfo()}})},v.prototype.setState=function(t){if((this.state=t)===v.STATE[1]?this.selector.selectable("option","disabled",!1):this.selector.selectable("option","disabled",!0),t===v.STATE[2]){this.$canvas.addClass("handle");var e=this.myScroll.x,a=this.myScroll.y;this.myScroll.destroy(),this.createIScroll(!1,e,a)}else this.$canvas.removeClass("handle"),e=this.myScroll.x,a=this.myScroll.y,this.myScroll.destroy(),this.createIScroll(!0,e,a)},v.prototype.unselectComponent=function(t){void 0===t&&(t=null);for(var e=0,a=this.selectedComponents;e<a.length;e++)a[e].unselect();this.selectedComponents=[]},v.prototype.selectComponent=function(t,e){void 0===e&&(e=0),0===e&&0<this.selectedComponents.length&&this.unselectComponent(this.selectedComponents[0]),t.select(),this.selectedComponents.push(t)},v.prototype.setElementPos=function(t,e,a,i,n){t.css("left",e+"px"),t.css("top",a+"px"),t.css("width",i+"px"),t.css("height",n+"px")},v.prototype.isTouch=function(){return"ontouchstart"in window},v.prototype.getEventInfo=function(t){return this.isTouch()?t.targetTouches[0]:t},v.prototype.removeComponent=function(t){t.remove(),this.components.remove(t)},v.prototype.addComponent=function(t){t.mount(this),this.components.push(t)},v.prototype.setComponentAllowOverstep=function(t){this.components.forEach(function(e){t?e.drag.option("containment",!1):e.drag.option("containment","parent")})},v.prototype.generateJsonCode=function(){var t=this;return this.props.width=this.pageWidth,this.props.height=this.pageHeight,this.props.app=[],this.components.forEach(function(e){t.props.app.push(e.getProps())}),JSON.stringify(this.props)},v.prototype.generateHtmlCode=function(){var t=[];this.components.forEach(function(e){t.push(e.toHtml())});var e=u.bgImage(this.props.bgImg,this.props.bgColor,this.props.repeat,this.props.position,this.props.attachment);return'<div class="rel" style="position: relative; overflow: hidden;width: '+this.pageWidth+"px; height: "+this.pageHeight+"px;background: "+e+';">\n      '+t.join("")+"\n    </div>"},v.prototype.checkStore=function(){var t=localStorage.getItem("data"),e=this;if(t){var a=layui.layer;a.confirm("检测到您之前有正在编辑的内容，是否继续上次的操作？",{btn:["确定","关闭"],icon:3,title:"提示"},function(i){a.close(i);var n=JSON.parse(t);e.loadProp(n)},function(){})}},v.prototype.autoStore=function(){var t=this;setInterval(function(){if(0<t.components.length){var e=t.generateJsonCode();localStorage.setItem("data",e)}},3e3)},v.prototype.moveBy=function(t,e,a){if(e){if("up"===t){var i=parseInt(e.$el.css("top"));i-=a,this.props.allowOverstep||i<0&&(i=0),e.$el.css("top",i)}else if("down"===t){var n=e.height(),o=parseInt(e.$el.css("top"));o+=a,this.props.allowOverstep||o+n>this.props.height&&(o=this.props.height-n),e.$el.css("top",o)}else if("left"===t){var s=parseInt(e.$el.css("left"));s-=a,this.props.allowOverstep||s<0&&(s=0),e.$el.css("left",s)}else if("right"===t){var l=e.width();s=parseInt(e.$el.css("left")),s+=a,this.props.allowOverstep||s+l>this.props.width&&(s=this.props.width-l),e.$el.css("left",s)}e.resetPositionInfo()}},v.prototype.move1PX=function(t){this.moveBy(t,this.selectedComponents[0],1)},v.prototype.getRandomStr=function(t){for(var e=[],a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];t--;)e.push(a[Math.floor(a.length*Math.random())]);return e.join("")},v.prototype.clear=function(){this.components.forEach(function(t){t.remove()}),this.components=[]},v.prototype.dragScroll=function(t,e){var a=this,i=this.$canvasWrap[0].getBoundingClientRect(),n=i.left,o=i.top,s=i.width,l=i.height,r=-this.paddingWidth/2,d=-(this.pageWidth+this.paddingWidth/2-this.$canvasWrap.width()),p=-this.paddingHeight/2,c=-(this.pageHeight+this.paddingHeight/2-this.$canvasWrap.height());t.clientX<n?this.dragScrollTimer=setInterval(function(){2===e.dragStatus?a.myScroll.x<r?(a.myScroll.scrollBy(2,0),a.ruler.setX(a.myScroll.x)):(a.myScroll.scrollTo(r,a.myScroll.y),clearInterval(a.dragScrollTimer)):clearInterval(a.dragScrollTimer)},10):t.clientX>n+s-10?this.dragScrollTimer=setInterval(function(){2===e.dragStatus?a.myScroll.x>d?(a.myScroll.scrollBy(-2,0),a.ruler.setX(a.myScroll.x)):(a.myScroll.scrollTo(d,a.myScroll.y),clearInterval(a.dragScrollTimer)):clearInterval(a.dragScrollTimer)},10):t.clientY<o?this.dragScrollTimer=setInterval(function(){2===e.dragStatus?a.myScroll.y<p?(a.myScroll.scrollBy(0,2),a.ruler.setY(a.myScroll.y)):(a.myScroll.scrollTo(a.myScroll.x,p),clearInterval(a.dragScrollTimer)):clearInterval(a.dragScrollTimer)},10):t.clientY>o+l-10&&(this.dragScrollTimer=setInterval(function(){2===e.dragStatus?a.myScroll.y>c?(a.myScroll.scrollBy(0,-2),a.ruler.setY(a.myScroll.y)):(a.myScroll.scrollTo(a.myScroll.x,c),clearInterval(a.dragScrollTimer)):clearInterval(a.dragScrollTimer)},10))},v.prototype.loadProp=function(t){this.props=t;var e=this.propPanel,a=e.$el,i=e.$inputWidth,n=e.$alignSelect,o=e.$inputHeight,s=e.$allowOverstep,l=e.$inputBg;i.val(t.width),o.val(t.height),l.val(t.bgImg),n.val(t.position),"transparent"===t.bgColor?(this.$canvasBox.addClass("bg-trans"),this.$canvas.css("background-color","transparent"),$("#inputBgColor").val("").change()):(this.$canvasBox.removeClass("bg-trans"),this.$canvas.css("background-color",t.bgColor),$("#inputBgColor").val(t.bgColor).change()),"hidden"===t.overflow?(s.removeClass("active"),this.setComponentAllowOverstep(!1)):"visible"===t.overflow&&(s.addClass("active"),this.setComponentAllowOverstep(!0)),"repeat"===t.repeat&&a.find(".page-check[data-val=repeat]").addClass("active"),t.attachment&&a.find(".page-check[data-val=fixed]").addClass("active"),this.setBackground(),this.setCanvasSize(t.width,t.height),this.loadApp(t.app)},v.prototype.loadApp=function(t){var e=this;this.clear(),t.forEach(function(t){var a=null;"xrq"===t.appType?a=new o.default:"xdtb"===t.appType?a=new s.default:"xtcl"===t.appType?a=new p.default:"xwzb"===t.appType?a=new l.default:"wangh"===t.appType?a=new r.default:"xvb"===t.appType?a=new d.default:"xzfm"===t.appType?a=new c.default:"xgdb"===t.appType&&(a=new m.default),a.formData=t.config,a.update(a.formData),a.setPosition(t.pos),e.addComponent(a)})},v.prototype.calcWidth=function(){for(var t=0,e=0,a=0,i=this.components;a<i.length;a++){var n=i[a],o=parseInt(n.$el.css("left")),s=n.width();e<o&&(t=(e=o)+s)}return t},v.prototype.calcHeight=function(){for(var t=0,e=0,a=0,i=this.components;a<i.length;a++){var n=i[a],o=parseInt(n.$el.css("top")),s=n.height();e<o&&(t=(e=o)+s)}return t},v.prototype.setBackground=function(){var t=this.props.attachment?this.props.attachment:"scroll",e=this.props.repeat?this.props.repeat:"no-repeat",a=this.props.position,i=this.props.bgImg,n=u.bgImage(i,this.props.bgColor,e,a,t);this.$canvas.css("background",n)},v.prototype.initPorpPanel=function(){var t=$(".page-config"),e=t.find(".input-width"),a=t.find(".input-height"),i=t.find(".input-bg"),n=t.find(".calc-width"),o=t.find(".calc-height"),s=t.find(".align-select"),l=t.find("#allowOverstep");this.propPanel={$el:t,$inputWidth:e,$inputHeight:a,$alignSelect:s,$inputBg:i,$allowOverstep:l},e.val(this.pageWidth),a.val(this.pageHeight);var r=this;$(document).spectrum({showPalette:!0,maxSelectionSize:18,showInitial:!0,preferredFormat:"hex",showButtons:!1,palette:[["#000","#444","#666","#999","#ccc","#eee"],["#f00","#f90","#ff0","#0f0","#0ff","#00f"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394"]],move:function(t,e){if("inputBgColor"===e.attr("id")&&r){if(t||(r.$canvasBox.addClass("bg-trans"),r.props.bgColor="transparent"),"object"==typeof t){var a=t.toHexString();r.$canvasBox.removeClass("bg-trans"),r.props.bgColor=a}r.setBackground()}}}).spectrum.freshSpan(),e.bind("input",function(){r.pageWidth=+$(this).val(),r.setCanvasSize(r.pageWidth,r.pageHeight)}),a.bind("input",function(){r.pageHeight=+$(this).val(),r.setCanvasSize(r.pageWidth,r.pageHeight)}),i.bind("input",function(){var t=$(this).val();r.props.bgImg=t,r.setBackground()}),s.change(function(){var t=$(this).val();r.props.position=t,r.setBackground()}),l.bind("click",function(){l.hasClass("active")?(l.removeClass("active"),r.props.overflow="hidden",r.setComponentAllowOverstep(!1)):(l.addClass("active"),r.props.overflow="visible",r.setComponentAllowOverstep(!0))}),r.setBackground(),t.find(".bgImg-box .page-check").bind("click",function(){var t=$(this),e=t.data("val");console.log(e),t.hasClass("active")?(t.removeClass("active"),"repeat"===e&&(r.props.repeat=""),"fixed"===e&&(r.props.attachment="")):(t.addClass("active"),"repeat"===e&&(r.props.repeat="repeat"),"fixed"===e&&(r.props.attachment="fixed")),r.setBackground()}),n.bind("click",function(){var t=r.calcWidth();e.val(t),r.pageWidth=t,r.setCanvasSize(r.pageWidth,r.pageHeight)}),o.bind("click",function(){var t=r.calcHeight();a.val(t),r.pageHeight=t,r.setCanvasSize(r.pageWidth,r.pageHeight)})},v.prototype.createComponentToolbar=function(){this.$componentTopBar=$(' <div class="top-bar">\n        <span class="setting" title="编辑"></span>\n        <span class="lock lock-pos" title="锁定位置"></span>\n        <span class="copy" title="复制"></span>\n        <span class="delete" title="删除"></span>\n      </div>'),this.$componentBottomBar=$(' <div class="bottom-bar">\n        <span>X:<input type="text" value="0"></span>\n        <span>Y:<input type="text" value="0"></span>\n        <span class="width-input">宽:<input type="text" value="0"></span>\n        <span class="height-input">高:<input type="text" value="0"></span>\n        <span class="confirm">确定</span>\n      </div>'),this.$canvas.append(this.$componentTopBar),this.$canvas.append(this.$componentBottomBar),this.$inputX=this.$componentBottomBar.find("span:nth-child(1) input"),this.$inputY=this.$componentBottomBar.find("span:nth-child(2) input"),this.$inputWidth=this.$componentBottomBar.find("span:nth-child(3) input"),this.$inputHeight=this.$componentBottomBar.find("span:nth-child(4) input");var t=this;this.$componentTopBar.find(".setting").on("mousedown",function(){t.focusComponent&&t.focusComponent.isEditPopup&&t.focusComponent.openEditDialog()}),this.$componentBottomBar.find(".confirm").on("mousedown",function(){var e=t.$inputX.val(),a=t.$inputY.val(),i=t.$inputWidth.val(),n=t.$inputHeight.val();t.focusComponent&&t.focusComponent.setPosition({w:i,h:n,l:e,t:a},!0),t.setComponentToolbarPos()}),this.$componentTopBar.find(".lock-pos").on("mousedown",function(){var e=$(this);t.focusComponent.isLockedPos?(t.focusComponent.isLockedPos=!1,e.removeClass("unlock"),e.addClass("lock"),e.attr("title","锁定位置"),t.focusComponent.drag.enable()):(t.focusComponent.isLockedPos=!0,e.removeClass("lock"),e.addClass("unlock"),e.attr("title","解除锁定"),t.focusComponent.drag.disable())}),this.$componentTopBar.find(".delete").on("mousedown",function(e){e.stopPropagation(),t.focusComponent.deleteSelf()}),this.$componentTopBar.find(".copy").on("click",function(e){t.focusComponent.clone()})},v.prototype.resetComponentPositionInfo=function(){if(this.focusComponent){var t=this.focusComponent.left(),e=this.focusComponent.top();this.$inputX.val(t),this.$inputY.val(e),this.$inputWidth.val(this.focusComponent.width()),this.$inputHeight.val(this.focusComponent.height())}},v.prototype.setComponentToolbarPos=function(){if(this.focusComponent){var t=this.focusComponent.top()-this.$componentTopBar.height(),e=this.focusComponent.top()+this.focusComponent.height(),a=this.focusComponent.left();this.$componentTopBar.css("top",t),this.$componentTopBar.css("left",a),this.$componentBottomBar.css("top",e),this.$componentBottomBar.css("left",a)}},v.prototype.showComponentToolbar=function(t){this.focusComponent||((this.focusComponent=t).isEditPopup?this.$componentTopBar.find(".setting").show():this.$componentTopBar.find(".setting").hide(),t.enableResize?this.$componentBottomBar.find(".width-input, .height-input").show():this.$componentBottomBar.find(".width-input, .height-input").hide(),this.$componentTopBar.show(),this.$componentBottomBar.show(),this.setComponentToolbarPos(),this.resetComponentPositionInfo())},v.prototype.hideComponentToolbar=function(){this.focusComponent&&(this.$componentTopBar.hide(),this.$componentBottomBar.hide(),this.focusComponent=null)},v.STATE=["hotarea","selection","handle"],v);function v(){this.EVENTS=[],this.isRuler=!0,this.drags=[],this.selectedComponents=[],this.components=[],this.$componentTopBar=null,this.$componentBottomBar=null,this.$inputX=null,this.$inputY=null,this.$inputWidth=null,this.$inputHeight=null,this.focusComponent=null,this.selector=null,this.pageWidth=1920,this.pageHeight=2561,this.state=v.STATE[0],this.propPanel={},this.actionManager=new f.default,this.props={bgColor:"#FFFFFF",position:"50% 0%",overflow:"hidden"},this.curMouseEvent=null,this.dragScrollTimer=null,this.EVENTS=this.isTouch()?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.id=this.getRandomStr(5)}e.default=h},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.prototype.create=function(t){var e=$('\n      <div class="ruler">\n        <div class="rulerX">\n          <div>\n            <div class="cursor-pos"><span>0</span></div>\n          </div>\n        </div>\n        <div class="rulerY">\n          <div>\n            <div class="cursor-pos"><span>0</span></div>\n          </div>\n        </div>\n      </div>\n    '),a=e.find(".rulerX > div"),i=e.find(".rulerY > div");this.$el=e,this.$rulerX=a,this.$rulerY=i,this.$cursorPosX=a.find(".cursor-pos"),this.$cursorPosY=i.find(".cursor-pos"),t.append(this.$el)},n.prototype.draw=function(){var t=this.canvasWidth,e=this.canvasHeight,a=this.paddingWidth,i=this.paddingHeight,n=50*Math.ceil(t/50)+a,o=50*Math.ceil(e/50)+i;this.paddingHeight=i,this.paddingWidth=a,this.width=n,this.height=o;for(var s=-a/2,l="",r=0;r<n/50;r++)l+="<span>"+Math.abs(s+50*r)+"</span>";var d=-i/2,p="";for(r=0;r<o/50;r++)p+="<span>"+Math.abs(d+50*r)+"</span>";this.$rulerX.append(l),this.$rulerX.width(n),this.$rulerY.append(p),this.$rulerY.height(o)},n.prototype.update=function(t,e,a,i){this.canvasWidth=t,this.canvasHeight=e,this.paddingWidth=a,this.paddingHeight=i,this.$rulerX.find("> span").remove(),this.$rulerY.find("> span").remove(),this.draw()},n.prototype.showCursor=function(){this.$cursorPosX.show(),this.$cursorPosY.show()},n.prototype.hideCursor=function(){this.$cursorPosX.hide(),this.$cursorPosY.hide()},n.prototype.setCursorPos=function(t,e){this.$cursorPosX.css("left",this.paddingWidth/2+t+"px"),this.$cursorPosY.css("top",this.paddingHeight/2+e+"px"),this.$cursorPosX.find("span").text(Math.ceil(t)),this.$cursorPosY.find("span").text(Math.ceil(e))},n.prototype.setX=function(t){this.$rulerX.css("left",t+"px")},n.prototype.setY=function(t){this.$rulerY.css("top",t+"px")},n);function n(){}e.default=i},function(t,e,a){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=a(1),l=a(2),r=a(0),d=a(3),p=(n(c,o=s.default),c.prototype.initFormData=function(){this.formData.appLabel="",this.formData.linkMode="urlink",this.formData.href="",this.formData.hrefMode="_blank",this.formData.wangID="",this.doUpdate(this.formData)},c.prototype.getProps=function(){var t=this.formData;return t.appID=this.stage.id+"-"+this.id,{appType:"xrq",config:t,pos:{w:this.width(),h:this.height(),l:parseInt(this.$el.css("left")),t:parseInt(this.$el.css("top"))}}},c.prototype.toHtml=function(){var t,e,a,i,n,o;return t=this.$el.css("top"),e=this.$el.css("left"),a=this.$el.width(),i=this.$el.height(),o=""!=r.valEmpty(this.formData.bgColor)?"background-color:"+this.formData.bgColor+";":"","<a "+(n=""!=(n=l.wwUrl(this.formData.href,this.formData.linkMode,this.formData.wangID,22))?' href="'+n+'"':"")+("_blank"===r.valEmpty(this.formData.hrefMode)?' target="_blank" ':"")+' class="abs"  style="top: '+t+"; left:"+e+"; width:"+a+"px; height:"+i+"px;display:inline-block;"+o+'"></a>'},c.prototype.updatePropPanel=function(){var t=this.$propPanel;t.find("input[type=radio][name=linkMode]").filter('[value="'+this.formData.linkMode+'"]').prop("checked",!0),t.find("input[type=text][name=href]").val(this.formData.href);var e=t.find("input[type=checkbox][name=hrefMode]");"_blank"===this.formData.hrefMode?e.prop("checked",!0):e.prop("checked",!1),l.onLinkModeChanged(t,this.formData.linkMode),t.find("input[type=text][name=wangID]").val(this.formData.wangID);var a=t.find("input[type=text][name=bgColor]");a.val(this.formData.bgColor),this.formData.bgColor?a.prev().find(".sp-preview-inner").css("background-color",this.formData.bgColor):a.prev().find(".sp-preview-inner").css("background-color","")},c.prototype.initPorpPanel=function(){var t=this;$(".prop-setting-ct > div").hide();var e=$(".area-com-prop-panel");(this.$propPanel=e).show(),e.find("*").off(),this.updatePropPanel(),e.find("input[type=radio][name=linkMode]").change(function(){var a=$(this).prop("value");t.formData.linkMode=a,l.onLinkModeChanged(e,t.formData.linkMode)}),e.find("input[type=text][name=href]").keyup(function(){var e=$(this).val();t.update({href:e})}),e.find("input[type=checkbox][name=hrefMode]").change(function(){var e=$(this).is(":checked");t.update({hrefMode:e?"_blank":""})}),e.find("input[type=text][name=wangID]").keyup(function(){var e=$(this).val();t.update({wangID:e})}),e.find("input[type=text][name=bgColor]").change(function(){var e=$(this).val();t.update({bgColor:e})})},c.prototype.doUpdate=function(t){""!=t.bgColor?this.$content.css("background-color",t.bgColor):this.$content.css("background-color","transparent")},c.prototype.update=function(t){var e=JSON.parse(JSON.stringify(this.formData));for(var a in t)e[a]=t[a];if(!r.compareForm(e,this.formData)){var i=new d.default(this);i.setOldFormData(this.formData),i.setNewFormData(e),this.stage.actionManager.execute(i)}},c.prototype.openEditDialog=function(){},c);function c(){var t=o.call(this,"hotarea-component")||this;return t.$contentBox.append('\n        <div class="hot-area-box"></div>\n      '),t.$content=t.$contentBox.find(".hot-area-box"),t.initFormData(),t}e.default=p},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.prototype.setOriginPos=function(t){this.originPos=t},n.prototype.setEndPos=function(t){this.endPos=t},n.prototype.do=function(){this.component&&this.endPos&&(this.component.$el.width(this.endPos.w),this.component.$el.height(this.endPos.h),this.component.$el.css("left",this.endPos.l+"px"),this.component.$el.css("top",this.endPos.t+"px"),this.component.stage.selectComponent(this.component))},n.prototype.undo=function(){this.component&&this.originPos&&(this.component.$el.width(this.originPos.w),this.component.$el.height(this.originPos.h),this.component.$el.css("left",this.originPos.l+"px"),this.component.$el.css("top",this.originPos.t+"px"),this.component.stage.selectComponent(this.component))},n);function n(t){this.originPos=null,this.endPos=null,this.component=null,this.component=t}e.default=i},function(t,e){t.exports="../assets/wang2.gif"},function(t,e){t.exports="../assets/wang1.gif"},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.prototype.execute=function(t){t.do(),this.undoStack.push(t),this.redoStack=[]},n.prototype.undo=function(){if(0!==this.undoStack.length){var t=this.undoStack.pop();t.undo(),this.redoStack.push(t)}},n.prototype.redo=function(){if(0!==this.redoStack.length){var t=this.redoStack.pop();t.do(),this.undoStack.push(t)}},n);function n(){this.redoStack=[],this.undoStack=[]}e.default=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),n=a(9),o=a(10),s=a(11),l=a(12),r=a(13),d=a(14);e.default=function(t){this.stageCt=t;var e=$(".component-bar");this.$el=e;var a=t.curStage;e.find("li").bind("mousedown",function(t){var e=$(this).data("name"),p=null,c=Math.abs(a.myScroll.x)-a.paddingWidth/2,m=Math.abs(a.myScroll.y)-a.paddingHeight/2;"img-component"===e?p=new i.default:"img-ant-component"===e?p=new l.default:"text-component"===e?p=new n.default:"wang-component"===e?p=new o.default:"video-component"===e?p=new s.default:"img-zf-component"===e?p=new r.default:"marquee-component"===e&&(p=new d.default),p.$el.css("left",Math.max(c,0)+"px"),p.$el.css("top",Math.max(m,0)+"px"),a.actionManager.execute({do:function(){a.addComponent(p),a.selectComponent(p)},undo:function(){a.removeComponent(p),a.unselectComponent(p),0<a.components.length&&a.selectComponent(a.components[a.components.length-1])}})})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.prototype.generateJsonCode=function(){this.stageCt.curStage},n.prototype.openImportDialog=function(){var t=this,e=layui.layer;e.open({type:1,title:"导入代码",skin:"layui-layer-rim",area:["600px","550px"],success:function(a,i){var n=$(a),o=n.find("#jsonTextArea");n.find(".confirm-btn").bind("click",function(){var a=o.val().toString(),n=JSON.parse(a);t.stageCt.curStage.loadProp(n),e.close(i)}),n.find(".cancel-btn").on("click",function(){e.close(i)})},content:'\n        <div class="codegen" style="padding: 10px 10px">\n          <div class="layui-tab">\n            <ul class="layui-tab-title" style="font-size: 12px">\n              <li style="font-size: 14px" class="layui-this">将代码放下面 如不会操作 请拨电话:189-0079-2453  或加扣扣 458243665</li>\n              <li style="font-size: 12px;display:none;">追加导入</li>\n            </ul>\n            <div class="layui-tab-content" style="padding: 0px;">\n              <div class="layui-tab-item layui-show">\n                <textarea id="jsonTextArea"style="float:left;width:100%;height:320px;border-top: 0px;   margin-top: 1px;" spellcheck="false"></textarea>\n              </div>\n              <div class="layui-tab-item">\n                <textarea id="htmlTextArea"style="float:left;width:100%;height:320px;" spellcheck="false"></textarea>\n              </div>\n            </div>\n          </div>\n          <div class="layui-form-item" style="margin-top:15px;">\n            <div class="layui-ft-btn" style="text-align:center;padding-top: 20px">\n              <button class="layui-btn confirm-btn">确定</button>\n              <button type="button" class="cancel-btn layui-btn layui-btn-primary">取消</button>\n            </div>\n          </div>\n        </div>'})},n.prototype.openExportDialog=function(){var t=this;layui.layer.open({type:1,title:"生成代码",skin:"layui-layer-rim",area:["600px","550px"],success:function(e,a){var i=$(e),n=i.find("#jsonTextArea"),o=i.find("#htmlTextArea"),s=t.stageCt.curStage.generateJsonCode(),l=JSON.parse(s);n.val(s),o.val(t.stageCt.curStage.generateHtmlCode()),i.find(".page-width").val(t.stageCt.curStage.pageWidth),i.find(".page-height").val(t.stageCt.curStage.pageHeight),i.find(".code-size").text((s.length/1024).toFixed(2));var r=null;"hidden"===l.overflow?(r=i.find(".cfgl-radio-hidden")).addClass("cfgl-radio-checked"):(r=i.find(".cfgl-radio-visible")).addClass("cfgl-radio-checked"),i.find(".cfgl-radio").bind("click",function(){var t=$(this);if(r!=t){r.removeClass("cfgl-radio-checked"),(r=t).addClass("cfgl-radio-checked");var e=r.data("k");l.overflow=e,n.val(JSON.stringify(l))}}),i.find(".copy-box button").bind("click",function(){n[0].select(),document.execCommand("copy")})},content:'\n        <div class="codegen" style="padding: 15px 10px">\n          <div class="codegen-head">\n            <ul>\n              <li>\n                <label><span style="margin-left:10px;">当前模块宽</span>&nbsp;</label>\n                <input class="page-width" style="width:40px;" type="text" spellcheck="false">\n                <label>&nbsp;&nbsp;高&nbsp;</label>\n                <input class="page-height" style="width:40px;" type="text" spellcheck="false">\n                <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当内容超出模块范围时：&nbsp;</label>\n                <div id="rm_o1">\n                  <input class="cfgl-rr" type="radio" id="m_o2" name="overflowMode" value="visible" spellcheck="false">\n                  <label class="cfgl-radio cfgl-radio-visible" for="m_o2" data-k="visible" style="border-right:none;border-radius:2px 0 0 2px;">显示</label>\n                  <input class="cfgl-rr" type="radio" id="m_o1" name="overflowMode" checked="checked" value="hidden" spellcheck="false">\n                  <label class="cfgl-radio cfgl-radio-hidden" for="m_o1" data-k="hidden" style="border-left:none;border-radius:0 2px 2px 0;">裁掉</label>\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div class="layui-tab">\n            <ul class="layui-tab-title" style="font-size: 12px;display: none;">\n              <li style="font-size: 14px;" class="layui-this">JSON代码 </li>\n              <li style="font-size: 12px;" style="">HTML代码</li>\n            </ul>\n            <div class="layui-tab-content">\n              <div class="layui-tab-item layui-show">\n                <textarea id="jsonTextArea"style=" width:100%;height:300px;" readonly spellcheck="false"></textarea>\n              </div>\n              <div class="layui-tab-item">\n                <textarea id="htmlTextArea"style="float:left;width:100%;height:300px;" readonly spellcheck="false"></textarea>\n              </div>\n            </div>\n          </div>\n          <div  style="color:red;margin-left: 10px;font-size:14px;">   如不会操作 请拨电话:189-0079-2453  或加扣扣 458243665</div>\n          <div class="code-size-box"><span>代码量:</span><span><span class="code-size">0</span>KB</span></div>\n          <div class="copy-box"><button type="button" class="layui-btn layui-btn-sm layui-btn-primary">复制代码</button></div>\n        </div>'})},n);function n(t){this.stageCt=t,this.$el=$(".header");var e=this;this.$el.find(".export-btn").bind("click",function(){e.openExportDialog()}),this.$el.find(".import-btn").bind("click",function(){e.openImportDialog()}),this.$el.find(".undo-btn").bind("click",function(){e.stageCt.curStage.actionManager.undo()}),this.$el.find(".redo-btn").bind("click",function(){e.stageCt.curStage.actionManager.redo()}),this.$el.find(".preview-btn").bind("click",function(){var t=window.open(""),a=window.location.href;t.document.write('<html><head><title></title><link rel="stylesheet" type="text/css" href="'+a+'css/common.css"></head><body>'),t.document.write(e.stageCt.curStage.generateHtmlCode()),t.document.write("</body></html>"),t.focus(),t.document.title="预览"})}e.default=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(32);e.default=function(t){this.stageCt=t;var e=$(".setting-bar"),a=e.find(".page-config"),n=(e.find(".assist-config"),e.find(".magnet-config"),a),o=$(".toolbar"),s=o.find(".group3.active"),l=o.find(".group1.active");this.$el=o;var r=this;o.find("li").on("click",function(t){var e=$(this),a=e.data("name");if("draggable"===a){i.default.draggable=!i.default.draggable;var o=e.find("icon");i.default.draggable?(o.text("ꑸ"),o.removeClass("color0"),o.addClass("color1")):(o.text("ꑹ"),o.removeClass("color1"),o.addClass("color0"))}else if("assist"===a||"magnet"===a||"page"===a){var d=$("."+a+"-config");n.is(d)||(n.hide(),(n=d).show(),s.removeClass("active"),e.addClass("active"),s=e)}else"hotarea"!==a&&"selection"!==a&&"handle"!==a||e!==l&&(l.removeClass("active"),e.addClass("active"),l=e,r.stageCt.curStage.setState(a))})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n.draggable=!0,n);function n(){}e.default=i}]);
//# sourceMappingURL=index.bundle.js.map