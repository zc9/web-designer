{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Component.ts","webpack:///./src/Draggable.ts","webpack:///./src/ImgComponent.ts","webpack:///./src/TextComponent.ts","webpack:///./src/WangComponent.ts","webpack:///./src/index.ts","webpack:///./src/common.js","webpack:///./src/StageContainer.ts","webpack:///./src/Stage.ts","webpack:///./src/Ruler.ts","webpack:///./src/HotAreaComponent.ts","webpack:///./src/assets/wang2.gif","webpack:///./src/assets/wang1.gif","webpack:///./src/ComponentBar.ts","webpack:///./src/Header.ts","webpack:///./src/ToolBar.ts","webpack:///./src/ToolConfig.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","width","this","drag","$el","offsetWidth","height","offsetHeight","setContent","content","$contentBox","append","remove","select","selected","addClass","resetPositionInfo","initPorpPanel","showToolbar","$topBar","show","$bottomBar","left","style","top","$inputX","val","parseInt","$inputY","$inputWidth","$inputHeight","setPosition","w","h","css","unselect","hide","removeClass","mount","stage","id","getRandomStr","$canvas","enableResize","resizable","classes","handles","minWidth","minHeight","handle","containment","snap","onDrag","onResize","on","event","selectComponent","find","stopPropagation","removeComponent","prop","k","props","formData","$","that","openEditDialog","dblclick","init","opt","document","querySelector","position","classArr","dragRef","className","split","push","join","option","axis","snapAnchor","snapLineColor","snapTolerance","resizeTolerance","cursor","snapLine","snapDist","minLeft","minTop","setupEvent","offsetParent","isTouch","window","cancelBubble","getEventInfo","targetTouches","checkResize","elem","x","y","rect","getBoundingClientRect","resizeFlags","right","bottom","darg","windowWidth","windowHeight","_this","EVENTS","diffX","diffY","elemWidth","elemHeight","parentWidth","parentHeight","eventInfo","move","clientX","clientY","doSnap","isDragging","offsetLeft","offsetTop","documentElement","clientWidth","clientHeight","addEventListener","end","removeEventListener","onStop","clearSnapLine","resize","startX","startY","originHeight","originWidth","getStyle","originTop","originLeft","isResizing","resizeN","resizeE","resizeS","resizeW","resizeFlag","start","preventDefault","onStart","disabled","el","styleProp","getComputedStyle","defaultView","getPropertyValue","currentStyle","getClientRect","elemRect","$parent","clientRect","leftBorderWidth","topBorderWidth","parentRect","isSnap","srcValue","destValue","Math","abs","Array","apply","querySelectorAll","forEach","item","removeChild","createDistText","flag","dragElemRect","snapElemRect","itemWidthHalf","itemHeightHalf","dragWidthHalf","dragHeightHalf","textBox","createElement","textAlign","text","distance","background","borderRadius","lineHeight","padding","fontSize","color","userSelect","appendChild","snapFlags","round","paddingBottom","innerText","marginTop","showSnapLine","snapLineSize","snapDrag","lineRect","line","lineWidth","zIndex","distText","dragElem","snapElems","slice","length","snapInfos","itemElem","snapInfo","dragValue","pos","onSnap","toHtml","img","bgImg","imgMode","$img","outerHTML","href","hrefMode","initFormData","bgColor","appLabel","linkMode","tipText","animType","bgImgSize","animSpeed","animRange","wangID","borderStyle","$content","attr","onLinkModeChanged","$layerElem","$wangBox","$linkBox","layer","layui","layerNo","open","type","title","skin","area","success","layerElem","index","close","form","render","data","console","log","field","update","updatePropPanel","borderColor","borderT","borderWidth","borderB","borderL","borderR","is","$propPanel","$bgImgSizeCheckBox","filter","$hrefModeCheckBox","$borderColorInput","prev","$borderTRadio","$borderTVal","$borderBRadio","$borderBVal","$borderLRadio","$borderLVal","$borderRRadio","$borderRVal","off","$bgImgInput","change","getProps","config","appID","fFamily","lineHg","spacing","indent","weight","fontStyle","oLine","lThrough","uLine","align","bgRep","bgPos","bRadius","hoverMode","ffFamily","ffontSize","fcolor","fbgColor","flineHg","fspacing","findent","fweight","ffontStyle","foLine","flThrough","fuLine","falign","fContent","fbgImg","fbgRep","fbgPos","antTsDur","antTsFun","antTrans","antTsDurB","antTsFunB","antBcolor","antBc","fcontent","$alignRadio","click","$defPanel","$offPanel","_antTransAttr","$_antTrans","before","after","$textPanel","$alPanel","_antBc","_antTsFunBV","_antTsDurBV","$ltPanel","$lbPanel","$llPanel","$lrPanel","$colorInput","$bgColorInput","$fcolorInput","$fbgColorInput","$borderTCheckBox","$borderBCheckBox","$borderLCheckBox","$borderRCheckBox","$antBcolorInput","wangMode","nickName","fontFamily","fontWeight","nickMl","bgImgMg","$cphoto","$spanName","lineImg","$wangImg","stageCt","createStage","indexOf","splice","curStage","stages","$stageCt","$canvasWrap","$scrollContent","ruler","canvasWidth","pageWidth","canvasHeight","pageHeight","paddingWidth","ceil","paddingHeight","isRuler","$canvasBox","createIScroll","layoutCanvas","$rulerX","$rulerY","$guideLine","children","selector","selectable","disableMouse","myScroll","IScroll","scrollX","freeScroll","probeType","scrollbars","mouseWheel","interactiveScrollbars","disablePointer","disableTouch","setX","setY","marginLeft","scrollContentWidth","scrollContentHeight","scrollTo","refresh","setCanvasSize","stageElem","canvasElem","canvasRect","setCursorPos","showCursor","hideCursor","target","unselectComponent","state","Stage","STATE","component","curSelectedComponent","addComponent","curStartX","curStartY","setElementPos","setState","destroy","$elem","components","setComponentAllowOverstep","allowOverstep","generateJsonCode","app","JSON","stringify","generateHtmlCode","appsHtml","len","charArr","chars","floor","random","clear","loadProp","propPanel","$alignSelect","$allowOverstep","overflow","repeat","attachment","loadApp","apps","appType","$inputBg","spectrum","showPalette","maxSelectionSize","showInitial","preferredFormat","showButtons","palette","$input","colorHex","toHexString","freshSpan","alignValue","hasClass","$this","drags","$ct","$cursorPosX","$cursorPosY","draw","rulerWidth","rulerHeight","initXValue","ruleXSpans","initYValue","ruleYSpans","$boxElem","initX","initY","max","openImportDialog","$jsonTextArea","jsonStr","toString","jsonObj","parse","openExportDialog","$htmlTextArea","previewWin","url","location","write","focus","$settingBar","$pageConfig","$curSetting","$curItem","$curItemOfGroup1","draggable","$icon","$setting","ToolConfig"],"mappings":"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","file":"js/index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","import Draggable from './Draggable';\r\nimport Stage from './Stage';\r\nexport default abstract class Component {\r\n  $contentBox: JQuery\r\n  $el: JQuery\r\n  $topBar: JQuery\r\n  $bottomBar: JQuery\r\n  minWidth: number\r\n  minHeight: number\r\n  $inputX: JQuery\r\n  $inputY: JQuery\r\n  $inputWidth: JQuery\r\n  $inputHeight: JQuery\r\n  $propPanel: JQuery\r\n  drag: Draggable\r\n  stage: Stage\r\n  props: any = {}\r\n  formData: any = {}\r\n  name: string\r\n  id: string\r\n  enableResize: boolean = true\r\n  selected: boolean = false\r\n  constructor(name = '', prop = {}) {\r\n    this.name = name;\r\n    for (let k in prop) {\r\n      this[k] = prop[k]\r\n    }\r\n    let $el = $(`\r\n      <div class=\"component-box\">\r\n        <div class=\"top-bar\">\r\n          <span class=\"setting\" title=\"编辑\"></span>\r\n          <span class=\"lock\"></span>\r\n          <span class=\"delete\"></span>\r\n        </div>\r\n        <div class=\"content-box\">\r\n        </div>\r\n        <div class=\"bottom-bar\">\r\n          <span>X:<input type=\"text\" value=\"0\"></span>\r\n          <span>Y:<input type=\"text\" value=\"0\"></span>\r\n          ${this.enableResize ? '<span>宽:<input type=\"text\" value=\"0\"></span><span>高:<input type=\"text\" value=\"0\"></span>' : ''}\r\n          <span class=\"confirm\">确定</span>\r\n        </div>\r\n      </div>\r\n    `);\r\n    this.$contentBox = $el.find('.content-box');\r\n    if (name) {\r\n      $el.addClass(name)\r\n    }\r\n    this.$el = $el;\r\n    this.$topBar = $el.find('.top-bar');\r\n    this.$bottomBar = $el.find('.bottom-bar');\r\n    this.minWidth = 24;\r\n    this.minHeight = 24;\r\n\r\n    this.$inputX = this.$bottomBar.find('span:nth-child(1) input');\r\n    this.$inputY = this.$bottomBar.find('span:nth-child(2) input');\r\n    this.$inputWidth = this.$bottomBar.find('span:nth-child(3) input');\r\n    this.$inputHeight = this.$bottomBar.find('span:nth-child(4) input');\r\n\r\n    let that = this;\r\n    this.$topBar.find('.setting').bind('click', function() {\r\n      that.openEditDialog();\r\n    })\r\n    this.$el.dblclick(function() {\r\n      that.openEditDialog();\r\n    })\r\n  }\r\n\r\n  width() {\r\n    return this.drag.$el.offsetWidth;\r\n  }\r\n\r\n  height() {\r\n    return this.drag.$el.offsetHeight;\r\n  }\r\n\r\n  setContent(content) {\r\n    this.$contentBox.append(content)\r\n  }\r\n\r\n  remove() {\r\n    this.$el.remove();\r\n  }\r\n\r\n  abstract getProps() : object;\r\n  abstract toHtml() : string;\r\n  abstract openEditDialog(): void\r\n  abstract update(formData: any): void\r\n  abstract initPorpPanel(): void\r\n  select() {\r\n    if (this.selected) {\r\n      return\r\n    }\r\n    this.$contentBox.addClass('selected');\r\n    this.selected = true\r\n    this.resetPositionInfo();\r\n    this.initPorpPanel()\r\n  }\r\n\r\n  showToolbar() {\r\n    this.$topBar.show();\r\n    this.$bottomBar.show();\r\n  }\r\n\r\n  resetPositionInfo() {\r\n    let left = this.drag.$el.style.left;\r\n    let top = this.drag.$el.style.top;\r\n    this.$inputX.val(parseInt(left ? left : 0));\r\n    this.$inputY.val(parseInt(top ? top : 0));\r\n    this.$inputWidth.val(this.width());\r\n    this.$inputHeight.val(this.height());\r\n  }\r\n\r\n  setPosition({ l, t, w, h }) {\r\n    this.$el.width(w)\r\n    this.$el.height(h)\r\n    this.$el.css('left', l + 'px')\r\n    this.$el.css('top', t + 'px')\r\n  }\r\n\r\n  unselect() {\r\n    this.$topBar.hide();\r\n    this.$bottomBar.hide();\r\n    this.$contentBox.removeClass('selected')\r\n    this.selected = false\r\n  }\r\n\r\n  mount(stage: Stage) {\r\n    this.stage = stage;\r\n    this.id = stage.getRandomStr(4)\r\n    let $canvas = stage.$canvas;\r\n    $canvas.append(this.$el)\r\n    if (this.enableResize) {\r\n      // @ts-ignore\r\n      this.$el.resizable({\r\n        // containment: $canvas[0],\r\n        classes: {\r\n          'ui-resizable-se': '',\r\n        },\r\n        handles: 'all',\r\n      })\r\n    }\r\n\r\n    let drag = new Draggable(this.$el[0], {\r\n      minWidth: this.minWidth,\r\n      minHeight: this.minHeight,\r\n      handle: this.$contentBox[0],\r\n      containment: $canvas[0],\r\n      resizable: false,\r\n      snap: true\r\n    })\r\n    this.drag = drag;\r\n    drag.onDrag = () => {\r\n      this.resetPositionInfo();\r\n    }\r\n    drag.onResize = () => {\r\n      this.resetPositionInfo();\r\n    }\r\n    this.$contentBox.on('mousedown',  (event) => {\r\n      stage.selectComponent(this);\r\n      this.showToolbar()\r\n    });\r\n\r\n    this.$topBar.find('.delete').on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n      stage.removeComponent(this)\r\n    })\r\n\r\n    this.$topBar.on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n    })\r\n    this.$bottomBar.on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n    })\r\n\r\n    // this.$el.on('mouseenter', (event) => {\r\n    //   if (this.selected) {\r\n    //     this.showToolbar()\r\n    //   }\r\n    // })\r\n\r\n    // this.$el.on('mouseleave', (event) => {\r\n    //   if (this.selected) {\r\n    //     this.$topBar.hide();\r\n    //     this.$bottomBar.hide();\r\n    //   }\r\n    // })\r\n  }\r\n\r\n\r\n}\r\n","export default class Draggable {\r\n  EVENTS: Array<string> = []\r\n  resizeFlags = [\r\n    'n-resize', 'e-resize', 's-resize', 'w-resize',\r\n    'ne-resize', 'nw-resize', 'se-resize', 'sw-resize'\r\n  ]\r\n  snapFlags = [\r\n    'top_tt', 'top_bt', 'top_cc','top_bb', 'top_tb',\r\n    'left_ll', 'left_rl', 'left_cc', 'left_rr', 'left_lr',\r\n    'top_tc', 'top_bc', 'left_lc', 'left_rc'\r\n  ]\r\n  resizeFlag: string\r\n  $el: any\r\n  isDragging: boolean = false\r\n  onStart: Function\r\n  onStop: Function\r\n  onResize: Function\r\n  onSnap: Function\r\n  onDrag: Function\r\n  isResizing: boolean = false\r\n  cursor: string = 'move'\r\n  containment: any = null\r\n  disabled: boolean = false\r\n  handle: any = null\r\n  snapTolerance: number = 10\r\n  snap: any = false\r\n  snapLineColor: string = '#FF4AFF'\r\n  snapLineSize: number = 1\r\n  snapAnchor: any = null\r\n  snapLine: boolean = true\r\n  snapDist: boolean = true\r\n  axis: any = false\r\n  minLeft: number = 0\r\n  minTop: number = 0\r\n  resizable: boolean = false\r\n  resizeTolerance: number = 5\r\n  minWidth: number = 24\r\n  minHeight: number = 24\r\n\r\n  constructor(el: any, opt = {}) {\r\n    this.$el = el\r\n    this.EVENTS = this.isTouch() ?\r\n      ['touchstart', 'touchmove', 'touchend'] : ['mousedown', 'mousemove', 'mouseup']\r\n    this.init(opt)\r\n  }\r\n\r\n  init(opt) {\r\n    if (typeof this.$el === 'string') {\r\n      this.$el = document.querySelector(this.$el)\r\n    }\r\n    this.$el.style.position = 'absolute'\r\n    this.$el.dragRef = this\r\n    let classArr = this.$el.className.split(' ');\r\n    classArr.push('draggable')\r\n    this.$el.className = classArr.join(' ')\r\n\r\n    this.option('containment', opt.containment)\r\n    this.option('handle', opt.handle)\r\n    this.option('snap', opt.snap)\r\n    this.option('axis', opt.axis)\r\n    this.option('snapAnchor', opt.snapAnchor)\r\n    this.option('snapLineColor', opt.snapLineColor)\r\n    this.option('snapTolerance', opt.snapTolerance)\r\n    this.option('resizeTolerance', opt.resizeTolerance)\r\n    this.option('cursor', opt.cursor)\r\n    this.option('snapLine', opt.snapLine)\r\n    this.option('snapDist', opt.snapDist)\r\n    this.option('resizable', opt.resizable)\r\n    this.option('minWidth', opt.minWidth)\r\n    this.option('minHeight', opt.minHeight)\r\n    this.option('minLeft', opt.minLeft)\r\n    this.option('minTop', opt.minTop)\r\n\r\n    this.setupEvent()\r\n  }\r\n\r\n  option(prop: string, val: any) {\r\n    if (prop === 'containment') {\r\n      if (typeof val !== 'undefined') {\r\n        if (val === 'parent') {\r\n          this.containment = this.$el.offsetParent\r\n        } else {\r\n          this.containment = val\r\n        }\r\n      }\r\n    } else if (prop === 'handle') {\r\n      if (typeof val === 'undefined') {\r\n        this.handle = this.$el\r\n      } else {\r\n        if (typeof val === 'string') {\r\n          this.handle = document.querySelector(val)\r\n        } else {\r\n          this.handle = val\r\n        }\r\n      }\r\n    } else {\r\n      if (typeof val !== 'undefined') {\r\n        this[prop] = val\r\n      }\r\n    }\r\n  }\r\n\r\n  isTouch() {\r\n    return 'ontouchstart' in window\r\n  }\r\n\r\n  stopPropagation(event) {\r\n    window.event? window.event.cancelBubble = true : event.stopPropagation()\r\n  }\r\n\r\n  getEventInfo(event) {\r\n    return this.isTouch() ? event.targetTouches[0] : event\r\n  }\r\n\r\n  checkResize(elem, x, y) {\r\n    let rect = elem.getBoundingClientRect()\r\n    let resizeTolerance = this.resizeTolerance\r\n    let resizeFlags = this.resizeFlags\r\n    if ((x >= rect.right - resizeTolerance && x <= rect.right) &&\r\n      (y >= rect.top && y <= rect.top + resizeTolerance)) {\r\n      return resizeFlags[4]\r\n    }\r\n    else if ((x >= rect.left && x <= rect.left + resizeTolerance) &&\r\n      (y >= rect.top && y <= rect.top + resizeTolerance)) {\r\n      return resizeFlags[5]\r\n    }\r\n    else if ((x >= rect.right - resizeTolerance && x <= rect.right) &&\r\n      (y >= rect.bottom - resizeTolerance && y <= rect.bottom)) {\r\n      return resizeFlags[6]\r\n    }\r\n    else if ((x >= rect.left && x <= rect.left + resizeTolerance) &&\r\n      (y >= rect.bottom - resizeTolerance && y <= rect.bottom)) {\r\n      return resizeFlags[7]\r\n    }\r\n    else if (y >= rect.top && y <= rect.top + resizeTolerance) {\r\n      return resizeFlags[0]\r\n    }\r\n    else if (x >= rect.right - resizeTolerance && x <= rect.right) {\r\n      return resizeFlags[1]\r\n    }\r\n    else if (y >= rect.bottom - resizeTolerance && y <= rect.bottom) {\r\n      return resizeFlags[2]\r\n    }\r\n    else if (x >= rect.left && x <= rect.left + resizeTolerance) {\r\n      return resizeFlags[3]\r\n    }\r\n    return null\r\n  }\r\n\r\n  darg(event) {\r\n    let _this = this\r\n    const EVENTS = this.EVENTS\r\n    let diffX = 0, diffY = 0\r\n    let elemWidth = 0, elemHeight = 0\r\n    let windowWidth = 0, windowHeight = 0, parentWidth = 0, parentHeight = 0\r\n    let eventInfo = _this.getEventInfo(event)\r\n    _this.isDragging = true\r\n    diffX = eventInfo.clientX - _this.$el.offsetLeft\r\n    diffY = eventInfo.clientY - _this.$el.offsetTop\r\n    elemWidth = _this.$el.offsetWidth\r\n    elemHeight = _this.$el.offsetHeight\r\n    windowWidth = document.documentElement.clientWidth\r\n    windowHeight = document.documentElement.clientHeight\r\n    parentWidth = this.containment ? this.containment.clientWidth : windowWidth\r\n    parentHeight = this.containment ? this.containment.clientHeight : windowHeight\r\n    document.addEventListener(EVENTS[1], move)\r\n    document.addEventListener(EVENTS[2], end)\r\n    function move(event) {\r\n      let eventInfo = _this.getEventInfo(event)\r\n      let left = eventInfo.clientX - diffX\r\n      let top = eventInfo.clientY - diffY\r\n      let minLeft = _this.minLeft\r\n      let minTop = _this.minTop\r\n      if (_this.containment) {\r\n        if (left < minLeft) {\r\n          left = minLeft\r\n        }\r\n        if (top < minTop) {\r\n          top = minTop\r\n        }\r\n        if (left + elemWidth > parentWidth) {\r\n          left = parentWidth - elemWidth\r\n        }\r\n        if (top + elemHeight > parentHeight) {\r\n          top = parentHeight - elemHeight\r\n        }\r\n      }\r\n\r\n      if (_this.axis !== 'y') {\r\n        _this.$el.style.left = `${left}px`\r\n      }\r\n\r\n      if (_this.axis !== 'x') {\r\n        _this.$el.style.top = `${top}px`\r\n      }\r\n\r\n      if (_this.snap) {\r\n        _this.doSnap()\r\n      }\r\n      if (_this.onDrag) _this.onDrag(eventInfo)\r\n    }\r\n    function end(event) {\r\n      let eventInfo = _this.getEventInfo(event)\r\n      _this.isDragging = false\r\n      document.removeEventListener(EVENTS[1], move)\r\n      document.removeEventListener(EVENTS[2], end)\r\n      if (_this.onStop) _this.onStop(eventInfo)\r\n      _this.clearSnapLine()\r\n    }\r\n  }\r\n\r\n  resize(event) {\r\n    const EVENTS = this.EVENTS\r\n    let that = this\r\n    event = this.getEventInfo(event)\r\n    let startX = event.clientX\r\n    let startY = event.clientY\r\n    let height = this.$el.offsetHeight\r\n    let width = this.$el.offsetWidth\r\n    let originHeight = height, originWidth = width\r\n    let top = parseInt(this.getStyle(this.$el, 'top'))\r\n    let left = parseInt(this.getStyle(this.$el, 'left'))\r\n    let originTop = top\r\n    let originLeft = left\r\n    this.isResizing = true\r\n    let windowWidth = document.documentElement.clientWidth\r\n    let windowHeight = document.documentElement.clientHeight\r\n    let parentWidth = this.containment ? this.containment.clientWidth : windowWidth\r\n    let parentHeight = this.containment ? this.containment.clientHeight : windowHeight\r\n    let minWidth = this.minWidth\r\n    let minHeight = this.minHeight\r\n    function resizeN(event) {\r\n      let d = event.clientY - startY\r\n      height -= d\r\n      if (height < minHeight) {\r\n        height = minHeight\r\n      }\r\n      if (height > originTop + originHeight) {\r\n        height = originTop + originHeight\r\n      }\r\n      top += d\r\n      if (top < 0) {\r\n        top = 0\r\n      }\r\n      if(top > originTop + (originHeight - minHeight)) {\r\n        top = originTop + (originHeight - minHeight)\r\n      }\r\n      that.$el.style.top = top + 'px'\r\n      that.$el.style.height = height + 'px'\r\n    }\r\n\r\n    function resizeE(event) {\r\n      width += event.clientX - startX\r\n      if (width < minWidth) {\r\n        width = minWidth\r\n      }\r\n      if (width > parentWidth - originLeft) {\r\n        width = parentWidth - originLeft\r\n      }\r\n      that.$el.style.width = width + 'px'\r\n    }\r\n    function resizeS(event) {\r\n      height += event.clientY - startY\r\n      if (height < minHeight) {\r\n        height = minHeight\r\n      }\r\n      if (height > parentHeight - originTop) {\r\n        height = parentHeight - originTop\r\n      }\r\n      that.$el.style.height = height + 'px'\r\n    }\r\n    function resizeW(event) {\r\n      width -= event.clientX - startX\r\n      if (width < minWidth) {\r\n        width = minWidth\r\n      }\r\n      if (width > originLeft + originWidth) {\r\n        width = originLeft + originWidth\r\n      }\r\n      left += event.clientX - startX\r\n      if (left < 0) {\r\n        left = 0\r\n      }\r\n      if(left > originLeft + (originWidth - minWidth)) {\r\n        left = originLeft + (originWidth - minWidth)\r\n      }\r\n      that.$el.style.left = left + 'px'\r\n      that.$el.style.width = width + 'px'\r\n    }\r\n\r\n    function move(event) {\r\n      event = that.getEventInfo(event)\r\n      if (that.resizeFlag === that.resizeFlags[0]) {\r\n        resizeN(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[1]) {\r\n        resizeE(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[2]) {\r\n        resizeS(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[3]) {\r\n        resizeW(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[4]) {\r\n        resizeN(event)\r\n        resizeE(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[5]) {\r\n        resizeN(event)\r\n        resizeW(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[6]) {\r\n        resizeS(event)\r\n        resizeE(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[7]) {\r\n        resizeS(event)\r\n        resizeW(event)\r\n      }\r\n      startY = event.clientY\r\n      startX = event.clientX\r\n      if (that.onResize) {\r\n        that.onResize()\r\n      }\r\n    }\r\n    function end(event) {\r\n      that.isResizing = false\r\n      document.removeEventListener(EVENTS[1], move)\r\n      document.removeEventListener(EVENTS[2], end)\r\n    }\r\n\r\n    document.addEventListener(EVENTS[1], move)\r\n    document.addEventListener(EVENTS[2], end)\r\n  }\r\n\r\n  start(event) {\r\n    event.preventDefault()\r\n    this.stopPropagation(event)\r\n    if (this.onStart) this.onStart(event)\r\n    if (this.resizable && this.resizeFlag) {\r\n      this.resize(event)\r\n    } else {\r\n      this.darg(event)\r\n    }\r\n  }\r\n\r\n  setupEvent() {\r\n    let EVENTS = this.EVENTS\r\n    let _this = this\r\n    let handle = this.handle\r\n    if (this.resizable) {\r\n      handle.addEventListener(EVENTS[1], event => {\r\n        if (!this.isResizing) {\r\n          let eventInfo = _this.getEventInfo(event)\r\n          let resizeFlag = _this.checkResize(handle, eventInfo.clientX, eventInfo.clientY)\r\n          this.resizeFlag = resizeFlag\r\n          if (this.resizable && resizeFlag) {\r\n            handle.style.cursor = resizeFlag\r\n          } else {\r\n            handle.style.cursor = this.cursor\r\n          }\r\n        }\r\n      })\r\n    }\r\n    if (!this.disabled) {\r\n      handle.style.cursor = this.cursor\r\n      handle.addEventListener(EVENTS[0], this.start.bind(this))\r\n    }\r\n  }\r\n\r\n  getStyle(el, styleProp) {\r\n    if(window.getComputedStyle) {\r\n      return document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp)\r\n    }\r\n    if (el.currentStyle) {\r\n      return el.currentStyle[styleProp]\r\n    }\r\n    return null\r\n  }\r\n\r\n  getClientRect(el) {\r\n    let elemRect = el.getBoundingClientRect()\r\n    let $parent = this.containment ? this.containment : this.$el.offsetParent\r\n    let clientRect: any = {}\r\n    let leftBorderWidth = parseInt(this.getStyle($parent, 'border-left-width'))\r\n    let topBorderWidth = parseInt(this.getStyle($parent, 'border-top-width'))\r\n    let parentRect: any = $parent.getBoundingClientRect();\r\n    clientRect.left = elemRect.left - parentRect.left - leftBorderWidth;\r\n    clientRect.top = elemRect.top - parentRect.top - topBorderWidth;\r\n    clientRect.right = clientRect.left + elemRect.width;\r\n    clientRect.bottom = clientRect.top + elemRect.height;\r\n    clientRect.width = elemRect.width;\r\n    clientRect.height = elemRect.height;\r\n    return clientRect\r\n  }\r\n\r\n  isSnap(srcValue, destValue) {\r\n    let snapTolerance = this.snapTolerance\r\n    return Math.abs(srcValue - destValue) <= snapTolerance\r\n  }\r\n\r\n  clearSnapLine() {\r\n    let lines = Array.apply(null, document.querySelectorAll('.snap-line'))\r\n    lines.forEach(item => {\r\n      item.offsetParent.removeChild(item)\r\n    })\r\n  }\r\n\r\n\r\n  createDistText(flag, dragElemRect, snapElemRect) {\r\n    let { top, bottom, left, right, width, height } = snapElemRect\r\n    let itemWidthHalf = width / 2\r\n    let itemHeightHalf = height / 2\r\n    let dragWidthHalf = dragElemRect.width / 2\r\n    let dragHeightHalf = dragElemRect.height / 2\r\n\r\n    let textBox = document.createElement('div')\r\n    textBox.style.position = 'absolute'\r\n    // textBox.style.background = '#000000'\r\n    textBox.style.textAlign = 'center'\r\n\r\n    let text = document.createElement('span')\r\n    let distance = 0\r\n    let textHeight = 14\r\n    text.style.background = this.snapLineColor\r\n    text.style.borderRadius = '2px'\r\n    text.style.lineHeight = '14px'\r\n    text.style.padding = '0 2px'\r\n    text.style.fontSize = '10px'\r\n    text.style.color = '#ffffff'\r\n    text.style.userSelect='none'\r\n    textBox.appendChild(text)\r\n    let snapFlags = this.snapFlags\r\n    //'top_tt', 'top_bt','top_bb', 'top_tb',\r\n    if (flag === snapFlags[0] || flag === snapFlags[1] ||\r\n      flag === snapFlags[3] || flag === snapFlags[4]) {\r\n      textBox.style.bottom = '0px'\r\n      if (left < dragElemRect.left) {\r\n        distance = dragElemRect.left - right\r\n        textBox.style.left = width + 'px'\r\n      } else {\r\n        distance = left - dragElemRect.right\r\n        textBox.style.left = dragElemRect.width + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      textBox.style.width = distance + 'px'\r\n      textBox.style.paddingBottom = '2px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n    // 'top_cc' 'top_tc' 'top_bc'\r\n    else if (flag === snapFlags[2] || flag === snapFlags[10] || flag === snapFlags[11]) {\r\n      textBox.style.bottom = '0px'\r\n      if (left < dragElemRect.left) {\r\n        distance = dragElemRect.left - right\r\n        textBox.style.left = itemWidthHalf + 'px'\r\n      } else {\r\n        distance = left - dragElemRect.right\r\n        textBox.style.left = dragWidthHalf + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      textBox.style.paddingBottom = '2px'\r\n      textBox.style.width = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n\r\n    else if (flag === snapFlags[5] || flag === snapFlags[6] ||\r\n      flag === snapFlags[8] || flag === snapFlags[9]) {\r\n      textBox.style.left = '0px'\r\n      if (top < dragElemRect.top) {\r\n        distance = dragElemRect.top - bottom\r\n        textBox.style.top = height + 'px'\r\n      } else {\r\n        distance = top - dragElemRect.bottom\r\n        textBox.style.top = dragElemRect.height + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      text.style.position = 'absolute'\r\n      text.style.top = '50%'\r\n      text.style.marginTop = -(textHeight / 2) + 'px'\r\n      text.style.left = '2px'\r\n      textBox.style.height = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n    //'left_cc' 'left_lc' 'top_rc'\r\n    else if (flag === snapFlags[7] || flag === snapFlags[12] || flag === snapFlags[13]) {\r\n      textBox.style.left = '0px'\r\n      if (top < dragElemRect.top) {\r\n        distance = dragElemRect.top - bottom\r\n        textBox.style.top = itemHeightHalf + 'px'\r\n      } else {\r\n        distance = top - dragElemRect.bottom\r\n        textBox.style.top = dragHeightHalf + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      text.style.position = 'absolute'\r\n      text.style.top = '50%'\r\n      text.style.marginTop = -(textHeight / 2) + 'px'\r\n      text.style.left = '2px'\r\n      textBox.style.height = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n\r\n    return textBox\r\n\r\n  }\r\n\r\n  showSnapLine($parent, { flag, dragElemRect, snapElemRect, snapDrag }) {\r\n    let snapLineSize = this.snapLineSize\r\n    let snapLineColor = this.snapLineColor\r\n    let { top, bottom, left, right, width, height } = snapElemRect\r\n    let itemWidthHalf = width / 2\r\n    let itemHeightHalf = height / 2\r\n    let dragWidthHalf = dragElemRect.width / 2\r\n    let dragHeightHalf = dragElemRect.height / 2\r\n    let lineRect: any = {}\r\n\r\n    let snapFlags = this.snapFlags\r\n    if (flag === snapFlags[0] || flag === snapFlags[1]) {\r\n      lineRect.left = left < dragElemRect.left ? left : dragElemRect.left\r\n      lineRect.top = top\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n\r\n    } else if (flag === snapFlags[2]) {\r\n      lineRect.top = top + itemHeightHalf\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      if (left === dragElemRect.left && right === dragElemRect.right) {\r\n        lineRect.left = left\r\n        lineRect.right = right\r\n      } else if (left > dragElemRect.left && right < dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left\r\n        lineRect.right = dragElemRect.right\r\n      } else if (left < dragElemRect.left && right > dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right\r\n      } else {\r\n        lineRect.left = left < dragElemRect.left ? left + itemWidthHalf : dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right > dragElemRect.right ? right - itemWidthHalf : dragElemRect.right - dragWidthHalf\r\n      }\r\n\r\n    } else if (flag === snapFlags[3] || flag === snapFlags[4]) {\r\n      lineRect.left = left < dragElemRect.left ? left : dragElemRect.left\r\n      lineRect.top = bottom\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n    } else if (flag === snapFlags[5] || flag === snapFlags[6]) {\r\n      lineRect.left = left\r\n      lineRect.top = top < dragElemRect.top ? top : dragElemRect.top\r\n      lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    } else if (flag === snapFlags[7]) {\r\n      lineRect.left = left + itemWidthHalf\r\n      if (top === dragElemRect.top && bottom === dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = bottom\r\n      } else if (top > dragElemRect.top && bottom < dragElemRect.bottom) {\r\n        lineRect.top = dragElemRect.top\r\n        lineRect.bottom = dragElemRect.bottom\r\n      } else if (top < dragElemRect.top && bottom > dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = dragElemRect.top + dragHeightHalf\r\n      } else {\r\n        lineRect.top = top < dragElemRect.top ? top + itemHeightHalf : dragElemRect.top + dragHeightHalf\r\n        lineRect.bottom = bottom > dragElemRect.bottom ? bottom - itemHeightHalf : dragElemRect.bottom - dragHeightHalf\r\n      }\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    } else if (flag === snapFlags[8] || flag === snapFlags[9]) {\r\n      lineRect.left = right\r\n      lineRect.top = top < dragElemRect.top ? top : dragElemRect.top\r\n      lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    }\r\n\r\n    else if (flag === snapFlags[10] || flag === snapFlags[11]) {\r\n      lineRect.top = top + itemHeightHalf\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      if (left === dragElemRect.left && right === dragElemRect.right) {\r\n        lineRect.left = left\r\n        lineRect.right = right\r\n      } else if (left > dragElemRect.left && right < dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left\r\n        lineRect.right = dragElemRect.right\r\n      } else {\r\n        lineRect.left = left < dragElemRect.left ? left + itemWidthHalf : dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n      }\r\n    }\r\n\r\n    else if (flag === snapFlags[12] || flag === snapFlags[13]) {\r\n      lineRect.left = left + itemWidthHalf\r\n      if (top === dragElemRect.top && bottom === dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = bottom\r\n      } else if (top > dragElemRect.top && bottom < dragElemRect.bottom) {\r\n        lineRect.top = dragElemRect.top\r\n        lineRect.bottom = dragElemRect.bottom\r\n      } else {\r\n        lineRect.top = top < dragElemRect.top ? top + itemHeightHalf : dragElemRect.top + dragHeightHalf\r\n        lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      }\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    }\r\n\r\n    let line = document.createElement('div')\r\n    line.style.position = 'absolute'\r\n    line.style.top = `${lineRect.top}px`\r\n    line.style.left = `${lineRect.left}px`\r\n    let lineWidth = lineRect.right - lineRect.left\r\n    lineWidth = lineWidth === 1 ? lineWidth : lineWidth\r\n    let lineHeight = lineRect.bottom - lineRect.top\r\n    lineHeight = lineHeight === 1 ? lineHeight : lineHeight\r\n    line.style.width = `${lineWidth}px`\r\n    line.style.height = `${lineHeight}px`\r\n    line.style.background =  snapLineColor\r\n    line.style.zIndex = '9999999999999'\r\n    line.className = 'snap-line'\r\n    let distText = this.createDistText(flag, dragElemRect, snapElemRect)\r\n    if (this.snapDist && distText) {\r\n      line.appendChild(distText)\r\n    }\r\n    $parent.appendChild(line)\r\n  }\r\n  doSnap() {\r\n    let dragElem = this.$el\r\n    let snapElems = []\r\n    if (typeof this.snap === 'boolean') {\r\n      snapElems = [].slice.call(document.querySelectorAll('.draggable'))\r\n    }\r\n    else if (typeof this.snap === 'string') {\r\n      snapElems = [].slice.call(document.querySelectorAll(this.snap))\r\n    } else if (typeof this.snap === 'object' && this.snap.length) {\r\n      snapElems = this.snap\r\n    }\r\n\r\n    let dragElemRect = this.getClientRect(this.snapAnchor ? this.snapAnchor : dragElem)\r\n    let snapInfos = []\r\n    this.clearSnapLine()\r\n    let snapFlags = this.snapFlags\r\n    snapElems.forEach(item => {\r\n      if (item === dragElem) {\r\n        return\r\n      }\r\n      let itemElem = item//.$el\r\n      let snapElemRect: any = this.getClientRect(item.dragRef.snapAnchor ? item.dragRef.snapAnchor : itemElem)\r\n      let { top, height, bottom, left, width, right } = snapElemRect\r\n      let dragWidthHalf = dragElemRect.width / 2\r\n      let itemWidthHalf = width / 2\r\n      let dragHeightHalf = dragElemRect.height / 2\r\n      let itemHeightHalf = height / 2\r\n\r\n      // y c\r\n      if (this.isSnap(dragElemRect.top + dragHeightHalf, top + itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[2],\r\n          snapDrag: item,\r\n          dragValue: top + itemHeightHalf - dragHeightHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-top\r\n      else if (this.isSnap(dragElemRect.top, top)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[0],\r\n          dragValue: top,\r\n          snapDrag: item,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y b-top\r\n      else if (this.isSnap(dragElemRect.bottom, top)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[1],\r\n          snapDrag: item,\r\n          dragValue: top - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // y b-bottom\r\n      else if (this.isSnap(dragElemRect.bottom, bottom)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[3],\r\n          snapDrag: item,\r\n          dragValue: bottom - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-bottom\r\n      else if (this.isSnap(dragElemRect.top, bottom)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[4],\r\n          snapDrag: item,\r\n          dragValue: bottom,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-center\r\n      else if (this.isSnap(dragElemRect.top, top + itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[10],\r\n          snapDrag: item,\r\n          dragValue: top + itemHeightHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y b_center\r\n      else if (this.isSnap(dragElemRect.bottom, bottom - itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[11],\r\n          snapDrag: item,\r\n          dragValue: bottom - itemHeightHalf - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n\r\n      // x c\r\n      if (this.isSnap(dragElemRect.left + dragWidthHalf, left + itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[7],\r\n          snapDrag: item,\r\n          dragValue: left + itemWidthHalf - dragWidthHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // x l-left\r\n      else if (this.isSnap(dragElemRect.left, left)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[5],\r\n          snapDrag: item,\r\n          dragValue: left,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // x r-left\r\n      else if (this.isSnap(dragElemRect.right, left)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[6],\r\n          snapDrag: item,\r\n          dragValue: left - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // x r-right\r\n      else if (this.isSnap(dragElemRect.right, right)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[8],\r\n          snapDrag: item,\r\n          dragValue: right - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // x l-right\r\n      else if (this.isSnap(dragElemRect.left, right)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[9],\r\n          snapDrag: item,\r\n          dragValue: right,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y l-center\r\n      else if (this.isSnap(dragElemRect.left, left + itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[12],\r\n          snapDrag: item,\r\n          dragValue: left + itemWidthHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y r_center\r\n      else if (this.isSnap(dragElemRect.right, right - itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[13],\r\n          snapDrag: item,\r\n          dragValue: right - itemWidthHalf - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n    })\r\n    snapInfos.forEach(snapInfo => {\r\n      let flags = snapInfo.flag.split('_')\r\n      let pos = flags[0]\r\n      if (dragElem.dragRef.snapAnchor) {\r\n        let d = 0\r\n        if (pos === 'left') {\r\n          d = dragElem.dragRef.snapAnchor.offsetLeft\r\n        } else if (pos === 'top') {\r\n          d = dragElem.dragRef.snapAnchor.offsetTop\r\n        }\r\n        dragElem.style[pos] = `${snapInfo.dragValue - d}px`\r\n      } else {\r\n        dragElem.style[pos] = `${snapInfo.dragValue}px`\r\n      }\r\n      // || snapInfo.snapDrag.isShowDist\r\n      if (this.snapLine) {\r\n        this.showSnapLine(this.containment ? this.containment : dragElem.offsetParent, snapInfo)\r\n      }\r\n    })\r\n\r\n    if (this.onSnap && snapInfos.length > 0) {\r\n      this.onSnap(snapInfos)\r\n    }\r\n  }\r\n\r\n}\r\n","import Component from './Component';\r\nexport default class ImgComponent extends Component {\r\n  $content: JQuery\r\n  $img: JQuery\r\n  constructor() {\r\n    super('img-component')\r\n    this.$content = $('<a><img src=\"\" style=\"display:none\"></a>')\r\n    this.$img = this.$content.find('img')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    let img = ''\r\n    let background = `url(${this.formData.bgImg}) 50% 50% no-repeat;`\r\n    if (this.formData.imgMode === 'cut') {\r\n      background = `url(${this.formData.bgImg}) 50% 50% no-repeat;`\r\n    } else {\r\n      img = this.$img[0].outerHTML\r\n    }\r\n    return `\r\n      <a href=\"${this.formData.href}\" target=\"${this.formData.hrefMode || ''}\" style=\"position: absolute; top: ${top}; left: ${left}; width: ${width}px; height: ${height}px;background: ${background}\">\r\n        ${img}\r\n      </a>\r\n    `\r\n  }\r\n \r\n  initFormData() {\r\n    this.formData.bgImg = 'https://img.alicdn.com/imgextra/i2/280837244/TB2orubcrJmpuFjSZFwXXaE4VXa-280837244.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.appLabel = ''\r\n    this.formData.imgMode = 'cut'\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.href = ''\r\n    this.formData.tipText = ''\r\n    this.formData.animType = ''\r\n    this.formData.hrefMode = '_blank'\r\n    this.formData.bgImgSize = false\r\n    this.formData.animSpeed = '1s'\r\n    this.formData.animRange = '-s'\r\n    this.formData.wangID = ''\r\n    this.formData.borderRadius= ''\r\n    this.formData.borderStyle= 'solid'\r\n\r\n    this.$content.css('background-image', `url(${this.formData.bgImg})`)\r\n    this.$content.css('background-color', this.formData.bgColor)\r\n    this.$img.attr('src', this.formData.bgImg)\r\n  }\r\n\r\n  onLinkModeChanged($layerElem, linkMode) {\r\n    let $wangBox = $layerElem.find('.wang-box')\r\n    let $linkBox = $layerElem.find('.link-box')\r\n    if (linkMode === 'urlink') {\r\n      $wangBox.hide()\r\n      $linkBox.show()\r\n    } else if (linkMode === 'wwlink') {\r\n      $linkBox.hide()\r\n      $wangBox.show()\r\n    }\r\n  }\r\n\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '单图设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        if (typeof that.formData.animType === 'undefined') {\r\n          that.formData.animType = ''\r\n        }\r\n        $layerElem.find(`.animselect > div[data-val=\"${that.formData.animType}\"]`).addClass('active')\r\n        $layerElem.find('.animselect > div').on('click', function() {\r\n          $layerElem.find('.animselect > div.active').removeClass('active')\r\n          $(this).addClass('active')\r\n        })\r\n\r\n        if (that.formData.bgColor) {\r\n          $layerElem.find('.sp-preview-inner').css('background-color', that.formData.bgColor)\r\n        }\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        that.onLinkModeChanged($layerElem, that.formData.linkMode)\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"text\" name=\"appLabel\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                   \r\n                </div>\r\n                <div><input name=\"bgImgSize\" value=\"true\" type=\"checkbox\" lay-skin=\"primary\" title=\"自动宽高\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片显示方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select name=\"imgMode\">\r\n                    <option value=\"cut\">保持原图尺寸</option>\r\n                    <option value=\"full\">自由拉伸</option>\r\n                    <option value=\"scaleX\">保持比例(只裁剪宽度)</option>\r\n                    <option value=\"scaleY\">保持比例(只裁剪高度)</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景颜色</label>\r\n                <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                  <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                  <input name=\"bgColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                  <span class=\"clear-color-button\"></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接类型</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"urlink\" title=\"普通\" checked=\"\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"wwlink\" title=\"旺旺\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item link-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"href\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item wang-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">旺旺ID</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"wangID\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"borderRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">提示文字</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"tipText\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n\r\n\r\n              <fieldset class=\"layui-elem-field\">\r\n                <legend>默认边框</legend>\r\n                <div class=\"layui-field-box\">\r\n                  <div class=\"layui-form-item\"  >\r\n                    <label class=\"layui-form-label\">边框显示</label>\r\n                    <div class=\"layui-input-block\">\r\n                      <input type=\"checkbox\" name=\"borderT\" value=\"true\" lay-skin=\"primary\" title=\"上边\"  >\r\n                      <input type=\"checkbox\" name=\"borderB\" value=\"true\" lay-skin=\"primary\" title=\"下边\">\r\n                      <input type=\"checkbox\" name=\"borderL\" value=\"true\" lay-skin=\"primary\" title=\"左边\" >\r\n                      <input type=\"checkbox\" name=\"borderR\" value=\"true\" lay-skin=\"primary\" title=\"右边\"  >\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-form-item\"  >\r\n                    <label class=\"layui-form-label\">边框粗细</label>\r\n                    <div class=\"layui-input-inline input-short\"><input name=\"borderWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                    <label class=\"layui-form-label\">边框颜色</label>\r\n                    <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                      <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                      <input name=\"borderColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                      <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">边框样式</label>\r\n                    <div class=\"layui-input-block\">\r\n                      <input type=\"radio\" name=\"borderStyle\" lay-filter=\"borderStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                      <input type=\"radio\" name=\"borderStyle\" lay-filter=\"borderStyle\" value=\"dotted\" title=\"细虚线\">\r\n                      <input type=\"radio\" name=\"borderStyle\" lay-filter=\"borderStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </fieldset>\r\n\r\n              <fieldset class=\"layui-elem-field\"    style=\"margin-top:15px;\">\r\n                <legend>\r\n                  <span  style=\"margin-right:15px;  display:inline-block\"> 鼠标_移上边框 </span>\r\n                  <button type=\"button\" class=\"layui-btn layui-btn-sm\">同步默认边框</button>\r\n                </legend>\r\n                <div class=\"layui-field-box\">\r\n                  <div class=\"layui-form-item\"  >\r\n                    <label class=\"layui-form-label\">边框显示</label>\r\n                    <div class=\"layui-input-block\">\r\n                      <input type=\"checkbox\" name=\"ddd\" lay-skin=\"primary\" title=\"上边\" >\r\n                      <input type=\"checkbox\" name=\"like1[read]\" lay-skin=\"primary\" title=\"下边\">\r\n                      <input type=\"checkbox\" name=\"like1[game]\" lay-skin=\"primary\" title=\"左边\" >\r\n                      <input type=\"checkbox\" name=\"like1[game]\" lay-skin=\"primary\" title=\"右边\"  >\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-form-item\"  >\r\n                    <label class=\"layui-form-label\">边框粗细</label>\r\n                    <div class=\"layui-input-inline input-short\"><input name=\"mbdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                    <label class=\"layui-form-label\">边框颜色</label>\r\n                    <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                      <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                      <input name=\"mbdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                      <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">边框样式</label>\r\n                    <div class=\"layui-input-block\">\r\n                      <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"1\" title=\"实线\" checked=\"\">\r\n                      <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"2\" title=\"细虚线\">\r\n                      <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"3\" title=\"粗虚线\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </fieldset>\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\"  >\r\n               阴影外框\r\n            </div>\r\n            <div class=\"layui-tab-item\"  >\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画效果</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <div class=\"animselect ui-buttonset\">\r\n                    <div class=\"none\" data-val=\"\"><i><em></em></i>无效果</div>\r\n                    <div class=\"shakex\" data-val=\"xins-x-shake\"><i><em></em></i>左右抖动</div>\r\n                    <div class=\"shakey\" data-val=\"xins-y-shake\"><i><em></em></i>上下抖动</div>\r\n                    <div class=\"shaker\" data-val=\"xins-r-shake\"><i><em></em></i>旋转摆动</div>\r\n                    <div class=\"shakes\" data-val=\"xins-s-shake\"><i><em></em></i>弹性缩放</div>\r\n                    <div class=\"shaken\" data-val=\"xins-n-shake\"><i><em></em></i>弹性果冻</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画幅度</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-s\" title=\"弱\" checked=\"\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-m\" title=\"中\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-l\" title=\"强\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片显示方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select name=\"animSpeed\">\r\n                    <option value=\"1s\" selected=\"\">1秒</option>\r\n                    <option value=\"2s\">2秒</option>\r\n                    <option value=\"3s\">3秒</option>\r\n                    <option value=\"4s\">4秒</option>\r\n                    <option value=\"5s\">5秒</option>\r\n                    <option value=\"6s\">6秒</option>\r\n                    <option value=\"7s\">7秒</option>\r\n                    <option value=\"8s\">8秒</option>\r\n                    <option value=\"9s\">9秒</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"imgComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n\r\n    form.on('radio(linkMode)', function(data){\r\n      console.log(data)\r\n      that.onLinkModeChanged($layerElem, data.value)\r\n    })\r\n\r\n    form.on('submit(imgComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n      that.formData.animType = $layerElem.find('.animselect > div.active').data('val')\r\n      console.log(that.formData)\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('imgComponentForm', that.formData)\r\n  }\r\n\r\n  update(formData) {\r\n    let that = this\r\n    that.$content.css('background-image', `url(${formData.bgImg})`)\r\n    that.$img.attr('src', formData.bgImg)\r\n    that.$content.css('background-color', formData.bgColor)\r\n    that.$content.css('border-radius', parseInt(formData.borderRadius))\r\n    that.$content.css('border-color', formData.borderColor)\r\n\r\n\r\n    if(formData.borderT===\"true\" && typeof(formData.borderWidth) !=\"undefined\"){\r\n      that.$content.css('border-top-style', formData.borderStyle)\r\n      that.$content.css('border-top-width', parseInt(formData.borderWidth))\r\n    }else{\r\n      that.$content.css('border-top-width',0)\r\n    }\r\n    if(formData.borderB===\"true\" && typeof(formData.borderWidth) !=\"undefined\"){\r\n      that.$content.css('border-bottom-style', formData.borderStyle)\r\n      that.$content.css('border-bottom-width', parseInt(formData.borderWidth))\r\n    }else{\r\n      that.$content.css('border-bottom-width',0)\r\n    }\r\n    if(formData.borderL===\"true\" && typeof(formData.borderWidth) !=\"undefined\"){\r\n      that.$content.css('border-left-style', formData.borderStyle)\r\n      that.$content.css('border-left-width', parseInt(formData.borderWidth))\r\n    }else{\r\n      that.$content.css('border-left-width',0)\r\n    }\r\n    if(formData.borderR===\"true\" && typeof(formData.borderWidth) !=\"undefined\"){\r\n      that.$content.css('border-right-style', formData.borderStyle)\r\n      that.$content.css('border-right-width', parseInt(formData.borderWidth))\r\n    }else{\r\n      that.$content.css('border-right-width',0)\r\n    }\r\n\r\n    that.$img.bind('load', function() {\r\n      if (formData.bgImgSize === 'true') {\r\n        that.$el.width(that.$img.width())\r\n        that.$el.height(that.$img.height())\r\n      }\r\n    })\r\n    let imgMode = formData.imgMode\r\n    if (imgMode === 'cut') {\r\n      if (that.$img.is(':visible')) {\r\n        that.$content.css('background-image', `url(${formData.bgImg})`)\r\n        that.$img.hide()\r\n      }\r\n    } else {\r\n      that.$content.css('background-image', '')\r\n      if (imgMode === 'full') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '100%')\r\n      } else if (imgMode === 'scaleX') {\r\n        that.$img.css('height', '100%')\r\n        that.$img.css('width', '')\r\n      } else if (imgMode === 'scaleY') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '')\r\n      }\r\n      that.$img.show()\r\n    }\r\n  }\r\n\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n    let $bgImgInput = $propPanel.find('#bgImgInput')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    if (this.formData.bgImgSize === 'true') {\r\n      $bgImgSizeCheckBox.prop('checked', true)\r\n    } else {\r\n      $bgImgSizeCheckBox.prop('checked', false)\r\n    }\r\n    let $imgModeSelect = $propPanel.find('#imgMode')\r\n    $imgModeSelect.val(this.formData.imgMode)\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    this.onLinkModeChanged($propPanel, this.formData.linkMode)\r\n\r\n    let $borderRadiusInput = $propPanel.find('input[type=text][name=borderRadius]')\r\n    $borderRadiusInput.val(this.formData.borderRadius)\r\n    let $borderColorInput = $propPanel.find('input[type=text][name=borderColor]')\r\n    $borderColorInput.val(this.formData.borderColor)\r\n    $borderColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.borderColor)\r\n    let $borderWidthInput = $propPanel.find('input[type=text][name=borderWidth]')\r\n    $borderWidthInput.val(this.formData.borderWidth)\r\n    let $borderStyleRadio = $propPanel.find('input[type=radio][name=borderStyle]')\r\n    $borderStyleRadio.filter(`[value=\"${this.formData.borderStyle}\"]`).prop('checked', true)\r\n\r\n    let $borderTRadio = $propPanel.find('input[type=checkbox][name=borderT]')\r\n    let $borderTVal=this.formData.borderT === 'true' ? true : false;\r\n        $borderTRadio.prop('checked', $borderTVal)\r\n    let $borderBRadio = $propPanel.find('input[type=checkbox][name=borderB]')\r\n    let $borderBVal=this.formData.borderB === 'true' ? true : false;\r\n        $borderBRadio.prop('checked', $borderBVal)\r\n    let $borderLRadio = $propPanel.find('input[type=checkbox][name=borderL]')\r\n    let $borderLVal=this.formData.borderL === 'true' ? true : false;\r\n        $borderLRadio.prop('checked', $borderLVal)\r\n    let $borderRRadio = $propPanel.find('input[type=checkbox][name=borderR]')\r\n    let $borderRVal=this.formData.borderR === 'true' ? true : false;\r\n        $borderRRadio.prop('checked', $borderRVal)\r\n\r\n  }\r\n\r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.img-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    this.updatePropPanel()\r\n\r\n    let $bgImgInput = $propPanel.find('#bgImgInput')\r\n    $bgImgInput.change((function() {\r\n      that.formData.bgImg = $bgImgInput.val()\r\n      that.update(that.formData)\r\n    }))\r\n\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    $bgImgSizeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bgImgSize = val ? 'true' : 'false'\r\n      that.update(that.formData)\r\n    });\r\n\r\n    let $imgMode = $propPanel.find('#imgMode')\r\n    $imgMode.change(function() {\r\n      that.formData.imgMode = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.linkMode = val\r\n      that.onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.href = val\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.hrefMode = val ? '_blank' : ''\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.wangID = val\r\n    })\r\n    let $borderRadiusInput = $propPanel.find('input[type=text][name=borderRadius]')\r\n    $borderRadiusInput.change(function() {\r\n      that.formData.borderRadius = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $borderWidthInput = $propPanel.find('input[type=text][name=borderWidth]')\r\n    $borderWidthInput.change(function() {\r\n      that.formData.borderWidth = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $borderColorInput = $propPanel.find('input[type=text][name=borderColor]')\r\n    $borderColorInput.change(function() {\r\n      that.formData.borderColor = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $borderStyleRadio = $propPanel.find('input[type=radio][name=borderStyle]')\r\n    $borderStyleRadio.change(function() {\r\n      that.formData.borderStyle = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $borderTCheckBox = $propPanel.find('input[type=checkbox][name=borderT]')\r\n    $borderTCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderT = val ? 'true' : 'false'\r\n      that.update(that.formData)\r\n    })\r\n    let $borderBCheckBox = $propPanel.find('input[type=checkbox][name=borderB]')\r\n    $borderBCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderB = val ? 'true' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $borderLCheckBox = $propPanel.find('input[type=checkbox][name=borderL]')\r\n    $borderLCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderL = val ? 'true' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $borderRCheckBox = $propPanel.find('input[type=checkbox][name=borderR]')\r\n    $borderRCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderR = val ? 'true' : ''\r\n      that.update(that.formData)\r\n    })\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xdtb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Component from './Component';\r\nexport default class TextComponent extends Component {\r\n　$content: JQuery\r\n  constructor() {\r\n    super('text-component')\r\n    let content = `\r\n      <a class=\"ant-text\"   antTrans=\"\"  antBc=\"\"><div class=\"on\">请设置文本内容</div></a>\r\n      `\r\n    this.$contentBox.append(content)\r\n    this.$content = this.$contentBox.find('.ant-text')\r\n    this.initFormData() \r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n\r\n    this.formData.fFamily = 'arial' //字体\r\n    this.formData.fontSize = 12\r\n    this.formData.color = '#fff'\r\n    this.formData.bgColor = '#000'\r\n    this.formData.lineHg =24  //行距\r\n    this.formData.spacing =''  //letterSpacing // 字  距\r\n    this.formData.indent =''  //textIndent 缩进\r\n    \r\n    this.formData.weight = 600 //加粗\r\n    this.formData.fontStyle = 'normal' //斜体\r\n    this.formData.oLine = '' //文字上边线 overline\r\n    this.formData.lThrough = '' //文字中间线 line-through  \r\n    this.formData.uLine = '' //文字下边线 underline \r\n    this.formData.align = 'center' //对齐\r\n    this.formData.content = '请设置文件内容' //反面内容\r\n\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'  //是否新窗口\r\n\r\n    this.formData.bgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.bgRep =''  //背景平铺方式\r\n    this.formData.bgPos ='' //背景对齐位置\r\n    this.formData.bRadius ='' //圆角\r\n\r\n    this.formData.hoverMode ='off' //鼠标移上开启 off 关  on  开\r\n \r\n\r\n    this.formData.ffFamily = 'arial' //字体\r\n    this.formData.ffontSize = 12\r\n    this.formData.fcolor = '#000'\r\n    this.formData.fbgColor = '#fff'\r\n    this.formData.flineHg =24  //行距\r\n    this.formData.fspacing =''  //letterSpacing // 字  距\r\n    this.formData.findent =''  //textIndent 缩进\r\n    \r\n    this.formData.fweight = 600 //加粗\r\n    this.formData.ffontStyle = 'normal' //斜体\r\n    this.formData.foLine = '' //文字上边线 overline\r\n    this.formData.flThrough = '' //文字中间线 line-through  \r\n    this.formData.fuLine = '' //文字下边线 underline \r\n    this.formData.falign = 'left' //对齐\r\n    this.formData.fContent = '' //反面内容\r\n\r\n    this.formData.fbgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.fbgRep =''  //背景平铺方式\r\n    this.formData.fbgPos ='' //背景对齐位置\r\n    this.formData.antTsDur ='0.4'   //动画时长                      \r\n    this.formData.antTsFun ='ease'  //速度曲线\r\n    this.formData.antTrans ='atrans5'  //动画效果\r\n\r\n    this.formData.borderT ='show'\r\n    this.formData.borderB ='show' \r\n    this.formData.borderL ='show' \r\n    this.formData.borderR ='show' \r\n\r\n    this.formData.borderWidth =5  \r\n    this.formData.borderColor ='#FFFF00'  \r\n    this.formData.borderStyle ='solid'  \r\n    this.formData.antTsDurB ='0.2'  \r\n    this.formData.antTsFunB ='ease-out'  \r\n    this.formData.antBcolor ='#00FFFF' \r\n    this.formData.antBc ='bdtx1'   \r\n\r\n \r\n    this.update(this.formData)\r\n    \r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xwzb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n  toHtml() {\r\n    return ''\r\n  }\r\n  initPorpPanel() { \r\n    console.log('initPorpPanel')\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.text-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    this.updatePropPanel();\r\n\r\n    let $fFamilySelect = $propPanel.find('select[name=fFamily]')\r\n    $fFamilySelect.change(function() {\r\n      that.formData.fFamily = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]') \r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.color = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]') \r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $fontSizeInput = $propPanel.find('input[type=text][name=fontSize]') \r\n    $fontSizeInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.fontSize = val\r\n      that.update(that.formData)\r\n    })\r\n    let $lineHgInput = $propPanel.find('input[type=text][name=lineHg]') \r\n    $lineHgInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.lineHg = val\r\n      that.update(that.formData)\r\n    })\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]') \r\n    $spacingInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.spacing = val\r\n      that.update(that.formData)\r\n    })\r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]') \r\n    $indentInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.indent = val\r\n      that.update(that.formData)\r\n    })\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]') \r\n    $contentTextarea.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.content = val\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.hrefMode = val ? '_blank' : ''\r\n    })\r\n\r\n    let $hoverModeRadio = $propPanel.find('input[type=radio][name=hoverMode]')\r\n    $hoverModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.hoverMode = val\r\n      that.update(that.formData)\r\n    })\r\n    let $ffFamilySelect = $propPanel.find('select[name=ffFamily]')\r\n    $ffFamilySelect.change(function() {\r\n      that.formData.ffFamily = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $fcolorInput = $propPanel.find('input[type=text][name=fcolor]') \r\n    $fcolorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.fcolor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $fbgColorInput = $propPanel.find('input[type=text][name=fbgColor]') \r\n    $fbgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.fbgColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $ffontSizeInput = $propPanel.find('input[type=text][name=ffontSize]') \r\n    $ffontSizeInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.ffontSize = val\r\n      that.update(that.formData)\r\n    })\r\n    let $flineHgInput = $propPanel.find('input[type=text][name=flineHg]') \r\n    $flineHgInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.flineHg = val\r\n      that.update(that.formData)\r\n    })\r\n    let $fspacingInput = $propPanel.find('input[type=text][name=fspacing]') \r\n    $fspacingInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.fspacing = val\r\n      that.update(that.formData)\r\n    })\r\n    let $findentInput = $propPanel.find('input[type=text][name=findent]') \r\n    $findentInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.findent = val\r\n      that.update(that.formData)\r\n    })\r\n    let $fcontentTextarea = $propPanel.find('textarea[name=fcontent]') \r\n    $fcontentTextarea.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.fcontent = val\r\n      that.update(that.formData)\r\n    })\r\n    //以下是动画\r\n    let $antTsDurInput = $propPanel.find('input[type=text][name=antTsDur]') \r\n    $antTsDurInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.antTsDur = val\r\n      that.update(that.formData)\r\n    })\r\n    let $antTsFunRadio = $propPanel.find('input[type=radio][name=antTsFun]')\r\n    $antTsFunRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.antTsFun = val\r\n      that.update(that.formData)\r\n    })\r\n    let $antTransRadio = $propPanel.find('input[type=radio][name=antTrans]')\r\n    $antTransRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.antTrans = val\r\n      that.update(that.formData)\r\n    })\r\n// 以下是边框 \r\n    let $borderTCheckBox = $propPanel.find('input[type=checkbox][name=borderT]')\r\n    $borderTCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderT = val ? 'show' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $borderBCheckBox = $propPanel.find('input[type=checkbox][name=borderB]')\r\n    $borderBCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderB = val ? 'show' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $borderLCheckBox = $propPanel.find('input[type=checkbox][name=borderL]')\r\n    $borderLCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderL = val ? 'show' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $borderRCheckBox = $propPanel.find('input[type=checkbox][name=borderR]')\r\n    $borderRCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.borderR = val ? 'show' : ''\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $borderWidthInput = $propPanel.find('input[type=text][name=borderWidth]') \r\n    $borderWidthInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.borderWidth = val\r\n      that.update(that.formData)\r\n    })\r\n    let $borderColorInput = $propPanel.find('input[type=text][name=borderColor]') \r\n    $borderColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.borderColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $borderStyleRadio = $propPanel.find('input[type=radio][name=borderStyle]')\r\n    $borderStyleRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.borderStyle = val\r\n      that.update(that.formData)\r\n    })\r\n    let $antBcolorInput = $propPanel.find('input[type=text][name=antBcolor]') \r\n    $antBcolorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.antBcolor = val\r\n      that.update(that.formData)\r\n    })\r\n    \r\n    let $antTsDurBInput = $propPanel.find('input[type=text][name=antTsDurB]') \r\n    $antTsDurBInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.antTsDurB = val\r\n    })\r\n    let $antTsFunBRadio = $propPanel.find('input[type=radio][name=antTsFunB]')\r\n    $antTsFunBRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.antTsFunB = val\r\n      that.update(that.formData)\r\n    })\r\n    let $antBcRadio = $propPanel.find('input[type=radio][name=antBc]')\r\n    $antBcRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.antBc = val\r\n      that.update(that.formData)\r\n    })\r\n    let $alignRadio = $propPanel.find('.fnt-z .font-item-radio')\r\n    $alignRadio.click(function() {\r\n      let val = $(this).prop('data-val')\r\n      that.formData.align = val\r\n      that.update(that.formData)\r\n      $alignRadio.removeClass(\"active\")\r\n      $(this).addClass(\"active\")\r\n    })\r\n\r\n \r\n\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '文字设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        if (that.formData.color) {\r\n         let $colorInput=$layerElem.find('input[type=text][name=color]')\r\n         $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.color)\r\n        } \r\n        if (that.formData.bgColor) {\r\n         let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n         $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        } \r\n        if (that.formData.fcolor) {\r\n         let $fcolorInput=$layerElem.find('input[type=text][name=fcolor]')\r\n         $fcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.fcolor)\r\n        } \r\n        if (that.formData.fbgColor) {\r\n         let $fbgColorInput=$layerElem.find('input[type=text][name=fbgColor]')\r\n         $fbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.fbgColor)\r\n        } \r\n        //边框\r\n        if (that.formData.borderColor) {\r\n         let $borderColorInput=$layerElem.find('input[type=text][name=borderColor]')\r\n         $borderColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.borderColor)\r\n        } \r\n        if (that.formData.antBcolor) {\r\n         let $antBcolorInput=$layerElem.find('input[type=text][name=antBcolor]')\r\n         $antBcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.antBcolor)\r\n        } \r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"textComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">默认设置</li>\r\n            <li>鼠标经过</li>\r\n            <li>动画设置</li>\r\n            <li>边框</li>\r\n             \r\n\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"appLabel\" class=\"layui-input\"></div>\r\n              </div>\r\n\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">样式及内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; height: 36px;\">\r\n                      <select   name=\"fFamily\" >\r\n                          <option value=\"宋体\" >宋体</option>\r\n                          <option value=\"黑体\" >黑体</option>\r\n                          <option value=\"微软雅黑\" >雅黑</option>\r\n                          <option value=\"楷体\" >楷体</option>\r\n                          <option value=\"arial\" >Arial</option>\r\n                          <option value=\"verdana\" >Verdana</option>\r\n                          <option value=\"georgia\" >Georgia</option>\r\n                          <option value=\"times new roman\" >Times New Roman</option>\r\n                          <option value=\"trebuchet ms\" >Trebuchet MS</option>\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"color\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"fontSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"bgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"lineHg\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"spacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"indent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting font-on\">\r\n                      <span  title=\"加粗\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꕅ</icon></span>\r\n                      <span  title=\"斜体\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꕆ</icon></span>\r\n                      <span  title=\"上划线\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꔣ</icon></span>\r\n                      <span  title=\"中划线\" class=\"font-item active\" data-l=\"checkbox\"><icon>ꕇ</icon></span>\r\n                      <span  title=\"下划线\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꕈ</icon></span>\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item active\" data-l=\"radio\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item\" data-l=\"radio\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item\" data-l=\"radio\" ><icon>ꕑ</icon></span>\r\n                    </div>\r\n                    <textarea   name=\"content\"  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"href\" class=\"layui-input\"></div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景图片</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景平铺</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"bgRep\" >\r\n                    <option value=\"repeat\" >纵横向</option>\r\n                    <option value=\"repeat-x\" >横向</option>\r\n                    <option value=\"repeat-y\" >纵向</option>\r\n                    <option value=\"no-repeat\" >不平铺</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">对齐方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"bgPos\" >\r\n                    <option value=\"0% 0%\">左上</option>\r\n                    <option value=\"0% 50%\">左中</option>\r\n                    <option value=\"0% 100%\">左下</option>\r\n                    <option value=\"50% 0%\">中上</option>\r\n                    <option value=\"50% 50%\">正中</option>\r\n                    <option value=\"50% 100%\">中下</option>\r\n                    <option value=\"100% 0%\">右上</option>\r\n                    <option value=\"100% 50%\">右中</option>\r\n                    <option value=\"100% 100%\">右下</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n   \r\n              \r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">鼠标经过状态</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"hoverMode\" lay-filter=\"hoverMode\" value=\"on\" title=\"开启\" >\r\n                  <input type=\"radio\" name=\"hoverMode\" lay-filter=\"hoverMode\" value=\"off\" title=\"关闭\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">样式及内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px;\">\r\n                      <select   name=\"ffFamily\" >\r\n                          <option value=\"宋体\" >宋体</option>\r\n                          <option value=\"黑体\" >黑体</option>\r\n                          <option value=\"微软雅黑\" >雅黑</option>\r\n                          <option value=\"楷体\" >楷体</option>\r\n                          <option value=\"arial\" >Arial</option>\r\n                          <option value=\"verdana\" >Verdana</option>\r\n                          <option value=\"georgia\" >Georgia</option>\r\n                          <option value=\"times new roman\" >Times New Roman</option>\r\n                          <option value=\"trebuchet ms\" >Trebuchet MS</option>\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"fcolor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"ffontSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"fbgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"flineHg\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"fspacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"findent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting\">\r\n                      <span  title=\"加粗\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꕅ</icon></span>\r\n                      <span  title=\"斜体\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꕆ</icon></span>\r\n                      <span  title=\"上划线\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꔣ</icon></span>\r\n                      <span  title=\"中划线\" class=\"font-item active\" data-l=\"checkbox\"><icon>ꕇ</icon></span>\r\n                      <span  title=\"下划线\" class=\"font-item\" data-l=\"checkbox\" ><icon>ꕈ</icon></span>\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item active\" data-l=\"radio\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item\" data-l=\"radio\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item\" data-l=\"radio\" ><icon>ꕑ</icon></span>\r\n                    </div>\r\n                    <textarea   name=\"fcontent\"  ></textarea>\r\n                    <div class=\"font-synchronous\">\r\n                      <icon>ꕦ</icon><span>同步默认文字样式</span>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景图片</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"fbgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景平铺</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"fbgRep\" >\r\n                    <option value=\"repeat\" >纵横向</option>\r\n                    <option value=\"repeat-x\" >横向</option>\r\n                    <option value=\"repeat-y\" >纵向</option>\r\n                    <option value=\"no-repeat\" >不平铺</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">对齐方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"fbgPos\" >\r\n                    <option value=\"0% 0%\">左上</option>\r\n                    <option value=\"0% 50%\">左中</option>\r\n                    <option value=\"0% 100%\">左下</option>\r\n                    <option value=\"50% 0%\">中上</option>\r\n                    <option value=\"50% 50%\">正中</option>\r\n                    <option value=\"50% 100%\">中下</option>\r\n                    <option value=\"100% 0%\">右上</option>\r\n                    <option value=\"100% 50%\">右中</option>\r\n                    <option value=\"100% 100%\">右下</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <fieldset  class=\"layui-elem-field\">\r\n                <legend>\r\n                  动画时长                      \r\n                  <input class=\"input-short\"  type=\"text\" name=\"antTsDur\"  style=\"width:50px; height:20px; margin-left:10px; padding-left:5px;\" />\r\n                  <label class=\"label-con\">秒</label>\r\n                </legend>\r\n                <div class=\"layui-field-box\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTsFun\" value=\"linear\"  title=\"匀速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTsFun\" value=\"ease\"  title=\"逐渐变慢\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTsFun\" value=\"ease-in\"   title=\"减速\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTsFun\" value=\"ease-out\"   title=\"加速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTsFun\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTsFun\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                </div>\r\n              </fieldset>\r\n              <fieldset  class=\"layui-elem-field\" style=\"margin-top:15px;\">\r\n                <legend>动画效果</legend>\r\n                <div class=\"layui-field-box\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans0\" title=\"无效果\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans1\" title=\"右切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans2\"  title=\"下切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans3\"  title=\"左切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans4\"  title=\"上切入\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans5\"  title=\"右切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans6\"  title=\"下切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans7\"  title=\"左切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans8\"  title=\"上切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans9\"  title=\"右切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans10\"   title=\"下切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans11\"   title=\"左切入切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans12\"  title=\"上切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans13\"  title=\"放大出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans14\"  title=\"缩小出现\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans15\"  title=\"翻转出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans16\"  title=\"缩放出现1\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans17\"  title=\"缩放出现2\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans18\"  title=\"旋转放大\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans19\"  title=\"旋转缩小\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"antTrans\"  value=\"atrans20\"  title=\"渐隐渐显\">\r\n                </div>\r\n              </fieldset>\r\n            </div>\r\n            <div  class=\"layui-tab-item\">\r\n               <div class=\"layui-tab layui-side-card\">\r\n                <ul class=\"layui-tab-title\"  >\r\n                  <li class=\"layui-this\" style=\"margin-top: 110px;\">默认边框</li>\r\n                  <li class=\"\">鼠标划过边框</li>\r\n                </ul>\r\n                <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n                  <div class=\"layui-tab-item layui-show\">\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框显示</label>\r\n                          <div class=\"layui-input-inline\">\r\n                            <input type=\"checkbox\" name=\"borderT\" value=\"show\" lay-skin=\"primary\" title=\"上边\"  >\r\n                            <input type=\"checkbox\" name=\"borderB\" value=\"show\" lay-skin=\"primary\" title=\"下边\">\r\n                            <input type=\"checkbox\" name=\"borderL\" value=\"show\" lay-skin=\"primary\" title=\"左边\" >\r\n                            <input type=\"checkbox\" name=\"borderR\" value=\"show\" lay-skin=\"primary\" title=\"右边\"  >\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框粗细</label>\r\n                          <div class=\"layui-input-inline input-short\"><input name=\"borderWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框颜色</label>\r\n                          <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                            <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                            <input name=\"borderColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                            <span class=\"clear-color-button\"></span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\">\r\n                          <label class=\"layui-form-label\">边框样式</label>\r\n                          <div class=\"layui-input-inline\">\r\n                            <input type=\"radio\" name=\"borderStyle\" lay-filter=\"borderStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                            <input type=\"radio\" name=\"borderStyle\" lay-filter=\"borderStyle\" value=\"dotted\" title=\"细虚线\">\r\n                            <input type=\"radio\" name=\"borderStyle\" lay-filter=\"borderStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                          </div>\r\n                        </div>\r\n                  </div>\r\n                  <div class=\"layui-tab-item \">\r\n\r\n                    <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n                      <legend>\r\n                        动画时长                      \r\n                        <input class=\"input-short\"  type=\"text\" name=\"antTsDurB\"  style=\"width:50px; height:20px; margin-left:10px; padding-left:5px;\" />\r\n                        <label class=\"label-con\">秒</label>\r\n                      </legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antTsFunB\" value=\"linear\"  title=\"匀速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antTsFunB\" value=\"ease\"  title=\"逐渐变慢\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antTsFunB\" value=\"ease-in\"   title=\"减速\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antTsFunB\" value=\"ease-out\"   title=\"加速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antTsFunB\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antTsFunB\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                      </div>\r\n                    </fieldset>\r\n                    <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n                      <legend>动画效果</legend>\r\n                      <div class=\"layui-form-item\"  style=\"margin-top:15px;margin-bottom:0px;\">\r\n                        <label class=\"layui-form-label\">边框颜色</label>\r\n                        <div class=\"layui-input-inline pagecolorpanel input-short\"  style=\"width: 190px;\">\r\n                          <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                          <input name=\"antBcolor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                          <span class=\"clear-color-button\"></span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"layui-field-box\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx0\" title=\"直接切换\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx1\" title=\"渐隐渐显\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx4\"  title=\"左对角线切入\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx5\"  title=\"右对角线切入\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx6\"  title=\"顺时针出现\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx7\"  title=\"逆时针出现\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx8\"  title=\"由点到线\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"antBc\"  value=\"bdtx9\"  title=\"由点到面\">\r\n                      </div>\r\n                    </fieldset>\r\n\r\n                  </div>\r\n             \r\n \r\n                </div>\r\n            </div>\r\n \r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"textComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(textComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('textComponentForm', that.formData)\r\n  }\r\n  update(formData) {\r\n    let that = this\r\n    \r\n    let $defPanel=this.$contentBox.find(\".on\")\r\n    $defPanel.css(\"font-family\",this.formData.fFamily)\r\n    $defPanel.css('color', this.formData.color)\r\n    $defPanel.css('background-color', this.formData.bgColor)\r\n    $defPanel.css('font-size', parseInt(this.formData.fontSize))\r\n    $defPanel.css('line-height', this.formData.lineHg+'px')\r\n    $defPanel.css('letter-spacing', parseInt(this.formData.spacing))\r\n    $defPanel.css('text-indent', parseInt(this.formData.indent))\r\n    $defPanel.css('border-radius',parseInt(this.formData.bRadius))\r\n    \r\n    $defPanel.css('text-align', this.formData.align)\r\n    \r\n    // $defPanel.css(\"font-weight\",this.formData.weight)\r\n    // $defPanel.css(\"font-style\",this.formData.fontStyle)\r\n    $defPanel.text(formData.content)\r\n\r\n    let $offPanel=this.$contentBox.find(\".off\")\r\n    let _antTransAttr=this.$content.attr(\"antTrans\")\r\n    if(this.formData.hoverMode===\"on\"){\r\n      $offPanel.remove()\r\n      let $_antTrans=this.formData.antTrans\r\n\r\n      if($_antTrans=='atrans5' || $_antTrans=='atrans6' || $_antTrans==='atrans7' || $_antTrans==='atrans8' || $_antTrans==='atrans9' || $_antTrans==='atrans19' ){\r\n        this.$contentBox.find(\".on\").before(\"<div class='off'></div>\")\r\n      }else{\r\n        this.$contentBox.find(\".on\").after(\"<div class='off'></div>\")\r\n      }\r\n      $offPanel=this.$contentBox.find(\".off\")\r\n      $offPanel.text(formData.fcontent)\r\n      $offPanel.css(\"font-family\",this.formData.ffFamily)\r\n      $offPanel.css('color', this.formData.fcolor)\r\n      $offPanel.css('background-color', this.formData.fbgColor)\r\n      $offPanel.css('font-size', parseInt(this.formData.ffontSize))\r\n      $offPanel.css('line-height', this.formData.flineHg+'px')\r\n      $offPanel.css('letter-spacing', parseInt(this.formData.fspacing))\r\n      $offPanel.css('text-indent', parseInt(this.formData.findent))\r\n      $offPanel.css('border-radius', this.formData.bRadius)\r\n      if(this.formData.antTsFun==='cubic-bezier'){\r\n        $defPanel.css('transition-timing-function', 'cubic-bezier(0.52, 1.64, 0.37, 0.66)')\r\n        $offPanel.css('transition-timing-function', 'cubic-bezier(0.52, 1.64, 0.37, 0.66)')\r\n      }else{\r\n        $defPanel.css('transition-timing-function', this.formData.antTsFun)\r\n        $offPanel.css('transition-timing-function', this.formData.antTsFun)\r\n      }\r\n      $defPanel.css('transition-duration', this.formData.antTsDur+'s')\r\n      $offPanel.css('transition-duration', this.formData.antTsDur+'s')\r\n\r\n      \r\n      this.$content.removeClass(_antTransAttr);\r\n      this.$content.addClass(this.formData.antTrans)\r\n      this.$content.attr(\"antTrans\",this.formData.antTrans)\r\n    }else{\r\n      $offPanel.remove();\r\n      this.$content.removeClass(_antTransAttr);\r\n      this.$content.attr(\"antTrans\",'')\r\n    }\r\n\r\n    //处理边框\r\n    let $textPanel=this.$contentBox.find(\".ant-text\")\r\n   \r\n    let $alPanel=this.$contentBox.find(\".bk-aline\")\r\n    if (this.formData.borderT===\"show\" || this.formData.borderB===\"show\" ||this.formData.borderL===\"show\"||this.formData.borderR===\"show\"){\r\n      if($alPanel.length <=0)\r\n        $textPanel.append(\"<div class='bk-aline'></div>\")\r\n      $alPanel=this.$contentBox.find(\".bk-aline\")\r\n\r\n      if(this.formData.borderT===\"show\"){\r\n        $alPanel.css('border-top-width', this.formData.borderWidth)\r\n      }else{\r\n        $alPanel.css('border-top-width', 0)\r\n      }\r\n      if(this.formData.borderB===\"show\"){\r\n        $alPanel.css('border-bottom-width', this.formData.borderWidth)\r\n      }else{\r\n        $alPanel.css('border-bottom-width', 0)\r\n      }\r\n      if(this.formData.borderL===\"show\"){\r\n        $alPanel.css('border-Left-width', this.formData.borderWidth)\r\n      }else{\r\n        $alPanel.css('border-Left-width', 0)\r\n      }\r\n      if(this.formData.borderR===\"show\"){\r\n        $alPanel.css('border-right-width', this.formData.borderWidth)\r\n      }else{\r\n        $alPanel.css('border-right-width', 0)\r\n      }\r\n      $alPanel.css('border-style', this.formData.borderStyle)\r\n      $alPanel.css('border-color', this.formData.borderColor)\r\n\r\n\r\n    }else{\r\n        $alPanel.remove()\r\n    }\r\n\r\n\r\n\r\n \r\n    let _antBc=this.$content.attr(\"antBc\")\r\n    this.$content.removeClass(_antBc);\r\n    this.$content.addClass(this.formData.antBc)\r\n    this.$content.attr(\"antBc\",this.formData.antBc)\r\n\r\n    if(this.formData.antBc !=\"hide\"){\r\n      let _antTsFunBV=this.formData.antTsFunB\r\n      if(this.formData.antTsFunB==='cubic-bezier') \r\n        _antTsFunBV='cubic-bezier(0.52, 1.64, 0.37, 0.66)'\r\n      let _antTsDurBV=this.formData.antTsDurB+'s'\r\n\r\n      let $ltPanel=this.$contentBox.find(\".w-lt\")\r\n      if(this.formData.borderT===\"show\"){\r\n        if($ltPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lt'></div>\")\r\n          $ltPanel=this.$contentBox.find(\".w-lt\")\r\n          $ltPanel.css('border-top-width',parseInt(this.formData.borderWidth))\r\n          $ltPanel.css('border-top-style',this.formData.borderStyle)\r\n          $ltPanel.css('border-top-color',this.formData.antBcolor)\r\n          $ltPanel.css('transition-timing-function',_antTsFunBV)\r\n          $ltPanel.css('transition-duration',_antTsDurBV)\r\n          \r\n      }else{\r\n        $ltPanel.remove()\r\n      }\r\n      let $lbPanel=this.$contentBox.find(\".w-lb\")\r\n      if(this.formData.borderB===\"show\"){\r\n        if($lbPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lb'></div>\")\r\n          $lbPanel=this.$contentBox.find(\".w-lb\")\r\n          $lbPanel.css('border-Bottom-width',parseInt(this.formData.borderWidth))\r\n          $lbPanel.css('border-Bottom-style',this.formData.borderStyle)\r\n          $lbPanel.css('border-Bottom-color',this.formData.antBcolor)\r\n          $lbPanel.css('transition-timing-function',_antTsFunBV)\r\n          $lbPanel.css('transition-duration',_antTsDurBV)\r\n          \r\n      }else{\r\n        $lbPanel.remove()\r\n      }\r\n      let $llPanel=this.$contentBox.find(\".w-ll\")\r\n      if(this.formData.borderL===\"show\"){\r\n        if($llPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-ll'></div>\")\r\n          $llPanel=this.$contentBox.find(\".w-ll\")\r\n          $llPanel.css('border-left-width',parseInt(this.formData.borderWidth))\r\n          $llPanel.css('border-left-style',this.formData.borderStyle)\r\n          $llPanel.css('border-left-color',this.formData.antBcolor)\r\n          $llPanel.css('transition-timing-function',_antTsFunBV)\r\n          $llPanel.css('transition-duration',_antTsDurBV)\r\n          \r\n      }else{\r\n        $llPanel.remove()\r\n      }\r\n      let $lrPanel=this.$contentBox.find(\".w-lr\")\r\n      if(this.formData.borderR===\"show\"){\r\n        if($lrPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lr'></div>\")\r\n          $lrPanel=this.$contentBox.find(\".w-lr\")\r\n          $lrPanel.css('border-right-width',parseInt(this.formData.borderWidth))\r\n          $lrPanel.css('border-right-style',this.formData.borderStyle)\r\n          $lrPanel.css('border-right-color',this.formData.antBcolor)\r\n          $lrPanel.css('transition-timing-function',_antTsFunBV)\r\n          $lrPanel.css('transition-duration',_antTsDurBV)\r\n          \r\n      }else{\r\n        $lrPanel.remove()\r\n      }\r\n\r\n      \r\n     \r\n\r\n\r\n   \r\n    }\r\n\r\n\r\n  }\r\n  updatePropPanel(){\r\n    let that = this\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $fFamilySelect = $propPanel.find('select[name=fFamily]')\r\n    $fFamilySelect.val(this.formData.fFamily)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $fontSizeInput = $propPanel.find('input[type=text][name=fontSize]')\r\n    $fontSizeInput.val(this.formData.fontSize)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $lineHgInput = $propPanel.find('input[type=text][name=lineHg]')\r\n    $lineHgInput.val(this.formData.lineHg)\r\n\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]')\r\n    $spacingInput.val(this.formData.spacing)\r\n    \r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]')\r\n    $indentInput.val(this.formData.indent)\r\n\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]')\r\n    $contentTextarea.val(this.formData.content)\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    } \r\n    //以下是移上信息\r\n    let $hoverModeRadio = $propPanel.find('input[type=radio][name=hoverMode]')\r\n    $hoverModeRadio.filter(`[value=\"${this.formData.hoverMode}\"]`).prop('checked', true)\r\n\r\n    let $ffFamilySelect = $propPanel.find('select[name=ffFamily]')\r\n    $ffFamilySelect.val(this.formData.ffFamily)\r\n\r\n    let $fcolorInput = $propPanel.find('input[type=text][name=fcolor]')\r\n    $fcolorInput.val(this.formData.fcolor)\r\n\r\n    let $ffontSizeInput = $propPanel.find('input[type=text][name=ffontSize]')\r\n    $ffontSizeInput.val(this.formData.ffontSize)\r\n\r\n    let $fbgColorInput = $propPanel.find('input[type=text][name=fbgColor]')\r\n    $fbgColorInput.val(this.formData.fbgColor)\r\n\r\n    let $flineHgInput = $propPanel.find('input[type=text][name=flineHg]')\r\n    $flineHgInput.val(this.formData.flineHg)\r\n\r\n    let $fspacingInput = $propPanel.find('input[type=text][name=fspacing]')\r\n    $fspacingInput.val(this.formData.fspacing)\r\n    \r\n    let $findentInput = $propPanel.find('input[type=text][name=findent]')\r\n    $findentInput.val(this.formData.findent)\r\n\r\n    let $fcontentTextarea = $propPanel.find('textarea[name=fcontent]')\r\n    $fcontentTextarea.val(this.formData.fcontent)\r\n    if (this.formData.fcolor) {\r\n       $fcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.fcolor)\r\n    }else{\r\n      $fcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.fbgColor) {\r\n       $fbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.fbgColor)\r\n    }else{\r\n      $fbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    } \r\n\r\n   　//动画信息\r\n    let $antTsDurInput = $propPanel.find('input[type=text][name=antTsDur]')\r\n    $antTsDurInput.val(this.formData.antTsDur)\r\n    let $antTsFunModeRadio = $propPanel.find('input[type=radio][name=antTsFun]')\r\n    $antTsFunModeRadio.filter(`[value=\"${this.formData.antTsFun}\"]`).prop('checked', true)\r\n    let $antTransModeRadio = $propPanel.find('input[type=radio][name=antTrans]')\r\n    $antTransModeRadio.filter(`[value=\"${this.formData.antTrans}\"]`).prop('checked', true)\r\n\r\n    //边框信息\r\n    let $borderTCheckBox = $propPanel.find('input[type=checkbox][name=borderT]')\r\n    if (this.formData.borderT === 'show') {\r\n      $borderTCheckBox.prop('checked', true)\r\n    } else {\r\n      $borderTCheckBox.prop('checked', false)\r\n    }\r\n    let $borderBCheckBox = $propPanel.find('input[type=checkbox][name=borderB]')\r\n    if (this.formData.borderB === 'show') {\r\n      $borderBCheckBox.prop('checked', true)\r\n    } else {\r\n      $borderBCheckBox.prop('checked', false)\r\n    }\r\n    let $borderLCheckBox = $propPanel.find('input[type=checkbox][name=borderL]')\r\n    if (this.formData.borderL === 'show') {\r\n      $borderLCheckBox.prop('checked', true)\r\n    } else {\r\n      $borderLCheckBox.prop('checked', false)\r\n    }\r\n    let $borderRCheckBox = $propPanel.find('input[type=checkbox][name=borderR]')\r\n    if (this.formData.borderR === 'show') {\r\n      $borderRCheckBox.prop('checked', true)\r\n    } else {\r\n      $borderRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $borderWidthInput = $propPanel.find('input[type=text][name=borderWidth]')\r\n    $borderWidthInput.val(this.formData.borderWidth)\r\n    let $borderColorInput = $propPanel.find('input[type=text][name=borderColor]')\r\n    $borderColorInput.val(this.formData.borderColor)\r\n    let $borderStyleRadio = $propPanel.find('input[type=radio][name=borderStyle]')\r\n    $borderStyleRadio.filter(`[value=\"${this.formData.borderStyle}\"]`).prop('checked', true)\r\n\r\n    if (this.formData.borderColor) {\r\n      $borderColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.borderColor)\r\n    }else{\r\n      $borderColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    //移上边框\r\n    let $antTsDurBInput = $propPanel.find('input[type=text][name=antTsDurB]')\r\n    $antTsDurBInput.val(this.formData.antTsDurB)\r\n    let $antTsFunBRadio = $propPanel.find('input[type=radio][name=antTsFunB]')\r\n    $antTsFunBRadio.filter(`[value=\"${this.formData.antTsFunB}\"]`).prop('checked', true)\r\n    let $antBcolorInput = $propPanel.find('input[type=text][name=antBcolor]')\r\n    $antBcolorInput.val(this.formData.antBcolor)\r\n    let $antBcRadio = $propPanel.find('input[type=radio][name=antBc]')\r\n    $antBcRadio.filter(`[value=\"${this.formData.antBc}\"]`).prop('checked', true)\r\n\r\n    if (this.formData.antBcolor) {\r\n       $antBcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.antBcolor)\r\n    }else{\r\n      $antBcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n\r\n    $propPanel.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n    let sss= $propPanel.find(`.fnt-z .font-item-radio[data-val=\"${that.formData.align}\"]`);\r\n \r\n        /*\r\n        $layerElem.find('.animselect > div').on('click', function() {\r\n          $layerElem.find('.animselect > div.active').removeClass('active')\r\n          $(this).addClass('active')\r\n        })*/\r\n\r\n\r\n  }\r\n}\r\n\r\n\r\n","import Component from './Component'\r\nrequire('./assets/wang2.gif')\r\nrequire('./assets/wang1.gif')\r\nexport default class WangComponent extends Component {\r\n  $content: JQuery\r\n  $wangImg: JQuery\r\n  constructor() {\r\n    super('wang-component', {enableResize: false})\r\n   /* let content = `\r\n        <a class=\"wang-box\"><img src=\"./assets/wang1.gif\"><span>璇子</span></a>\r\n      `\r\n   // this.$contentBox.append(content) */\r\n   this.$content = $('<a class=\"wang-box\"><img class=\"cphoto\" src=\"//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg\"><div class=\"wang-info\" > <img class=\"wang-line\" src=\"./assets/wang1.gif\"><span>John Deao</span></div></a>')\r\n    this.$wangImg = this.$content.find('.wang-line')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    return ''\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.wangMode = '1'\r\n    this.formData.wangID = ''\r\n    this.formData.bgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.nickName = 'John Deao'\r\n    this.formData.color = ''\r\n    this.formData.fontSize = 12\r\n    this.formData.fontFamily = 'arial'\r\n    this.formData.fontWeight = 400\r\n    this.formData.fontStyle = 'normal'\r\n    this.formData.tipText = '24Hours Service Online'\r\n    this.formData.nickMl = 5\r\n    this.formData.bgImgMg = 5\r\n    this.update(this.formData)\r\n  }\r\n  initPorpPanel() {\r\n    console.log('initPorpPanel')\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.ww-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    this.updatePropPanel()\r\n\r\n    let $wangModeRadio = $propPanel.find('input[type=radio][name=wangMode]')\r\n    $wangModeRadio.change(function() {\r\n      that.formData.wangMode = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]') \r\n    $wangIDInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.wangID = val\r\n    })\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]') \r\n    $bgImgInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgImg = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bgImgMgInput = $propPanel.find('input[type=text][name=bgImgMg]') \r\n    $bgImgMgInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgImgMg = val\r\n      that.update(that.formData)\r\n    })\r\n    let $nickNameInput = $propPanel.find('input[type=text][name=nickName]') \r\n    $nickNameInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.nickName = val\r\n      that.update(that.formData)\r\n    })\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]') \r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.color = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]') \r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $nickMlInput= $propPanel.find('input[type=text][name=nickMl]')\r\n    $nickMlInput.change(function() {\r\n      that.formData.nickMl =$(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $fontSizeInput= $propPanel.find('input[type=text][name=fontSize]')\r\n    $fontSizeInput.change(function() {\r\n      that.formData.fontSize =$(this).val()\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $fontWeightSelect = $propPanel.find('select[name=fontWeight]')\r\n    $fontWeightSelect.change(function() {\r\n      that.formData.fontWeight = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $fontStyleSelect = $propPanel.find('select[name=fontStyle]')\r\n    $fontStyleSelect.change(function() {\r\n      that.formData.fontStyle = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $fontFamilySelect = $propPanel.find('select[name=fontFamily]')\r\n    $fontFamilySelect.change(function() {\r\n      that.formData.fontFamily = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $tipTextInput= $propPanel.find('input[type=text][name=tipText]')\r\n    $tipTextInput.change(function() {\r\n      that.formData.tipText =$(this).val()\r\n      that.update(that.formData)\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '旺旺设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"wangComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(wangComponentForm)', function(data) {\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n  }\r\n  update(formData) {\r\n    let that = this\r\n    let $cphoto=this.$content.find(\".cphoto\");\r\n    let $spanName=this.$content.find(\".wang-info span\");\r\n    this.$content.css('background-color', this.formData.bgColor)\r\n    this.$content.find(\".wang-info\").css(\"margin-top\",parseInt(this.formData.bgImgMg))\r\n    this.$content.attr('title', this.formData.tipText) \r\n\r\n    let lineImg=this.formData.wangMode ==\"1\" ?  './assets/wang1.gif': './assets/wang2.gif';\r\n    that.$wangImg.attr('src', lineImg)\r\n    that.$wangImg.attr('data-val', this.formData.wangMode)\r\n\r\n    if(this.formData.bgImg){\r\n      if($cphoto.length<=0){\r\n         this.$content.find(\".wang-info\").before(\"<img class='cphoto' >\")\r\n      }\r\n      $cphoto=this.$content.find(\".cphoto\");\r\n      $cphoto.attr('src', this.formData.bgImg) \r\n    }else{\r\n      $cphoto.remove();\r\n    }\r\n    if(this.formData.nickName){\r\n      if($spanName.length<=0){\r\n        $spanName=this.$content.find(\".wang-line\").after(\"<span>\"+formData.nickName+\"</span>\")\r\n      }\r\n      $spanName=this.$content.find(\".wang-info span\");\r\n      $spanName.text(formData.nickName)\r\n      $spanName.css(\"color\",this.formData.color)\r\n      $spanName.css('font-size', parseInt(this.formData.fontSize))\r\n      $spanName.css(\"font-family\",this.formData.fontFamily)\r\n      $spanName.css(\"font-weight\",this.formData.fontWeight)\r\n      $spanName.css(\"font-style\",this.formData.fontStyle)\r\n      $spanName.css(\"margin-left\",parseInt(this.formData.nickMl))\r\n       \r\n    }else{\r\n       $spanName.remove();\r\n    }\r\n \r\n \r\n    \r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $wangModeRadio = $propPanel.find('input[type=radio][name=wangMode]')\r\n    $wangModeRadio.filter(`[value=\"${this.formData.wangMode}\"]`).prop('checked', true)\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n\r\n \r\n    let $bgImgMgInput = $propPanel.find('input[type=text][name=bgImgMg]')\r\n    $bgImgMgInput.val(this.formData.bgImgMg)\r\n    let $nickNameInput = $propPanel.find('input[type=text][name=nickName]')\r\n    $nickNameInput.val(this.formData.nickName)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $nickMlInput = $propPanel.find('input[type=text][name=nickMl]')\r\n    $nickMlInput.val(this.formData.nickMl)\r\n\r\n\r\n    let $fontSizeInput = $propPanel.find('input[type=text][name=fontSize]')\r\n    $fontSizeInput.val(this.formData.fontSize)\r\n\r\n    let $fontFamilySelect = $propPanel.find('select[name=fontFamily]')\r\n    $fontFamilySelect.val(this.formData.fontFamily)\r\n\r\n    let $fontWeightSelect = $propPanel.find('input[type=text][name=fontWeight]')\r\n    $fontWeightSelect.val(this.formData.fontWeight)\r\n\r\n    let $fontStyleSelect = $propPanel.find('select[name=fontStyle]')\r\n    $fontStyleSelect.val(this.formData.fontStyle)\r\n\r\n    let $tipTextInput = $propPanel.find('input[type=text][name=tipText]')\r\n    $tipTextInput.val(this.formData.tipText)\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    } \r\n\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'wangh',\r\n      'config': config,\r\n      'pos': {\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n \r\n ","import './style/index.scss';\r\nimport './style/common.scss';\r\nimport './style/patch.scss';\r\nrequire('./common')\r\nimport StageContainer from './StageContainer'\r\nimport ComponentBar from './ComponentBar'\r\nimport Header from './Header';\r\nimport PageConfig from './PageConfig';\r\nimport ToolBar from './ToolBar';\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!');\r\n}\r\n\r\n$(function() {\r\n  // let pageConfig = new PageConfig()\r\n  let stageCt = new StageContainer();\r\n  stageCt.createStage();\r\n  let componentBar = new ComponentBar(stageCt)\r\n  let toolbar = new ToolBar(stageCt)\r\n  let header = new Header(stageCt)\r\n})\r\n\r\n\r\n\r\n","Array.prototype.remove = function (val) {\r\n  var index = this.indexOf(val);\r\n  if (index > -1) {\r\n    this.splice(index, 1);\r\n  }\r\n};\r\n \r\n/*\r\nwindow.parseIntNative = window.parseInt\r\nfunction parseInt(num) {\r\n  if (num) {\r\n     return window.parseIntNative(num)\r\n  }\r\n  return ''\r\n}\r\nwindow.parseInt = parseInt\r\n*/\r\n \r\n\r\n","import Stage from './Stage'\r\nimport PageConfig from './PageConfig';\r\nexport default class StageContainer {\r\n  $el: JQuery\r\n  stages: Array<Stage> = []\r\n  curStage: Stage = null\r\n  constructor() {\r\n    let $stageCt = $('.stage-ct');\r\n    this.stages = [];\r\n    this.$el = $stageCt;\r\n  }\r\n  createStage() {\r\n    let stage = new Stage();\r\n    stage.create(this.$el);\r\n    this.curStage = stage;\r\n    this.stages.push(stage);\r\n  }\r\n}\r\n","import Draggable from './Draggable';\r\nimport Ruler from './Ruler';\r\nimport Component from './Component';\r\nimport HotAreaComponent from './HotAreaComponent';\r\nimport ImgComponent from './ImgComponent';\r\nimport TextComponent from './TextComponent';\r\nimport WangComponent from './WangComponent';\r\n\r\nexport default class Stage {\r\n  static STATE: Array<string> = ['hotarea', 'selection', 'handle']\r\n  EVENTS: Array<string> = []\r\n  isRuler: boolean = true\r\n  drags: Array<Draggable> = []\r\n  curSelectedComponent: Component = null\r\n  components: Array<Component> = []\r\n  $el: JQuery\r\n  $canvasWrap: JQuery\r\n  $canvasBox: JQuery\r\n  $scrollContent: JQuery\r\n  $canvas: JQuery\r\n  myScroll: any\r\n  selector = null\r\n  paddingWidth: number\r\n  paddingHeight: number\r\n  ruler: Ruler\r\n  pageWidth: number = 1920\r\n  pageHeight: number = 2561\r\n  state: string = Stage.STATE[0]\r\n  propPanel: any = {}\r\n  props: any = {\r\n    bgColor: '#FFFFFF',\r\n    position: '50% 0%',\r\n    overflow: 'hidden'\r\n  }\r\n  id: string\r\n  constructor() {\r\n    this.EVENTS = this.isTouch() ?\r\n    ['touchstart', 'touchmove', 'touchend'] : ['mousedown', 'mousemove', 'mouseup'];\r\n    this.id = this.getRandomStr(5)\r\n  }\r\n  create($stageCt) {\r\n    let canvasWidth = this.pageWidth;\r\n    let canvasHeight = this.pageHeight;\r\n    let $el = $('<div class=\"stage\"></div>');\r\n\r\n    let $canvasWrap, $scrollContent, $canvas;\r\n\r\n    $stageCt.append($el);\r\n\r\n    $canvasWrap = $(`\r\n      <div class=\"canvas-wrap\">\r\n        <div>\r\n          <div class=\"canvas-box\">\r\n            <div class=\"canvas\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n\r\n    this.paddingWidth = Math.ceil($el.width() / 100) * 100;\r\n    this.paddingHeight = Math.ceil($el.height() / 100) * 100;\r\n    let ruler;\r\n    if (this.isRuler) {\r\n      ruler = new Ruler();\r\n      ruler.create($el);\r\n      $el.append($canvasWrap);\r\n    } else {\r\n      $el.append($canvasWrap);\r\n      $canvasWrap.css('left', 0);\r\n      $canvasWrap.css('top', 0)\r\n    }\r\n\r\n    $scrollContent = $canvasWrap.find('> div');\r\n    $canvas = $canvasWrap.find('.canvas');\r\n    this.$canvas = $canvas;\r\n    this.$canvasBox = $canvasWrap.find('.canvas-box');\r\n    this.$canvasWrap = $canvasWrap;\r\n    this.$el = $el;\r\n    this.ruler = ruler;\r\n    this.$scrollContent = $scrollContent;\r\n    this.createIScroll()\r\n    this.layoutCanvas(canvasWidth, canvasHeight);\r\n    let $rulerX = ruler.$rulerX[0];\r\n    let $rulerY = ruler.$rulerY[0];\r\n    let EVENTS = this.EVENTS;\r\n    $rulerX.addEventListener(EVENTS[0], event => {\r\n      let $guideLine = $('<div class=\"guide-line guide-lineX\"><div></div></div>');\r\n      this.$el.append($guideLine)\r\n      let drag = new Draggable($guideLine[0], {\r\n        snapAnchor: $guideLine[0].children[0],\r\n        minLeft: 20,\r\n        axis: 'y',\r\n        cursor: 'row-resize',\r\n        resizable: false,\r\n      })\r\n      $guideLine.css('top', (event.clientY - this.$el[0].getBoundingClientRect().top - $guideLine[0].children[0]['offsetTop']) + 'px')\r\n      drag.start(event)\r\n      drag.onStop = function(event) {\r\n        if (drag.$el.offsetTop <= 15) {\r\n          $(drag.$el).remove();\r\n        }\r\n      }\r\n    })\r\n\r\n    $rulerY.addEventListener(EVENTS[0], event => {\r\n      let $guideLine = $('<div class=\"guide-line guide-lineY\"><div></div></div>');\r\n      this.$el.append($guideLine)\r\n\r\n      let drag = new Draggable($guideLine[0], {\r\n        snapAnchor: $guideLine[0].children[0],\r\n        minTop: 20,\r\n        axis: 'x',\r\n        cursor: 'col-resize',\r\n        resizable: false,\r\n      })\r\n      $guideLine.css('left', (event.clientX - this.$el[0].getBoundingClientRect().left - $guideLine[0].children[0]['offsetLeft']) + 'px')\r\n      drag.start(event)\r\n      drag.onStop = function(event) {\r\n        if (drag.$el.offsetLeft <= 15) {\r\n          $(drag.$el).remove();\r\n        }\r\n      }\r\n    })\r\n\r\n    this.selector = $scrollContent.selectable({\r\n      disabled: true\r\n    });\r\n    this.setupEvent();\r\n\r\n    this.initPorpPanel()\r\n  }\r\n\r\n  createIScroll(disableMouse = true, x = 0, y = 0) {\r\n    // @ts-ignore\r\n    this.myScroll = new IScroll(this.$canvasWrap[0], {\r\n      scrollX: true,\r\n      freeScroll: true,\r\n      startX: x,\r\n      startY: y,\r\n      probeType: 3,\r\n      scrollbars: true,\r\n      mouseWheel: true,\r\n      interactiveScrollbars: true,\r\n      disableMouse: disableMouse,\r\n      disablePointer: disableMouse,\r\n      disableTouch: disableMouse\r\n    });\r\n    let ruler = this.ruler\r\n    this.myScroll.on('scroll', function() {\r\n      if (ruler) {\r\n        ruler.setX(this.x);\r\n        ruler.setY(this.y)\r\n      }\r\n    });\r\n  }\r\n\r\n  layoutCanvas(canvasWidth, canvasHeight) {\r\n    let startX = 0, startY = 0, marginLeft = 0, marginTop = 0;\r\n    let scrollContentWidth = canvasWidth, scrollContentHeight = canvasHeight;\r\n    marginLeft = this.paddingWidth / 2;\r\n    marginTop = this.paddingHeight / 2;\r\n    scrollContentWidth = Math.ceil(canvasWidth / 50) * 50 + this.paddingWidth;\r\n    scrollContentHeight = Math.ceil(canvasHeight / 50) * 50 + this.paddingHeight;\r\n    if (canvasWidth < this.$canvasWrap.width()) {\r\n      startX = scrollContentWidth / 2 - this.$canvasWrap.width() / 2;\r\n    } else {\r\n      startX = this.paddingWidth / 2;\r\n    }\r\n    if (canvasHeight < this.$canvasWrap.height()) {\r\n      startY = scrollContentHeight / 2 -this.$canvasWrap.height() / 2;\r\n    } else {\r\n      startY = this.paddingHeight / 2\r\n    }\r\n    this.ruler.update(canvasWidth, canvasHeight, this.paddingWidth, this.paddingHeight);\r\n    if (this.ruler) {\r\n      this.ruler.setX(-startX);\r\n      this.ruler.setY(-startY);\r\n    }\r\n    this.$canvas.width(canvasWidth)\r\n    this.$canvas.height(canvasHeight)\r\n    // this.$canvas.css('margin-left', marginLeft + 'px')\r\n    // this.$canvas.css('margin-top', marginTop + 'px')\r\n    this.$canvasBox.width(canvasWidth)\r\n    this.$canvasBox.height(canvasHeight)\r\n    this.$canvasBox.css('margin-left', marginLeft + 'px')\r\n    this.$canvasBox.css('margin-top', marginTop + 'px')\r\n    this.$scrollContent.width(scrollContentWidth)\r\n    this.$scrollContent.height(scrollContentHeight)\r\n    this.myScroll.scrollTo(-startX, -startY)\r\n    this.myScroll.refresh()\r\n  }\r\n\r\n  setCanvasSize(canvasWidth, canvasHeight) {\r\n    this.pageWidth = canvasWidth\r\n    this.pageHeight = canvasHeight\r\n    this.layoutCanvas(canvasWidth, canvasHeight)\r\n  }\r\n\r\n\r\n  setupEvent() {\r\n    let EVENTS = this.EVENTS;\r\n\r\n    let stageElem = this.$el[0]\r\n    let canvasElem = this.$canvas[0];\r\n    stageElem.addEventListener(EVENTS[1], event => {\r\n      let canvasRect = canvasElem.getBoundingClientRect();\r\n      let eventInfo: any = this.getEventInfo(event);\r\n      let left = eventInfo.clientX - canvasRect.left;\r\n      let top = eventInfo.clientY - canvasRect.top;\r\n      if (left >= 0 && top >= 0 && left < this.$canvas.width() && top < this.$canvas.height()) {\r\n        this.ruler.setCursorPos(left, top)\r\n        this.ruler.showCursor();\r\n      } else {\r\n        this.ruler.hideCursor();\r\n      }\r\n    })\r\n\r\n    canvasElem.addEventListener(EVENTS[0], event => {\r\n      if (event.target !== canvasElem) {\r\n        return\r\n      }\r\n      this.unselectComponent();\r\n      if (this.state !== Stage.STATE[0]) {\r\n        return\r\n      }\r\n      let canvasRect = canvasElem.getBoundingClientRect();\r\n      let that = this;\r\n      let eventInfo: any = this.getEventInfo(event);\r\n      let startX = eventInfo.clientX;\r\n      let startY = eventInfo.clientY;\r\n      let component = null\r\n      function move(event) {\r\n        if (component === null) {\r\n          component = new HotAreaComponent();\r\n          that.curSelectedComponent = component\r\n          that.addComponent(component)\r\n          component.select()\r\n          component.showToolbar()\r\n        }\r\n        event = that.getEventInfo(event)\r\n        let curStartX = event.clientX;\r\n        let curStartY = event.clientY;\r\n        let left, top, width, height;\r\n        if (curStartX < startX) {\r\n          left = curStartX;\r\n          width = startX -curStartX;\r\n        } else {\r\n          left = startX;\r\n          width = curStartX - startX;\r\n        }\r\n\r\n        if (curStartY< startY) {\r\n          top = curStartY;\r\n          height = startY -curStartY;\r\n        } else {\r\n          top = startY;\r\n          height = curStartY - startY;\r\n        }\r\n        that.setElementPos(component.$el, left - canvasRect.left, top - canvasRect.top, width, height)\r\n        component.resetPositionInfo()\r\n      }\r\n      function end(event) {\r\n        if (component) {\r\n          if (component.width() < component.minWidth || component.height() < component.minHeight) {\r\n            that.removeComponent(component);\r\n          }\r\n        }\r\n        document.removeEventListener(EVENTS[1], move)\r\n        document.removeEventListener(EVENTS[2], end)\r\n      }\r\n\r\n      document.addEventListener(EVENTS[1], move)\r\n      document.addEventListener(EVENTS[2], end)\r\n    })\r\n  }\r\n\r\n  setState(state) {\r\n    this.state = state\r\n    if (state === Stage.STATE[1]) {\r\n      this.selector.selectable('option', 'disabled', false);\r\n    } else {\r\n      this.selector.selectable('option', 'disabled', true);\r\n    }\r\n\r\n    if (state === Stage.STATE[2]) {\r\n      this.$canvas.addClass('handle')\r\n      let x = this.myScroll.x\r\n      let y = this.myScroll.y\r\n      this.myScroll.destroy()\r\n      this.createIScroll(false, x, y)\r\n    } else {\r\n      this.$canvas.removeClass('handle')\r\n      let x = this.myScroll.x\r\n      let y = this.myScroll.y\r\n      this.myScroll.destroy()\r\n      this.createIScroll(true, x, y)\r\n    }\r\n\r\n  }\r\n\r\n  unselectComponent() {\r\n    if (this.curSelectedComponent) {\r\n      this.curSelectedComponent.unselect();\r\n      this.curSelectedComponent = null;\r\n    }\r\n  }\r\n\r\n  selectComponent(component) {\r\n    if (this.curSelectedComponent != null && this.curSelectedComponent != component) {\r\n      this.curSelectedComponent.unselect();\r\n    }\r\n    component.select();\r\n    this.curSelectedComponent = component;\r\n  }\r\n\r\n  setElementPos($elem, left, top, width, height) {\r\n    $elem.css('left', left + 'px')\r\n    $elem.css('top', top + 'px')\r\n    $elem.css('width', width + 'px')\r\n    $elem.css('height', height + 'px')\r\n  }\r\n\r\n  isTouch() {\r\n    return 'ontouchstart' in window;\r\n  }\r\n\r\n  getEventInfo(event) {\r\n    return this.isTouch() ? event.targetTouches[0] : event\r\n  }\r\n\r\n\r\n  removeComponent(component) {\r\n    component.remove();\r\n    // @ts-ignore\r\n    this.components.remove(component)\r\n  }\r\n\r\n  addComponent(component) {\r\n    component.mount(this);\r\n    this.components.push(component)\r\n  }\r\n\r\n  setComponentAllowOverstep(allowOverstep) {\r\n    this.components.forEach((component) => {\r\n      if (allowOverstep) {\r\n        component['drag'].option('containment', false)\r\n      } else {\r\n        component['drag'].option('containment', 'parent')\r\n      }\r\n    })\r\n  }\r\n\r\n  generateJsonCode() {\r\n    this.props.width = this.pageWidth\r\n    this.props.height = this.pageHeight\r\n    this.props.app = []\r\n    this.components.forEach((component) => {\r\n      this.props.app.push(component.getProps())\r\n    })\r\n    return JSON.stringify(this.props)\r\n  }\r\n\r\n  generateHtmlCode() {\r\n    let appsHtml = []\r\n    this.components.forEach((component) => {\r\n      appsHtml.push(component.toHtml())\r\n    })\r\n    return `<div style=\"position: relative; overflow: hidden;width: ${this.pageWidth}px; height: ${this.pageHeight}px;background: ${this.props.bgColor};\">\r\n      ${appsHtml.join('')}\r\n    </div>`\r\n  }\r\n\r\n  getRandomStr(len) {\r\n    let charArr = []\r\n    const chars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n    while (len--) {\r\n      charArr.push(chars[Math.floor(chars.length * Math.random())])\r\n    }\r\n    return charArr.join('')\r\n  }\r\n\r\n  clear() {\r\n    this.components.forEach((component) => {\r\n      component.remove()\r\n    })\r\n    this.components = []\r\n  }\r\n\r\n  loadProp(props) {\r\n    this.props = props;\r\n    let propPanel = this.propPanel\r\n    let { $el, $inputWidth, $alignSelect, $inputHeight, $allowOverstep } = propPanel\r\n    $inputWidth.val(props.width)\r\n    $inputHeight.val(props.height)\r\n    $alignSelect.val(props.position)\r\n    if (props.bgColor === 'transparent') {\r\n      this.$canvasBox.addClass('bg-trans')\r\n      this.$canvas.css('background-color', 'transparent')\r\n      $('#inputBgColor').val('').change()\r\n    } else {\r\n      this.$canvasBox.removeClass('bg-trans')\r\n      this.$canvas.css('background-color', props.bgColor)\r\n      $('#inputBgColor').val(props.bgColor).change()\r\n    }\r\n    this.$canvas.css('background-position', `${props.position}`)\r\n    this.$canvas.css('background-image',  `url(\"${props.bgImg}\")`)\r\n    if (props.overflow === 'hidden') {\r\n      $allowOverstep.removeClass('active')\r\n      this.setComponentAllowOverstep(false)\r\n    } else if (props.overflow === 'visible')  {\r\n      $allowOverstep.addClass('active')\r\n      this.setComponentAllowOverstep(true)\r\n    }\r\n    if (props.repeat === 'repeat') {\r\n      $el.find('.page-check[data-val=repeat]').addClass('active')\r\n      this.$canvas.css('background-repeat', 'repeat')\r\n    }\r\n    if (props.attachment) {\r\n      $el.find('.page-check[data-val=fixed]').addClass('active')\r\n      this.$canvas.css('background-attachment', 'fixed')\r\n    }\r\n    this.setCanvasSize(props.width, props.height)\r\n    this.loadApp(props.app)\r\n  }\r\n  loadApp(apps) {\r\n    this.clear()\r\n    apps.forEach(app => {\r\n      let component: Component = null\r\n      if (app.appType === 'xdtb') {\r\n        component = new ImgComponent\r\n      } else if (app.appType === 'xwzb') {\r\n        component = new TextComponent\r\n      } else if (app.appType === 'wangh') {\r\n        component = new WangComponent\r\n      }\r\n      component.formData = app.config\r\n      component.update(component.formData)\r\n      component.setPosition(app.pos)\r\n      this.addComponent(component)\r\n    })\r\n  }\r\n  initPorpPanel() {\r\n    let $el = $('.page-config');\r\n    let $inputWidth = $el.find('.input-width');\r\n    let $inputHeight = $el.find('.input-height');\r\n    let $inputBg = $el.find('.input-bg');\r\n    let $calcWidth = $el.find('.calc-width');\r\n    let $calcHeight = $el.find('.calc-height');\r\n    let $alignSelect = $el.find('.align-select');\r\n    let $allowOverstep = $el.find('#allowOverstep')\r\n    this.propPanel = {\r\n      $el: $el,\r\n      $inputWidth: $inputWidth,\r\n      $inputHeight: $inputHeight,\r\n      $alignSelect: $alignSelect,\r\n      $allowOverstep: $allowOverstep\r\n    }\r\n    $inputWidth.val(this.pageWidth)\r\n    $inputHeight.val(this.pageHeight)\r\n    let align = '50% 0'\r\n    let that = this;\r\n    // @ts-ignore\r\n    //颜色选择器\r\n    $(document).spectrum({\r\n      showPalette : !0,\r\n      maxSelectionSize : 18,\r\n      showInitial : !0,\r\n      preferredFormat : 'hex',\r\n      showButtons : !1,\r\n      palette: [\r\n          ['#000','#444','#666','#999','#ccc','#eee'],\r\n          ['#f00','#f90','#ff0','#0f0','#0ff','#00f'],\r\n          ['#900','#b45f06','#bf9000','#38761d','#134f5c','#0b5394']\r\n      ],\r\n      move: function(color, $input) {\r\n        let id = $input.attr('id')\r\n        if (id === 'inputBgColor' && that) {\r\n          if (!color) {\r\n            that.$canvasBox.addClass('bg-trans');\r\n            that.$canvas.css('background-color', 'transparent');\r\n            that.props.bgColor = 'transparent'\r\n          }\r\n          if (typeof color === 'object') {\r\n            let colorHex = color.toHexString()\r\n            that.$canvasBox.removeClass('bg-trans')\r\n            that.$canvas.css('background-color', colorHex + '');\r\n            that.props.bgColor = colorHex\r\n          }\r\n        }\r\n      }\r\n    }).spectrum.freshSpan();\r\n\r\n    $inputWidth.bind('input', function() {\r\n      that.pageWidth = +$(this).val();\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    });\r\n\r\n    $inputHeight.bind('input', function() {\r\n      that.pageHeight = +$(this).val();\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    });\r\n\r\n    $inputBg.bind('input', function() {\r\n      let img = $(this).val()\r\n      that.props.bgImg = img\r\n      that.$canvas.css('background-image',  `url(\"${img}\")`)\r\n    })\r\n    $alignSelect.change(function() {\r\n      let alignValue = $(this).val()\r\n      that.$canvas.css('background-position', `${alignValue}`)\r\n      that.props.position = alignValue\r\n    })\r\n\r\n    $allowOverstep.bind('click', function() {\r\n      if ($allowOverstep.hasClass('active')) {\r\n        $allowOverstep.removeClass('active')\r\n        that.props.overflow = 'hidden'\r\n        that.setComponentAllowOverstep(false)\r\n      } else {\r\n        $allowOverstep.addClass('active')\r\n        that.props.overflow = 'visible'\r\n        that.setComponentAllowOverstep(true)\r\n      }\r\n    })\r\n    $el.find('.bgImg-box .page-check').bind('click', function() {\r\n      let $this = $(this)\r\n      let val = $this.data('val')\r\n      console.log(val)\r\n      if ($this.hasClass('active')) {\r\n        $this.removeClass('active')\r\n        if (val === 'repeat') {\r\n          that.$canvas.css('background-repeat', '')\r\n          that.props.repeat = ''\r\n        }\r\n        if (val === 'fixed') {\r\n          that.$canvas.css('background-attachment', '')\r\n          that.props.attachment = ''\r\n        }\r\n\r\n      } else {\r\n        $this.addClass('active')\r\n        if (val === 'repeat') {\r\n          that.$canvas.css('background-repeat', 'repeat')\r\n          that.props.repeat = 'repeat'\r\n        }\r\n        if (val === 'fixed') {\r\n          that.$canvas.css('background-attachment', 'fixed')\r\n          that.props.attachment = 'fixed'\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","export default class Ruler {\r\n  $el: JQuery\r\n  $rulerX: JQuery\r\n  $rulerY: JQuery\r\n  $cursorPosX: JQuery\r\n  $cursorPosY: JQuery\r\n  canvasWidth: number\r\n  canvasHeight: number\r\n  paddingWidth: number\r\n  paddingHeight: number\r\n  width: number\r\n  height: number\r\n  constructor() {\r\n  }\r\n  create($ct) {\r\n    let $el = $(`\r\n      <div class=\"ruler\">\r\n        <div class=\"rulerX\">\r\n          <div>\r\n            <div class=\"cursor-pos\"><span>0</span></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"rulerY\">\r\n          <div>\r\n            <div class=\"cursor-pos\"><span>0</span></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n    let $rulerX = $el.find('.rulerX > div');\r\n    let $rulerY = $el.find('.rulerY > div');\r\n    this.$el = $el;\r\n    this.$rulerX = $rulerX;\r\n    this.$rulerY = $rulerY;\r\n    this.$cursorPosX = $rulerX.find('.cursor-pos');\r\n    this.$cursorPosY = $rulerY.find('.cursor-pos');\r\n    $ct.append(this.$el);\r\n  }\r\n  draw() {\r\n    let canvasWidth = this.canvasWidth;\r\n    let canvasHeight = this.canvasHeight;\r\n    let paddingWidth = this.paddingWidth;\r\n    let paddingHeight = this.paddingHeight;\r\n    // let paddingWidth = Math.ceil(canvasWidth / 3 / 50) * 50 * 2;\r\n    // paddingWidth = 1400;\r\n    let rulerWidth = Math.ceil(canvasWidth / 50) * 50 + paddingWidth;\r\n    // let paddingHeight = Math.ceil(canvasHeight / 3 / 50) * 50 * 2;\r\n    // paddingHeight = 700;\r\n    let rulerHeight = Math.ceil(canvasHeight / 50) * 50 + paddingHeight;\r\n\r\n    this.paddingHeight = paddingHeight;\r\n    this.paddingWidth = paddingWidth;\r\n    this.width = rulerWidth;\r\n    this.height = rulerHeight;\r\n\r\n    let initXValue = -(paddingWidth / 2);\r\n    let ruleXSpans = '';\r\n    for (let i = 0; i < rulerWidth / 50; i++) {\r\n      ruleXSpans += `<span>${Math.abs(initXValue + i * 50)}</span>`;\r\n    }\r\n\r\n    let initYValue = -(paddingHeight / 2);\r\n    let ruleYSpans = '';\r\n    for (let i = 0; i < rulerHeight / 50; i++) {\r\n      ruleYSpans += `<span>${Math.abs(initYValue + i * 50)}</span>`;\r\n    }\r\n    this.$rulerX.append(ruleXSpans)\r\n    this.$rulerX.width(rulerWidth)\r\n\r\n    this.$rulerY.append(ruleYSpans)\r\n    this.$rulerY.height(rulerHeight)\r\n  }\r\n\r\n  update(canvasWidth, canvasHeight, paddingWidth, paddingHeight) {\r\n    this.canvasWidth = canvasWidth;\r\n    this.canvasHeight = canvasHeight;\r\n    this.paddingWidth = paddingWidth;\r\n    this.paddingHeight = paddingHeight;\r\n    this.$rulerX.find('> span').remove();\r\n    this.$rulerY.find('> span').remove();\r\n    this.draw();\r\n  }\r\n\r\n  showCursor() {\r\n    this.$cursorPosX.show();\r\n    this.$cursorPosY.show();\r\n  }\r\n  hideCursor() {\r\n    this.$cursorPosX.hide();\r\n    this.$cursorPosY.hide();\r\n  }\r\n\r\n  setCursorPos(x, y) {\r\n    this.$cursorPosX.css('left', (this.paddingWidth / 2 + x) + 'px')\r\n    this.$cursorPosY.css('top', (this.paddingHeight / 2 + y) + 'px')\r\n    this.$cursorPosX.find('span').text(Math.ceil(x))\r\n    this.$cursorPosY.find('span').text(Math.ceil(y))\r\n  }\r\n\r\n  setX(x) {\r\n    this.$rulerX.css('left', x + 'px')\r\n  }\r\n\r\n  setY(y) {\r\n    this.$rulerY.css('top', y + 'px')\r\n  }\r\n}\r\n\r\n","import Component from './Component';\r\nexport default class HotAreaComponent extends Component {\r\n  constructor() {\r\n    super('hotarea-component')\r\n    let content = `\r\n        <div class=\"hot-area-box\"></div>\r\n      `\r\n    this.$contentBox.append(content)\r\n\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'\r\n    this.formData.wangID = ''\r\n  }\r\n  onLinkModeChanged($boxElem, linkMode) {\r\n    let $wangBox = $boxElem.find('.wang-box')\r\n    let $linkBox = $boxElem.find('.link-box')\r\n    if (linkMode === 'urlink') {\r\n      $wangBox.hide()\r\n      $linkBox.show()\r\n    } else if (linkMode === 'wwlink') {\r\n      $linkBox.hide()\r\n      $wangBox.show()\r\n    }\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xrq',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n  toHtml() {\r\n    return ''\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    this.onLinkModeChanged($propPanel, this.formData.linkMode)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n  }\r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.area-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    this.updatePropPanel()\r\n\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.linkMode = val\r\n      that.onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.href = val\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.hrefMode = val ? '_blank' : ''\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.wangID = val\r\n    })\r\n  }\r\n  openEditDialog() {\r\n\r\n  }\r\n  update(formData) {\r\n\r\n  }\r\n}\r\n","module.exports = \"../assets/wang2.gif\";","module.exports = \"../assets/wang1.gif\";","import ImgComponent from './ImgComponent'\r\nimport TextComponent from './TextComponent'\r\nimport StageContainer from './StageContainer';\r\nimport Stage from './Stage';\r\nimport WangComponent from './WangComponent';\r\nexport default class ComponentBar {\r\n  stageCt: StageContainer\r\n  $el: JQuery\r\n  constructor(stageCt) {\r\n    this.stageCt = stageCt;\r\n    let $el = $('.component-bar');\r\n    this.$el = $el;\r\n    let curStage: Stage = stageCt.curStage\r\n    $el.find('li').bind('mousedown', function(event) {\r\n      let name = $(this).data('name')\r\n      let component = null;\r\n      let initX = Math.abs(curStage.myScroll.x) - curStage.paddingWidth / 2\r\n      let initY = Math.abs(curStage.myScroll.y) - curStage.paddingHeight / 2\r\n      if (name === 'img-component') {\r\n        component = new ImgComponent();\r\n      } else if (name === 'text-component') {\r\n        component = new TextComponent();\r\n      } else if (name === 'wang-component') {\r\n        component = new WangComponent();\r\n      }\r\n      component.$el.css('left', Math.max(initX, 0) + 'px')\r\n      component.$el.css('top', Math.max(initY, 0) + 'px')\r\n      curStage.addComponent(component)\r\n      curStage.selectComponent(component)\r\n    })\r\n  }\r\n}\r\n","import StageContainer from \"./StageContainer\";\r\n\r\nexport default class Header {\r\n  $el: JQuery\r\n  stageCt: StageContainer\r\n  constructor(stageCt: StageContainer) {\r\n    this.stageCt = stageCt\r\n    this.$el = $('.header')\r\n    let that = this;\r\n    this.$el.find('.export-btn').bind('click', function() {\r\n      that.openExportDialog()\r\n    })\r\n    this.$el.find('.import-btn').bind('click', function() {\r\n      that.openImportDialog()\r\n    })\r\n    this.$el.find('.preview-btn').bind('click', function() {\r\n      let previewWin = window.open('')\r\n      let url = window.location.href\r\n      previewWin.document.write(`<html><head><title></title><link rel=\"stylesheet\" type=\"text/css\" href=\"${url}css/common.css\"></head><body>`);\r\n      previewWin.document.write(that.stageCt.curStage.generateHtmlCode());\r\n      previewWin.document.write('</body></html>');\r\n      previewWin.focus()\r\n      previewWin.document.title = '预览'\r\n    })\r\n\r\n  }\r\n\r\n  generateJsonCode() {\r\n    let curStage = this.stageCt.curStage\r\n  }\r\n\r\n  openImportDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '导入代码',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '550px'],\r\n      success: function(layerElem, index) {\r\n        let $layerElem = $(layerElem)\r\n        let $jsonTextArea = $layerElem.find('#jsonTextArea')\r\n        $layerElem.find('.confirm-btn').bind('click', function() {\r\n          let jsonStr = $jsonTextArea.val().toString()\r\n          let jsonObj = JSON.parse(jsonStr)\r\n          that.stageCt.curStage.loadProp(jsonObj)\r\n          layer.close(index)\r\n        })\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `\r\n        <div class=\"codegen\" style=\"padding: 15px 10px\">\r\n          <div class=\"layui-tab\">\r\n            <ul class=\"layui-tab-title\" style=\"font-size: 12px\">\r\n              <li style=\"font-size: 12px\" class=\"layui-this\">覆盖导入</li>\r\n              <li style=\"font-size: 12px\">追加导入</li>\r\n            </ul>\r\n            <div class=\"layui-tab-content\">\r\n              <div class=\"layui-tab-item layui-show\">\r\n                <textarea id=\"jsonTextArea\"style=\"float:left;width:100%;height:320px;\" spellcheck=\"false\"></textarea>\r\n              </div>\r\n              <div class=\"layui-tab-item\">\r\n                <textarea id=\"htmlTextArea\"style=\"float:left;width:100%;height:320px;\" spellcheck=\"false\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"layui-form-item\" style=\"margin-top:15px;\">\r\n            <div class=\"layui-ft-btn\" style=\"text-align:center;padding-top: 20px\">\r\n              <button class=\"layui-btn confirm-btn\">确定</button>\r\n              <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n            </div>\r\n          </div>\r\n        </div>`\r\n    });\r\n\r\n  }\r\n\r\n  openExportDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '生成代码',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '550px'],\r\n      success: function(layerElem, index) {\r\n        let $layerElem = $(layerElem)\r\n        let $jsonTextArea = $layerElem.find('#jsonTextArea')\r\n        let $htmlTextArea = $layerElem.find('#htmlTextArea')\r\n        $jsonTextArea.val(that.stageCt.curStage.generateJsonCode())\r\n        $htmlTextArea.val(that.stageCt.curStage.generateHtmlCode())\r\n        $layerElem.find('.page-width').val(that.stageCt.curStage.pageWidth)\r\n        $layerElem.find('.page-height').val(that.stageCt.curStage.pageHeight)\r\n      },\r\n      content: `\r\n        <div class=\"codegen\" style=\"padding: 15px 10px\">\r\n          <div class=\"codegen-head\">\r\n            <ul>\r\n              <li>\r\n                <label><span style=\"margin-left:10px;\">当前模块宽</span>&nbsp;</label>\r\n                <input class=\"page-width\" style=\"width:40px;\" type=\"text\" spellcheck=\"false\">\r\n                <label>&nbsp;&nbsp;高&nbsp;</label>\r\n                <input class=\"page-height\" style=\"width:40px;\" type=\"text\" spellcheck=\"false\">\r\n                <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当内容超出模块范围时：&nbsp;</label>\r\n                <div id=\"rm_o1\">\r\n                  <input class=\"cfgl-rr\" type=\"radio\" id=\"m_o2\" name=\"overflowMode\" value=\"visible\" spellcheck=\"false\">\r\n                  <label class=\"cfgl-radio cfgl-radio-checked\" for=\"m_o2\" title=\"\" style=\"border-right:none;border-radius:2px 0 0 2px;\">显示</label>\r\n                  <input class=\"cfgl-rr\" type=\"radio\" id=\"m_o1\" name=\"overflowMode\" checked=\"checked\" value=\"hidden\" spellcheck=\"false\">\r\n                  <label class=\"cfgl-radio\" for=\"m_o1\" title=\"\" style=\"border-left:none;border-radius:0 2px 2px 0;\">裁掉</label>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"layui-tab\">\r\n            <ul class=\"layui-tab-title\" style=\"font-size: 12px\">\r\n              <li style=\"font-size: 12px\" class=\"layui-this\">JSON代码</li>\r\n              <li style=\"font-size: 12px\">HTML代码</li>\r\n            </ul>\r\n            <div class=\"layui-tab-content\">\r\n              <div class=\"layui-tab-item layui-show\">\r\n                <textarea id=\"jsonTextArea\"style=\"float:left;width:100%;height:320px;\" readonly spellcheck=\"false\"></textarea>\r\n              </div>\r\n              <div class=\"layui-tab-item\">\r\n                <textarea id=\"htmlTextArea\"style=\"float:left;width:100%;height:320px;\" readonly spellcheck=\"false\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>`\r\n    });\r\n  }\r\n}\r\n","import ToolConfig from './ToolConfig'\r\nimport StageContainer from './StageContainer';\r\nexport default class Toolbar {\r\n  $el: JQuery\r\n  stageCt: StageContainer\r\n  constructor(stageCt) {\r\n    this.stageCt = stageCt\r\n    let $settingBar = $('.setting-bar')\r\n    let $pageConfig = $settingBar.find('.page-config')\r\n    let $assistConfig = $settingBar.find('.assist-config')\r\n    let $magnetConfig = $settingBar.find('.magnet-config')\r\n    let $curSetting = $pageConfig\r\n    let $el = $('.toolbar')\r\n    let $curItem = $el.find('.group3.active')\r\n    let $curItemOfGroup1 = $el.find('.group1.active')\r\n    this.$el = $el\r\n    let that = this\r\n    $el.find('li').bind('click', function(event) {\r\n      let $this = $(this)\r\n      let name = $this.data('name')\r\n      if (name === 'draggable') {\r\n        ToolConfig.draggable = !ToolConfig.draggable\r\n        let $icon = $this.find('icon')\r\n        if (ToolConfig.draggable) {\r\n          $icon.text('ꑸ')\r\n          $icon.removeClass('color0')\r\n          $icon.addClass('color1')\r\n        } else {\r\n          $icon.text('ꑹ')\r\n          $icon.removeClass('color1')\r\n          $icon.addClass('color0')\r\n        }\r\n      } else if (name === 'assist' || name === 'magnet' || name === 'page') {\r\n        let $setting = $(`.${name}-config`)\r\n        if (!$curSetting.is($setting)) {\r\n          $curSetting.hide()\r\n          $curSetting = $setting\r\n          $curSetting.show()\r\n          $curItem.removeClass('active')\r\n          $this.addClass('active')\r\n          $curItem = $this\r\n        }\r\n      } else if (name === 'hotarea' || name === 'selection' || name === 'handle') {\r\n        if ($this !== $curItemOfGroup1) {\r\n          $curItemOfGroup1.removeClass('active')\r\n          $this.addClass('active')\r\n          $curItemOfGroup1 = $this\r\n          that.stageCt.curStage.setState(name)\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","export default class ToolConfig {\r\n  static draggable: boolean = true\r\n}\r\n"],"sourceRoot":""}