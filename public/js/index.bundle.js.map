{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Component.ts","webpack:///./src/Draggable.ts","webpack:///./src/ImgComponent.ts","webpack:///./src/TextComponent.ts","webpack:///./src/WangComponent.ts","webpack:///./src/index.ts","webpack:///./src/common.js","webpack:///./src/StageContainer.ts","webpack:///./src/Stage.ts","webpack:///./src/Ruler.ts","webpack:///./src/HotAreaComponent.ts","webpack:///./src/assets/wang2.gif","webpack:///./src/assets/wang1.gif","webpack:///./src/History.ts","webpack:///./src/ComponentBar.ts","webpack:///./src/Header.ts","webpack:///./src/ToolBar.ts","webpack:///./src/ToolConfig.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","width","this","drag","$el","offsetWidth","height","offsetHeight","setContent","content","$contentBox","append","remove","select","selected","addClass","resetPositionInfo","initPorpPanel","showToolbar","$topBar","show","$bottomBar","left","style","top","$inputX","val","parseInt","$inputY","$inputWidth","$inputHeight","setPosition","w","h","css","unselect","hide","removeClass","mount","stage","id","getRandomStr","$canvas","enableResize","resizable","classes","handles","resize","minWidth","minHeight","handle","containment","snap","onDrag","onResize","on","event","selectComponent","find","stopPropagation","removeComponent","prop","k","props","formData","isLockedPos","$","that","openEditDialog","dblclick","x","y","$this","attr","enable","disable","init","opt","document","querySelector","position","classArr","dragRef","className","split","push","join","option","axis","snapAnchor","snapLineColor","snapTolerance","resizeTolerance","cursor","snapLine","snapDist","minLeft","minTop","setupEvent","offsetParent","isTouch","window","cancelBubble","getEventInfo","targetTouches","checkResize","elem","rect","getBoundingClientRect","resizeFlags","right","bottom","darg","windowWidth","windowHeight","_this","EVENTS","diffX","diffY","elemWidth","elemHeight","parentWidth","parentHeight","eventInfo","move","clientX","clientY","doSnap","isDragging","offsetLeft","offsetTop","documentElement","clientWidth","clientHeight","addEventListener","end","removeEventListener","onStop","clearSnapLine","startX","startY","originHeight","originWidth","getStyle","originTop","originLeft","isResizing","resizeN","resizeE","resizeS","resizeW","resizeFlag","start","preventDefault","onStart","disabled","el","styleProp","getComputedStyle","defaultView","getPropertyValue","currentStyle","getClientRect","elemRect","$parent","clientRect","leftBorderWidth","topBorderWidth","parentRect","isSnap","srcValue","destValue","Math","abs","Array","apply","querySelectorAll","forEach","item","removeChild","createDistText","flag","dragElemRect","snapElemRect","itemWidthHalf","itemHeightHalf","dragWidthHalf","dragHeightHalf","textBox","createElement","textAlign","text","distance","background","borderRadius","lineHeight","padding","fontSize","color","userSelect","appendChild","snapFlags","round","paddingBottom","innerText","marginTop","showSnapLine","snapLineSize","snapDrag","lineRect","line","lineWidth","zIndex","distText","dragElem","snapElems","slice","length","snapInfos","itemElem","snapInfo","dragValue","pos","onSnap","toHtml","img","bgImg","imgMode","$img","outerHTML","href","hrefMode","initFormData","bgColor","appLabel","linkMode","tipText","animType","bgImgSize","animSpeed","animRange","wangID","bdRadius","bdStyle","$content","onLinkModeChanged","$layerElem","$wangBox","$linkBox","onTongBuBd","$isVal","$bdWidthVal","$bdStyleVal","$bdColorVal","$mbdColorInput","prev","$bdTCheckBox","$mbdTCheckBox","$bdTVal","is","$bdBCheckBox","$mbdBCheckBox","$bdBVal","$bdLCheckBox","$mbdLCheckBox","$bdLVal","$bdRCheckBox","$mbdRCheckBox","$bdRVal","mbdT","mbdB","mbdL","mbdR","mbdWidth","mbdColor","mbdStyle","layer","layui","layerNo","open","type","title","skin","area","success","layerElem","index","bdColor","close","form","msg","time","btn","yes","render","data","console","log","field","update","updatePropPanel","bdT","bdWidth","bdB","bdL","bdR","$propPanel","$bgImgSizeCheckBox","filter","$hrefModeCheckBox","$bdColorInput","$bdTRadio","$bdBRadio","$bdLRadio","$bdRRadio","off","element","$bgImgInput","change","getProps","config","appID","family","fSize","lHeight","spacing","indent","weight","fStyle","oLine","through","uLine","align","bgRep","bgPos","bRadius","hoverMode","mfamily","mfSize","mcolor","mbgColor","mlHeight","mspacing","mindent","mweight","mfStyle","moLine","mthrough","muLine","malign","mcontent","mbgImg","mbgRep","mbgPos","mTsDur","mTsFun","mTsAnt","mbdTsDur","mbdTsFun","mbdTsAnt","onTongBu","$familyVal","$colorVal","$mcolorInput","$bgColorVal","$mbgColorInput","$fSizeVal","$lHeightVal","$spacingVal","$indentVal","$alignRadioActive","$malignRadio","$alignVal","$weightVal","$mweightInput","parent","$fStyleVal","$mfStyleInput","$oLineVal","$moLineInput","$throughVal","$mthroughInput","$uLineVal","$muLineInput","updatePreviewStyle","$objElem","$defElem","hasClass","isfontF","deline","getFontActive","$elemInput","$attrName","toLowerCase","substr","click","$alignParent","mthat","$defPanel","$offPanel","_mTsAntAttr","offline","$_mTsAnt","before","after","isDefBk","$textPanel","$alPanel","mbdTsAntVal","mbdTsFunVal","mbdTsDurVal","$mlPanel","$ltPanel","$lbPanel","$llPanel","$lrPanel","$colorInput","$bgColorInput","$weightInput","$fStyleInput","$oLineInput","$throughInput","$uLineInput","wangMode","eName","nameMl","nameMt","$cphoto","$spanName","lineImg","$wangImg","stageCt","createStage","indexOf","splice","familyOption","html","josnArry","css3MoveMode","optionJson","curStage","stages","$stageCt","$canvasWrap","$scrollContent","ruler","canvasWidth","pageWidth","canvasHeight","pageHeight","paddingWidth","ceil","paddingHeight","isRuler","$canvasBox","createIScroll","layoutCanvas","$rulerX","$rulerY","$guideLine","children","selector","selectable","recordOps","checkStore","autoStore","disableMouse","myScroll","IScroll","scrollX","freeScroll","probeType","scrollbars","mouseWheel","interactiveScrollbars","disablePointer","disableTouch","setX","setY","marginLeft","scrollContentWidth","scrollContentHeight","scrollTo","refresh","setCanvasSize","stageElem","canvasElem","canvasRect","setCursorPos","showCursor","hideCursor","target","unselectComponent","state","Stage","STATE","component","curSelectedComponent","addComponent","curStartX","curStartY","setElementPos","setState","destroy","$elem","components","setComponentAllowOverstep","allowOverstep","generateJsonCode","app","JSON","stringify","generateHtmlCode","appsHtml","localStorage","getItem","confirm","icon","idx","jsonObj","parse","loadProp","setInterval","jsonCode","setItem","history","add","backOps","back","forwardOps","forward","len","charArr","chars","floor","random","clear","propPanel","$alignSelect","$allowOverstep","overflow","repeat","attachment","loadApp","apps","appType","$inputBg","spectrum","showPalette","maxSelectionSize","showInitial","preferredFormat","showButtons","palette","$input","colorHex","toHexString","freshSpan","alignValue","drags","$ct","$cursorPosX","$cursorPosY","draw","rulerWidth","rulerHeight","initXValue","ruleXSpans","initYValue","ruleYSpans","$boxElem","curIndex","hasForward","hasBack","initX","initY","max","openImportDialog","$jsonTextArea","jsonStr","toString","openExportDialog","$htmlTextArea","previewWin","url","location","write","focus","$settingBar","$pageConfig","$curSetting","$curItem","$curItemOfGroup1","draggable","$icon","$setting","ToolConfig"],"mappings":"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M,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KA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","file":"js/index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","import Draggable from './Draggable';\r\nimport Stage from './Stage';\r\nexport default abstract class Component {\r\n  $contentBox: JQuery\r\n  $el: JQuery\r\n  $topBar: JQuery\r\n  $bottomBar: JQuery\r\n  minWidth: number\r\n  minHeight: number\r\n  $inputX: JQuery\r\n  $inputY: JQuery\r\n  $inputWidth: JQuery\r\n  $inputHeight: JQuery\r\n  $propPanel: JQuery\r\n  drag: Draggable\r\n  stage: Stage\r\n  props: any = {}\r\n  formData: any = {}\r\n  name: string\r\n  id: string\r\n  isLockedPos: boolean = false\r\n  enableResize: boolean = true\r\n  selected: boolean = false\r\n  constructor(name = '', prop = {}) {\r\n    this.name = name;\r\n    for (let k in prop) {\r\n      this[k] = prop[k]\r\n    }\r\n    let $el = $(`\r\n      <div class=\"component-box\">\r\n        <div class=\"top-bar\">\r\n          <span class=\"setting\" title=\"编辑\"></span>\r\n          <span class=\"lock\" title=\"锁定位置\"></span>\r\n          <span class=\"delete\" title=\"删除\"></span>\r\n        </div>\r\n        <div class=\"content-box\">\r\n        </div>\r\n        <div class=\"bottom-bar\">\r\n          <span>X:<input type=\"text\" value=\"0\"></span>\r\n          <span>Y:<input type=\"text\" value=\"0\"></span>\r\n          ${this.enableResize ? '<span>宽:<input type=\"text\" value=\"0\"></span><span>高:<input type=\"text\" value=\"0\"></span>' : ''}\r\n          <span class=\"confirm\">确定</span>\r\n        </div>\r\n      </div>\r\n    `);\r\n    this.$contentBox = $el.find('.content-box');\r\n    if (name) {\r\n      $el.addClass(name)\r\n    }\r\n    this.$el = $el;\r\n    this.$topBar = $el.find('.top-bar');\r\n    this.$bottomBar = $el.find('.bottom-bar');\r\n    this.minWidth = 24;\r\n    this.minHeight = 24;\r\n\r\n    this.$inputX = this.$bottomBar.find('span:nth-child(1) input');\r\n    this.$inputY = this.$bottomBar.find('span:nth-child(2) input');\r\n    this.$inputWidth = this.$bottomBar.find('span:nth-child(3) input');\r\n    this.$inputHeight = this.$bottomBar.find('span:nth-child(4) input');\r\n\r\n    let that = this;\r\n    this.$topBar.find('.setting').bind('click', function() {\r\n      that.openEditDialog();\r\n    })\r\n    this.$contentBox.dblclick(function() {\r\n      that.openEditDialog();\r\n    })\r\n\r\n    this.$bottomBar.find('.confirm').bind('click', function() {\r\n      let x = that.$inputX.val()\r\n      let y = that.$inputY.val()\r\n      let width = that.$inputWidth.val()\r\n      let height = that.$inputHeight.val()\r\n      that.setPosition({\r\n        w: width,\r\n        h: height,\r\n        l: x,\r\n        t: y\r\n      })\r\n    })\r\n\r\n    this.$topBar.find('span:nth-child(2)').bind('click', function() {\r\n      let $this = $(this)\r\n      if (that.isLockedPos) {\r\n        that.isLockedPos = false\r\n        $this.removeClass('unlock')\r\n        $this.addClass('lock')\r\n        $this.attr('title', '锁定位置')\r\n        that.drag.enable()\r\n      } else {\r\n        that.isLockedPos = true\r\n        $this.removeClass('lock')\r\n        $this.addClass('unlock')\r\n        $this.attr('title', '解除锁定')\r\n        that.drag.disable()\r\n      }\r\n    })\r\n  }\r\n\r\n  width() {\r\n    return this.drag.$el.offsetWidth;\r\n  }\r\n\r\n  height() {\r\n    return this.drag.$el.offsetHeight;\r\n  }\r\n\r\n  setContent(content) {\r\n    this.$contentBox.append(content)\r\n  }\r\n\r\n  remove() {\r\n    this.$el.remove();\r\n  }\r\n\r\n  abstract getProps() : object;\r\n  abstract toHtml() : string;\r\n  abstract openEditDialog(): void\r\n  abstract update(formData: any): void\r\n  abstract initPorpPanel(): void\r\n  select() {\r\n    if (this.selected) {\r\n      return\r\n    }\r\n    this.$contentBox.addClass('selected');\r\n    this.selected = true\r\n    this.resetPositionInfo();\r\n    this.initPorpPanel()\r\n  }\r\n\r\n  showToolbar() {\r\n    this.$topBar.show();\r\n    this.$bottomBar.show();\r\n  }\r\n\r\n  resetPositionInfo() {\r\n    let left = this.drag.$el.style.left;\r\n    let top = this.drag.$el.style.top;\r\n    this.$inputX.val(parseInt(left ? left : 0));\r\n    this.$inputY.val(parseInt(top ? top : 0));\r\n    this.$inputWidth.val(this.width());\r\n    this.$inputHeight.val(this.height());\r\n  }\r\n\r\n  setPosition({ l, t, w, h }) {\r\n    this.$el.width(w)\r\n    this.$el.height(h)\r\n    this.$el.css('left', l + 'px')\r\n    this.$el.css('top', t + 'px')\r\n  }\r\n\r\n  unselect() {\r\n    this.$topBar.hide();\r\n    this.$bottomBar.hide();\r\n    this.$contentBox.removeClass('selected')\r\n    this.selected = false\r\n  }\r\n\r\n  mount(stage: Stage) {\r\n    this.stage = stage;\r\n    this.id = stage.getRandomStr(4)\r\n    let $canvas = stage.$canvas;\r\n    $canvas.append(this.$el)\r\n    if (this.enableResize) {\r\n      // @ts-ignore\r\n      this.$el.resizable({\r\n        // containment: $canvas[0],\r\n        classes: {\r\n          'ui-resizable-se': '',\r\n        },\r\n        handles: 'all',\r\n        resize: () => {\r\n          this.resetPositionInfo();\r\n        }\r\n      })\r\n    }\r\n\r\n    let drag = new Draggable(this.$el[0], {\r\n      minWidth: this.minWidth,\r\n      minHeight: this.minHeight,\r\n      handle: this.$contentBox[0],\r\n      containment: $canvas[0],\r\n      resizable: false,\r\n      snap: true\r\n    })\r\n    this.drag = drag;\r\n    drag.onDrag = () => {\r\n      this.resetPositionInfo();\r\n    }\r\n    drag.onResize = () => {\r\n      this.resetPositionInfo();\r\n    }\r\n    this.$contentBox.on('mousedown',  (event) => {\r\n      stage.selectComponent(this);\r\n      this.showToolbar()\r\n    });\r\n\r\n    this.$topBar.find('.delete').on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n      stage.removeComponent(this)\r\n    })\r\n\r\n    this.$topBar.on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n    })\r\n    this.$bottomBar.on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n    })\r\n\r\n    // this.$el.on('mouseenter', (event) => {\r\n    //   if (this.selected) {\r\n    //     this.showToolbar()\r\n    //   }\r\n    // })\r\n\r\n    // this.$el.on('mouseleave', (event) => {\r\n    //   if (this.selected) {\r\n    //     this.$topBar.hide();\r\n    //     this.$bottomBar.hide();\r\n    //   }\r\n    // })\r\n  }\r\n\r\n\r\n}\r\n","export default class Draggable {\r\n  EVENTS: Array<string> = []\r\n  resizeFlags = [\r\n    'n-resize', 'e-resize', 's-resize', 'w-resize',\r\n    'ne-resize', 'nw-resize', 'se-resize', 'sw-resize'\r\n  ]\r\n  snapFlags = [\r\n    'top_tt', 'top_bt', 'top_cc','top_bb', 'top_tb',\r\n    'left_ll', 'left_rl', 'left_cc', 'left_rr', 'left_lr',\r\n    'top_tc', 'top_bc', 'left_lc', 'left_rc'\r\n  ]\r\n  resizeFlag: string\r\n  $el: any\r\n  isDragging: boolean = false\r\n  onStart: Function\r\n  onStop: Function\r\n  onResize: Function\r\n  onSnap: Function\r\n  onDrag: Function\r\n  isResizing: boolean = false\r\n  cursor: string = 'move'\r\n  containment: any = null\r\n  disabled: boolean = false\r\n  handle: any = null\r\n  snapTolerance: number = 10\r\n  snap: any = false\r\n  snapLineColor: string = '#FF4AFF'\r\n  snapLineSize: number = 1\r\n  snapAnchor: any = null\r\n  snapLine: boolean = true\r\n  snapDist: boolean = true\r\n  axis: any = false\r\n  minLeft: number = 0\r\n  minTop: number = 0\r\n  resizable: boolean = false\r\n  resizeTolerance: number = 5\r\n  minWidth: number = 24\r\n  minHeight: number = 24\r\n\r\n  constructor(el: any, opt = {}) {\r\n    this.$el = el\r\n    this.EVENTS = this.isTouch() ?\r\n      ['touchstart', 'touchmove', 'touchend'] : ['mousedown', 'mousemove', 'mouseup']\r\n    this.init(opt)\r\n  }\r\n\r\n  init(opt) {\r\n    if (typeof this.$el === 'string') {\r\n      this.$el = document.querySelector(this.$el)\r\n    }\r\n    this.$el.style.position = 'absolute'\r\n    this.$el.dragRef = this\r\n    let classArr = this.$el.className.split(' ');\r\n    classArr.push('draggable')\r\n    this.$el.className = classArr.join(' ')\r\n\r\n    this.option('containment', opt.containment)\r\n    this.option('handle', opt.handle)\r\n    this.option('snap', opt.snap)\r\n    this.option('axis', opt.axis)\r\n    this.option('snapAnchor', opt.snapAnchor)\r\n    this.option('snapLineColor', opt.snapLineColor)\r\n    this.option('snapTolerance', opt.snapTolerance)\r\n    this.option('resizeTolerance', opt.resizeTolerance)\r\n    this.option('cursor', opt.cursor)\r\n    this.option('snapLine', opt.snapLine)\r\n    this.option('snapDist', opt.snapDist)\r\n    this.option('resizable', opt.resizable)\r\n    this.option('minWidth', opt.minWidth)\r\n    this.option('minHeight', opt.minHeight)\r\n    this.option('minLeft', opt.minLeft)\r\n    this.option('minTop', opt.minTop)\r\n\r\n    this.setupEvent()\r\n  }\r\n\r\n  option(prop: string, val: any) {\r\n    if (prop === 'containment') {\r\n      if (typeof val !== 'undefined') {\r\n        if (val === 'parent') {\r\n          this.containment = this.$el.offsetParent\r\n        } else {\r\n          this.containment = val\r\n        }\r\n      }\r\n    } else if (prop === 'handle') {\r\n      if (typeof val === 'undefined') {\r\n        this.handle = this.$el\r\n      } else {\r\n        if (typeof val === 'string') {\r\n          this.handle = document.querySelector(val)\r\n        } else {\r\n          this.handle = val\r\n        }\r\n      }\r\n    } else {\r\n      if (typeof val !== 'undefined') {\r\n        this[prop] = val\r\n      }\r\n    }\r\n  }\r\n\r\n  isTouch() {\r\n    return 'ontouchstart' in window\r\n  }\r\n\r\n  stopPropagation(event) {\r\n    window.event? window.event.cancelBubble = true : event.stopPropagation()\r\n  }\r\n\r\n  getEventInfo(event) {\r\n    return this.isTouch() ? event.targetTouches[0] : event\r\n  }\r\n\r\n  checkResize(elem, x, y) {\r\n    let rect = elem.getBoundingClientRect()\r\n    let resizeTolerance = this.resizeTolerance\r\n    let resizeFlags = this.resizeFlags\r\n    if ((x >= rect.right - resizeTolerance && x <= rect.right) &&\r\n      (y >= rect.top && y <= rect.top + resizeTolerance)) {\r\n      return resizeFlags[4]\r\n    }\r\n    else if ((x >= rect.left && x <= rect.left + resizeTolerance) &&\r\n      (y >= rect.top && y <= rect.top + resizeTolerance)) {\r\n      return resizeFlags[5]\r\n    }\r\n    else if ((x >= rect.right - resizeTolerance && x <= rect.right) &&\r\n      (y >= rect.bottom - resizeTolerance && y <= rect.bottom)) {\r\n      return resizeFlags[6]\r\n    }\r\n    else if ((x >= rect.left && x <= rect.left + resizeTolerance) &&\r\n      (y >= rect.bottom - resizeTolerance && y <= rect.bottom)) {\r\n      return resizeFlags[7]\r\n    }\r\n    else if (y >= rect.top && y <= rect.top + resizeTolerance) {\r\n      return resizeFlags[0]\r\n    }\r\n    else if (x >= rect.right - resizeTolerance && x <= rect.right) {\r\n      return resizeFlags[1]\r\n    }\r\n    else if (y >= rect.bottom - resizeTolerance && y <= rect.bottom) {\r\n      return resizeFlags[2]\r\n    }\r\n    else if (x >= rect.left && x <= rect.left + resizeTolerance) {\r\n      return resizeFlags[3]\r\n    }\r\n    return null\r\n  }\r\n\r\n  darg(event) {\r\n    let _this = this\r\n    const EVENTS = this.EVENTS\r\n    let diffX = 0, diffY = 0\r\n    let elemWidth = 0, elemHeight = 0\r\n    let windowWidth = 0, windowHeight = 0, parentWidth = 0, parentHeight = 0\r\n    let eventInfo = _this.getEventInfo(event)\r\n    _this.isDragging = true\r\n    diffX = eventInfo.clientX - _this.$el.offsetLeft\r\n    diffY = eventInfo.clientY - _this.$el.offsetTop\r\n    elemWidth = _this.$el.offsetWidth\r\n    elemHeight = _this.$el.offsetHeight\r\n    windowWidth = document.documentElement.clientWidth\r\n    windowHeight = document.documentElement.clientHeight\r\n    parentWidth = this.containment ? this.containment.clientWidth : windowWidth\r\n    parentHeight = this.containment ? this.containment.clientHeight : windowHeight\r\n    document.addEventListener(EVENTS[1], move)\r\n    document.addEventListener(EVENTS[2], end)\r\n    function move(event) {\r\n      let eventInfo = _this.getEventInfo(event)\r\n      let left = eventInfo.clientX - diffX\r\n      let top = eventInfo.clientY - diffY\r\n      let minLeft = _this.minLeft\r\n      let minTop = _this.minTop\r\n      if (_this.containment) {\r\n        if (left < minLeft) {\r\n          left = minLeft\r\n        }\r\n        if (top < minTop) {\r\n          top = minTop\r\n        }\r\n        if (left + elemWidth > parentWidth) {\r\n          left = parentWidth - elemWidth\r\n        }\r\n        if (top + elemHeight > parentHeight) {\r\n          top = parentHeight - elemHeight\r\n        }\r\n      }\r\n\r\n      if (_this.axis !== 'y') {\r\n        _this.$el.style.left = `${left}px`\r\n      }\r\n\r\n      if (_this.axis !== 'x') {\r\n        _this.$el.style.top = `${top}px`\r\n      }\r\n\r\n      if (_this.snap) {\r\n        _this.doSnap()\r\n      }\r\n      if (_this.onDrag) _this.onDrag(eventInfo)\r\n    }\r\n    function end(event) {\r\n      let eventInfo = _this.getEventInfo(event)\r\n      _this.isDragging = false\r\n      document.removeEventListener(EVENTS[1], move)\r\n      document.removeEventListener(EVENTS[2], end)\r\n      if (_this.onStop) _this.onStop(eventInfo)\r\n      _this.clearSnapLine()\r\n    }\r\n  }\r\n\r\n  resize(event) {\r\n    const EVENTS = this.EVENTS\r\n    let that = this\r\n    event = this.getEventInfo(event)\r\n    let startX = event.clientX\r\n    let startY = event.clientY\r\n    let height = this.$el.offsetHeight\r\n    let width = this.$el.offsetWidth\r\n    let originHeight = height, originWidth = width\r\n    let top = parseInt(this.getStyle(this.$el, 'top'))\r\n    let left = parseInt(this.getStyle(this.$el, 'left'))\r\n    let originTop = top\r\n    let originLeft = left\r\n    this.isResizing = true\r\n    let windowWidth = document.documentElement.clientWidth\r\n    let windowHeight = document.documentElement.clientHeight\r\n    let parentWidth = this.containment ? this.containment.clientWidth : windowWidth\r\n    let parentHeight = this.containment ? this.containment.clientHeight : windowHeight\r\n    let minWidth = this.minWidth\r\n    let minHeight = this.minHeight\r\n    function resizeN(event) {\r\n      let d = event.clientY - startY\r\n      height -= d\r\n      if (height < minHeight) {\r\n        height = minHeight\r\n      }\r\n      if (height > originTop + originHeight) {\r\n        height = originTop + originHeight\r\n      }\r\n      top += d\r\n      if (top < 0) {\r\n        top = 0\r\n      }\r\n      if(top > originTop + (originHeight - minHeight)) {\r\n        top = originTop + (originHeight - minHeight)\r\n      }\r\n      that.$el.style.top = top + 'px'\r\n      that.$el.style.height = height + 'px'\r\n    }\r\n\r\n    function resizeE(event) {\r\n      width += event.clientX - startX\r\n      if (width < minWidth) {\r\n        width = minWidth\r\n      }\r\n      if (width > parentWidth - originLeft) {\r\n        width = parentWidth - originLeft\r\n      }\r\n      that.$el.style.width = width + 'px'\r\n    }\r\n    function resizeS(event) {\r\n      height += event.clientY - startY\r\n      if (height < minHeight) {\r\n        height = minHeight\r\n      }\r\n      if (height > parentHeight - originTop) {\r\n        height = parentHeight - originTop\r\n      }\r\n      that.$el.style.height = height + 'px'\r\n    }\r\n    function resizeW(event) {\r\n      width -= event.clientX - startX\r\n      if (width < minWidth) {\r\n        width = minWidth\r\n      }\r\n      if (width > originLeft + originWidth) {\r\n        width = originLeft + originWidth\r\n      }\r\n      left += event.clientX - startX\r\n      if (left < 0) {\r\n        left = 0\r\n      }\r\n      if(left > originLeft + (originWidth - minWidth)) {\r\n        left = originLeft + (originWidth - minWidth)\r\n      }\r\n      that.$el.style.left = left + 'px'\r\n      that.$el.style.width = width + 'px'\r\n    }\r\n\r\n    function move(event) {\r\n      event = that.getEventInfo(event)\r\n      if (that.resizeFlag === that.resizeFlags[0]) {\r\n        resizeN(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[1]) {\r\n        resizeE(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[2]) {\r\n        resizeS(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[3]) {\r\n        resizeW(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[4]) {\r\n        resizeN(event)\r\n        resizeE(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[5]) {\r\n        resizeN(event)\r\n        resizeW(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[6]) {\r\n        resizeS(event)\r\n        resizeE(event)\r\n      }\r\n      else if (that.resizeFlag === that.resizeFlags[7]) {\r\n        resizeS(event)\r\n        resizeW(event)\r\n      }\r\n      startY = event.clientY\r\n      startX = event.clientX\r\n      if (that.onResize) {\r\n        that.onResize()\r\n      }\r\n    }\r\n    function end(event) {\r\n      that.isResizing = false\r\n      document.removeEventListener(EVENTS[1], move)\r\n      document.removeEventListener(EVENTS[2], end)\r\n    }\r\n\r\n    document.addEventListener(EVENTS[1], move)\r\n    document.addEventListener(EVENTS[2], end)\r\n  }\r\n\r\n  start(event) {\r\n    event.preventDefault()\r\n    this.stopPropagation(event)\r\n    if (this.onStart) this.onStart(event)\r\n    if (this.resizable && this.resizeFlag) {\r\n      this.resize(event)\r\n    } else {\r\n      if (!this.disabled) {\r\n        this.darg(event)\r\n      }\r\n    }\r\n  }\r\n\r\n  setupEvent() {\r\n    let EVENTS = this.EVENTS\r\n    let _this = this\r\n    let handle = this.handle\r\n    if (this.resizable) {\r\n      handle.addEventListener(EVENTS[1], event => {\r\n        if (!this.isResizing) {\r\n          let eventInfo = _this.getEventInfo(event)\r\n          let resizeFlag = _this.checkResize(handle, eventInfo.clientX, eventInfo.clientY)\r\n          this.resizeFlag = resizeFlag\r\n          if (this.resizable && resizeFlag) {\r\n            handle.style.cursor = resizeFlag\r\n          } else {\r\n            handle.style.cursor = this.cursor\r\n          }\r\n        }\r\n      })\r\n    }\r\n    if (!this.disabled) {\r\n      handle.style.cursor = this.cursor\r\n      handle.addEventListener(EVENTS[0], this.start.bind(this))\r\n    }\r\n  }\r\n\r\n  enable() {\r\n    this.disabled = false\r\n  }\r\n  disable() {\r\n    this.disabled = true\r\n  }\r\n  getStyle(el, styleProp) {\r\n    if(window.getComputedStyle) {\r\n      return document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp)\r\n    }\r\n    if (el.currentStyle) {\r\n      return el.currentStyle[styleProp]\r\n    }\r\n    return null\r\n  }\r\n\r\n  getClientRect(el) {\r\n    let elemRect = el.getBoundingClientRect()\r\n    let $parent = this.containment ? this.containment : this.$el.offsetParent\r\n    let clientRect: any = {}\r\n    let leftBorderWidth = parseInt(this.getStyle($parent, 'border-left-width'))\r\n    let topBorderWidth = parseInt(this.getStyle($parent, 'border-top-width'))\r\n    let parentRect: any = $parent.getBoundingClientRect();\r\n    clientRect.left = elemRect.left - parentRect.left - leftBorderWidth;\r\n    clientRect.top = elemRect.top - parentRect.top - topBorderWidth;\r\n    clientRect.right = clientRect.left + elemRect.width;\r\n    clientRect.bottom = clientRect.top + elemRect.height;\r\n    clientRect.width = elemRect.width;\r\n    clientRect.height = elemRect.height;\r\n    return clientRect\r\n  }\r\n\r\n  isSnap(srcValue, destValue) {\r\n    let snapTolerance = this.snapTolerance\r\n    return Math.abs(srcValue - destValue) <= snapTolerance\r\n  }\r\n\r\n  clearSnapLine() {\r\n    let lines = Array.apply(null, document.querySelectorAll('.snap-line'))\r\n    lines.forEach(item => {\r\n      item.offsetParent.removeChild(item)\r\n    })\r\n  }\r\n\r\n\r\n  createDistText(flag, dragElemRect, snapElemRect) {\r\n    let { top, bottom, left, right, width, height } = snapElemRect\r\n    let itemWidthHalf = width / 2\r\n    let itemHeightHalf = height / 2\r\n    let dragWidthHalf = dragElemRect.width / 2\r\n    let dragHeightHalf = dragElemRect.height / 2\r\n\r\n    let textBox = document.createElement('div')\r\n    textBox.style.position = 'absolute'\r\n    // textBox.style.background = '#000000'\r\n    textBox.style.textAlign = 'center'\r\n\r\n    let text = document.createElement('span')\r\n    let distance = 0\r\n    let textHeight = 14\r\n    text.style.background = this.snapLineColor\r\n    text.style.borderRadius = '2px'\r\n    text.style.lineHeight = '14px'\r\n    text.style.padding = '0 2px'\r\n    text.style.fontSize = '10px'\r\n    text.style.color = '#ffffff'\r\n    text.style.userSelect='none'\r\n    textBox.appendChild(text)\r\n    let snapFlags = this.snapFlags\r\n    //'top_tt', 'top_bt','top_bb', 'top_tb',\r\n    if (flag === snapFlags[0] || flag === snapFlags[1] ||\r\n      flag === snapFlags[3] || flag === snapFlags[4]) {\r\n      textBox.style.bottom = '0px'\r\n      if (left < dragElemRect.left) {\r\n        distance = dragElemRect.left - right\r\n        textBox.style.left = width + 'px'\r\n      } else {\r\n        distance = left - dragElemRect.right\r\n        textBox.style.left = dragElemRect.width + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      textBox.style.width = distance + 'px'\r\n      textBox.style.paddingBottom = '2px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n    // 'top_cc' 'top_tc' 'top_bc'\r\n    else if (flag === snapFlags[2] || flag === snapFlags[10] || flag === snapFlags[11]) {\r\n      textBox.style.bottom = '0px'\r\n      if (left < dragElemRect.left) {\r\n        distance = dragElemRect.left - right\r\n        textBox.style.left = itemWidthHalf + 'px'\r\n      } else {\r\n        distance = left - dragElemRect.right\r\n        textBox.style.left = dragWidthHalf + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      textBox.style.paddingBottom = '2px'\r\n      textBox.style.width = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n\r\n    else if (flag === snapFlags[5] || flag === snapFlags[6] ||\r\n      flag === snapFlags[8] || flag === snapFlags[9]) {\r\n      textBox.style.left = '0px'\r\n      if (top < dragElemRect.top) {\r\n        distance = dragElemRect.top - bottom\r\n        textBox.style.top = height + 'px'\r\n      } else {\r\n        distance = top - dragElemRect.bottom\r\n        textBox.style.top = dragElemRect.height + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      text.style.position = 'absolute'\r\n      text.style.top = '50%'\r\n      text.style.marginTop = -(textHeight / 2) + 'px'\r\n      text.style.left = '2px'\r\n      textBox.style.height = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n    //'left_cc' 'left_lc' 'top_rc'\r\n    else if (flag === snapFlags[7] || flag === snapFlags[12] || flag === snapFlags[13]) {\r\n      textBox.style.left = '0px'\r\n      if (top < dragElemRect.top) {\r\n        distance = dragElemRect.top - bottom\r\n        textBox.style.top = itemHeightHalf + 'px'\r\n      } else {\r\n        distance = top - dragElemRect.bottom\r\n        textBox.style.top = dragHeightHalf + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      text.style.position = 'absolute'\r\n      text.style.top = '50%'\r\n      text.style.marginTop = -(textHeight / 2) + 'px'\r\n      text.style.left = '2px'\r\n      textBox.style.height = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n\r\n    return textBox\r\n\r\n  }\r\n\r\n  showSnapLine($parent, { flag, dragElemRect, snapElemRect, snapDrag }) {\r\n    let snapLineSize = this.snapLineSize\r\n    let snapLineColor = this.snapLineColor\r\n    let { top, bottom, left, right, width, height } = snapElemRect\r\n    let itemWidthHalf = width / 2\r\n    let itemHeightHalf = height / 2\r\n    let dragWidthHalf = dragElemRect.width / 2\r\n    let dragHeightHalf = dragElemRect.height / 2\r\n    let lineRect: any = {}\r\n\r\n    let snapFlags = this.snapFlags\r\n    if (flag === snapFlags[0] || flag === snapFlags[1]) {\r\n      lineRect.left = left < dragElemRect.left ? left : dragElemRect.left\r\n      lineRect.top = top\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n\r\n    } else if (flag === snapFlags[2]) {\r\n      lineRect.top = top + itemHeightHalf\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      if (left === dragElemRect.left && right === dragElemRect.right) {\r\n        lineRect.left = left\r\n        lineRect.right = right\r\n      } else if (left > dragElemRect.left && right < dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left\r\n        lineRect.right = dragElemRect.right\r\n      } else if (left < dragElemRect.left && right > dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right\r\n      } else {\r\n        lineRect.left = left < dragElemRect.left ? left + itemWidthHalf : dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right > dragElemRect.right ? right - itemWidthHalf : dragElemRect.right - dragWidthHalf\r\n      }\r\n\r\n    } else if (flag === snapFlags[3] || flag === snapFlags[4]) {\r\n      lineRect.left = left < dragElemRect.left ? left : dragElemRect.left\r\n      lineRect.top = bottom\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n    } else if (flag === snapFlags[5] || flag === snapFlags[6]) {\r\n      lineRect.left = left\r\n      lineRect.top = top < dragElemRect.top ? top : dragElemRect.top\r\n      lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    } else if (flag === snapFlags[7]) {\r\n      lineRect.left = left + itemWidthHalf\r\n      if (top === dragElemRect.top && bottom === dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = bottom\r\n      } else if (top > dragElemRect.top && bottom < dragElemRect.bottom) {\r\n        lineRect.top = dragElemRect.top\r\n        lineRect.bottom = dragElemRect.bottom\r\n      } else if (top < dragElemRect.top && bottom > dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = dragElemRect.top + dragHeightHalf\r\n      } else {\r\n        lineRect.top = top < dragElemRect.top ? top + itemHeightHalf : dragElemRect.top + dragHeightHalf\r\n        lineRect.bottom = bottom > dragElemRect.bottom ? bottom - itemHeightHalf : dragElemRect.bottom - dragHeightHalf\r\n      }\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    } else if (flag === snapFlags[8] || flag === snapFlags[9]) {\r\n      lineRect.left = right\r\n      lineRect.top = top < dragElemRect.top ? top : dragElemRect.top\r\n      lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    }\r\n\r\n    else if (flag === snapFlags[10] || flag === snapFlags[11]) {\r\n      lineRect.top = top + itemHeightHalf\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      if (left === dragElemRect.left && right === dragElemRect.right) {\r\n        lineRect.left = left\r\n        lineRect.right = right\r\n      } else if (left > dragElemRect.left && right < dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left\r\n        lineRect.right = dragElemRect.right\r\n      } else {\r\n        lineRect.left = left < dragElemRect.left ? left + itemWidthHalf : dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n      }\r\n    }\r\n\r\n    else if (flag === snapFlags[12] || flag === snapFlags[13]) {\r\n      lineRect.left = left + itemWidthHalf\r\n      if (top === dragElemRect.top && bottom === dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = bottom\r\n      } else if (top > dragElemRect.top && bottom < dragElemRect.bottom) {\r\n        lineRect.top = dragElemRect.top\r\n        lineRect.bottom = dragElemRect.bottom\r\n      } else {\r\n        lineRect.top = top < dragElemRect.top ? top + itemHeightHalf : dragElemRect.top + dragHeightHalf\r\n        lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      }\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    }\r\n\r\n    let line = document.createElement('div')\r\n    line.style.position = 'absolute'\r\n    line.style.top = `${lineRect.top}px`\r\n    line.style.left = `${lineRect.left}px`\r\n    let lineWidth = lineRect.right - lineRect.left\r\n    lineWidth = lineWidth === 1 ? lineWidth : lineWidth\r\n    let lineHeight = lineRect.bottom - lineRect.top\r\n    lineHeight = lineHeight === 1 ? lineHeight : lineHeight\r\n    line.style.width = `${lineWidth}px`\r\n    line.style.height = `${lineHeight}px`\r\n    line.style.background =  snapLineColor\r\n    line.style.zIndex = '9999999999999'\r\n    line.className = 'snap-line'\r\n    let distText = this.createDistText(flag, dragElemRect, snapElemRect)\r\n    if (this.snapDist && distText) {\r\n      line.appendChild(distText)\r\n    }\r\n    $parent.appendChild(line)\r\n  }\r\n  doSnap() {\r\n    let dragElem = this.$el\r\n    let snapElems = []\r\n    if (typeof this.snap === 'boolean') {\r\n      snapElems = [].slice.call(document.querySelectorAll('.draggable'))\r\n    }\r\n    else if (typeof this.snap === 'string') {\r\n      snapElems = [].slice.call(document.querySelectorAll(this.snap))\r\n    } else if (typeof this.snap === 'object' && this.snap.length) {\r\n      snapElems = this.snap\r\n    }\r\n\r\n    let dragElemRect = this.getClientRect(this.snapAnchor ? this.snapAnchor : dragElem)\r\n    let snapInfos = []\r\n    this.clearSnapLine()\r\n    let snapFlags = this.snapFlags\r\n    snapElems.forEach(item => {\r\n      if (item === dragElem) {\r\n        return\r\n      }\r\n      let itemElem = item//.$el\r\n      let snapElemRect: any = this.getClientRect(item.dragRef.snapAnchor ? item.dragRef.snapAnchor : itemElem)\r\n      let { top, height, bottom, left, width, right } = snapElemRect\r\n      let dragWidthHalf = dragElemRect.width / 2\r\n      let itemWidthHalf = width / 2\r\n      let dragHeightHalf = dragElemRect.height / 2\r\n      let itemHeightHalf = height / 2\r\n\r\n      // y c\r\n      if (this.isSnap(dragElemRect.top + dragHeightHalf, top + itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[2],\r\n          snapDrag: item,\r\n          dragValue: top + itemHeightHalf - dragHeightHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-top\r\n      else if (this.isSnap(dragElemRect.top, top)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[0],\r\n          dragValue: top,\r\n          snapDrag: item,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y b-top\r\n      else if (this.isSnap(dragElemRect.bottom, top)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[1],\r\n          snapDrag: item,\r\n          dragValue: top - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // y b-bottom\r\n      else if (this.isSnap(dragElemRect.bottom, bottom)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[3],\r\n          snapDrag: item,\r\n          dragValue: bottom - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-bottom\r\n      else if (this.isSnap(dragElemRect.top, bottom)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[4],\r\n          snapDrag: item,\r\n          dragValue: bottom,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-center\r\n      else if (this.isSnap(dragElemRect.top, top + itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[10],\r\n          snapDrag: item,\r\n          dragValue: top + itemHeightHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y b_center\r\n      else if (this.isSnap(dragElemRect.bottom, bottom - itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[11],\r\n          snapDrag: item,\r\n          dragValue: bottom - itemHeightHalf - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n\r\n      // x c\r\n      if (this.isSnap(dragElemRect.left + dragWidthHalf, left + itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[7],\r\n          snapDrag: item,\r\n          dragValue: left + itemWidthHalf - dragWidthHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // x l-left\r\n      else if (this.isSnap(dragElemRect.left, left)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[5],\r\n          snapDrag: item,\r\n          dragValue: left,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // x r-left\r\n      else if (this.isSnap(dragElemRect.right, left)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[6],\r\n          snapDrag: item,\r\n          dragValue: left - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // x r-right\r\n      else if (this.isSnap(dragElemRect.right, right)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[8],\r\n          snapDrag: item,\r\n          dragValue: right - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // x l-right\r\n      else if (this.isSnap(dragElemRect.left, right)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[9],\r\n          snapDrag: item,\r\n          dragValue: right,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y l-center\r\n      else if (this.isSnap(dragElemRect.left, left + itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[12],\r\n          snapDrag: item,\r\n          dragValue: left + itemWidthHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y r_center\r\n      else if (this.isSnap(dragElemRect.right, right - itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[13],\r\n          snapDrag: item,\r\n          dragValue: right - itemWidthHalf - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n    })\r\n    snapInfos.forEach(snapInfo => {\r\n      let flags = snapInfo.flag.split('_')\r\n      let pos = flags[0]\r\n      if (dragElem.dragRef.snapAnchor) {\r\n        let d = 0\r\n        if (pos === 'left') {\r\n          d = dragElem.dragRef.snapAnchor.offsetLeft\r\n        } else if (pos === 'top') {\r\n          d = dragElem.dragRef.snapAnchor.offsetTop\r\n        }\r\n        dragElem.style[pos] = `${snapInfo.dragValue - d}px`\r\n      } else {\r\n        dragElem.style[pos] = `${snapInfo.dragValue}px`\r\n      }\r\n      // || snapInfo.snapDrag.isShowDist\r\n      if (this.snapLine) {\r\n        this.showSnapLine(this.containment ? this.containment : dragElem.offsetParent, snapInfo)\r\n      }\r\n    })\r\n\r\n    if (this.onSnap && snapInfos.length > 0) {\r\n      this.onSnap(snapInfos)\r\n    }\r\n  }\r\n\r\n}\r\n","import Component from './Component';\r\nexport default class ImgComponent extends Component {\r\n  $content: JQuery\r\n  $img: JQuery\r\n  constructor() {\r\n    super('img-component')\r\n    this.$content = $('<a><img src=\"\" style=\"display:none\"></a>')\r\n    this.$img = this.$content.find('img')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    let img = ''\r\n    let background = `url(${this.formData.bgImg}) 50% 50% no-repeat;`\r\n    if (this.formData.imgMode === 'cut') {\r\n      background = `url(${this.formData.bgImg}) 50% 50% no-repeat;`\r\n    } else {\r\n      img = this.$img[0].outerHTML\r\n    }\r\n    return `\r\n      <a href=\"${this.formData.href}\" target=\"${this.formData.hrefMode || ''}\" style=\"position: absolute; top: ${top}; left: ${left}; width: ${width}px; height: ${height}px;background: ${background}\">\r\n        ${img}\r\n      </a>\r\n    `\r\n  }\r\n \r\n  initFormData() {\r\n    this.formData.bgImg = 'https://img.alicdn.com/imgextra/i2/280837244/TB2orubcrJmpuFjSZFwXXaE4VXa-280837244.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.appLabel = ''\r\n    this.formData.imgMode = 'cut'\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.href = ''\r\n    this.formData.tipText = ''\r\n    this.formData.animType = ''\r\n    this.formData.hrefMode = '_blank'\r\n    this.formData.bgImgSize = false\r\n    this.formData.animSpeed = '1s'\r\n    this.formData.animRange = '-s'\r\n    this.formData.wangID = ''\r\n    this.formData.bdRadius= ''\r\n    this.formData.bdStyle= 'solid'\r\n\r\n    this.$content.css('background-image', `url(${this.formData.bgImg})`)\r\n    this.$content.css('background-color', this.formData.bgColor)\r\n    this.$img.attr('src', this.formData.bgImg)\r\n  }\r\n\r\n  onLinkModeChanged($layerElem, linkMode) {\r\n    let $wangBox = $layerElem.find('.wang-box')\r\n    let $linkBox = $layerElem.find('.link-box')\r\n    if (linkMode === 'urlink') {\r\n      $wangBox.hide()\r\n      $linkBox.show()\r\n    } else if (linkMode === 'wwlink') {\r\n      $linkBox.hide()\r\n      $wangBox.show()\r\n    }\r\n  }\r\n \r\n  //同步边框信息\r\n  onTongBuBd($layerElem,$isVal,that) {\r\n    let $bdWidthVal = $layerElem.find('input[type=text][name=bdWidth]').val()\r\n    let $mbdWidthInput = $layerElem.find('input[type=text][name=mbdWidth]')\r\n    $mbdWidthInput.val($bdWidthVal)\r\n\r\n    let $bdStyleRadio = $layerElem.find('input[type=radio][name=bdStyle]:checked')\r\n    let $bdStyleVal=$bdStyleRadio.val()\r\n    $layerElem.find('input[type=radio][name=mbdStyle][value='+$bdStyleVal+']').prop('checked', true)\r\n\r\n    let $bdColorVal = $layerElem.find('input[type=text][name=bdColor]').val()\r\n    let $mbdColorInput = $layerElem.find('input[type=text][name=mbdColor]')\r\n    $mbdColorInput.val($bdColorVal)\r\n    $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$bdColorVal)\r\n\r\n\r\n    let $bdTCheckBox = $layerElem.find('input[type=checkbox][name=bdT]')\r\n    let $mbdTCheckBox = $layerElem.find('input[type=checkbox][name=mbdT]')\r\n    let $bdTVal=$bdTCheckBox.is(':checked')\r\n    $mbdTCheckBox.prop('checked',$bdTVal);\r\n\r\n    let $bdBCheckBox = $layerElem.find('input[type=checkbox][name=bdB]')\r\n    let $mbdBCheckBox = $layerElem.find('input[type=checkbox][name=mbdB]')\r\n    let $bdBVal=$bdBCheckBox.is(':checked')\r\n    $mbdBCheckBox.prop('checked',$bdBVal);\r\n\r\n    let $bdLCheckBox = $layerElem.find('input[type=checkbox][name=bdL]')\r\n    let $mbdLCheckBox = $layerElem.find('input[type=checkbox][name=mbdL]')\r\n    let $bdLVal=$bdLCheckBox.is(':checked')\r\n    $mbdLCheckBox.prop('checked',$bdLVal);\r\n\r\n    let $bdRCheckBox = $layerElem.find('input[type=checkbox][name=bdR]')\r\n    let $mbdRCheckBox = $layerElem.find('input[type=checkbox][name=mbdR]')\r\n    let $bdRVal=$bdRCheckBox.is(':checked')\r\n    $mbdRCheckBox.prop('checked',$bdRVal);\r\n    if($isVal){\r\n     that.formData.mbdT=$layerElem.find('input[type=checkbox][name=mbdT]:checked').val();\r\n     that.formData.mbdB=$layerElem.find('input[type=checkbox][name=mbdB]:checked').val();\r\n     that.formData.mbdL=$layerElem.find('input[type=checkbox][name=mbdL]:checked').val();\r\n     that.formData.mbdR=$layerElem.find('input[type=checkbox][name=mbdR]:checked').val();\r\n     that.formData.mbdWidth=$bdWidthVal;\r\n     that.formData.mbdColor=$bdColorVal;\r\n     that.formData.mbdStyle=$bdStyleVal;\r\n    }\r\n\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '单图设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        if (typeof that.formData.animType === 'undefined') {\r\n          that.formData.animType = ''\r\n        }\r\n        $layerElem.find(`.animselect > div[data-val=\"${that.formData.animType}\"]`).addClass('active')\r\n        $layerElem.find('.animselect > div').on('click', function() {\r\n          $layerElem.find('.animselect > div.active').removeClass('active')\r\n          $(this).addClass('active')\r\n        })\r\n\r\n        if (that.formData.bgColor) {\r\n          $layerElem.find('.sp-preview-inner').css('background-color', that.formData.bgColor)\r\n        }\r\n        //边框\r\n        if (that.formData.bdColor) {\r\n         let $bdColorInput=$layerElem.find('input[type=text][name=bdColor]')\r\n         $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bdColor)\r\n        } \r\n        if (that.formData.mbdColor) {\r\n         let $mbdColorInput=$layerElem.find('input[type=text][name=mbdColor]')\r\n         $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbdColor)\r\n        } \r\n\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        that.onLinkModeChanged($layerElem, that.formData.linkMode)\r\n        $layerElem.find('.layui-btn-sm').on('click', function() {\r\n          let form = layui.form\r\n          layer.msg('你确定  同步默文 边框样式么？', {\r\n            time: 0 //不自动关闭\r\n            ,btn: ['同步', '取消']\r\n            ,yes: function(index){\r\n              that.onTongBuBd($layerElem,false,that);\r\n              form.render();\r\n              layer.close(index)\r\n            }\r\n          });\r\n        })\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n          \r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"text\" name=\"appLabel\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                   \r\n                </div>\r\n                <div><input name=\"bgImgSize\" value=\"true\" type=\"checkbox\" lay-skin=\"primary\" title=\"自动宽高\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片显示方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select name=\"imgMode\">\r\n                    <option value=\"cut\">保持原图尺寸</option>\r\n                    <option value=\"full\">自由拉伸</option>\r\n                    <option value=\"scaleX\">保持比例(只裁剪宽度)</option>\r\n                    <option value=\"scaleY\">保持比例(只裁剪高度)</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景颜色</label>\r\n                <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                  <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                  <input name=\"bgColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                  <span class=\"clear-color-button\"></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接类型</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"urlink\" title=\"普通\" checked=\"\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"wwlink\" title=\"旺旺\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item link-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"href\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item wang-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">旺旺ID</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"wangID\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bdRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">提示文字</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"tipText\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div  class=\"layui-tab-item\">\r\n              <div class=\"layui-tab layui-side-card\">\r\n                <ul class=\"layui-tab-title\"  >\r\n                  <li class=\"layui-this\" style=\"margin-top: 110px;\">默认边框</li>\r\n                  <li class=\"\">鼠标划过动画</li>\r\n                </ul>\r\n                <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n                  <div class=\"layui-tab-item layui-show\">\r\n                    <fieldset class=\"layui-elem-field\" style=\"margin-top:20px;\">\r\n                      <legend>默认边框</legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框显示</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"checkbox\" name=\"bdT\" value=\"on\" lay-skin=\"primary\" title=\"上边\"  >\r\n                            <input type=\"checkbox\" name=\"bdB\" value=\"on\" lay-skin=\"primary\" title=\"下边\">\r\n                            <input type=\"checkbox\" name=\"bdL\" value=\"on\" lay-skin=\"primary\" title=\"左边\" >\r\n                            <input type=\"checkbox\" name=\"bdR\" value=\"on\" lay-skin=\"primary\" title=\"右边\"  >\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框粗细</label>\r\n                          <div class=\"layui-input-inline input-short\" style=\"width:80px;\"><input name=\"bdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                          <label class=\"layui-form-label\">边框颜色</label>\r\n                          <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                            <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                            <input name=\"bdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                            <span class=\"clear-color-button\"></span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\">\r\n                          <label class=\"layui-form-label\">边框样式</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                            <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"dotted\" title=\"细虚线\">\r\n                            <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </fieldset>\r\n                    <fieldset class=\"layui-elem-field\" style=\"margin-top:20px;\">\r\n                      <legend>\r\n                        <span  style=\"margin-right:15px;  display:inline-block\"> 鼠标_移上边框 </span>\r\n                        <button type=\"button\" class=\"layui-btn layui-btn-sm\">同步默认边框</button>\r\n                      </legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框显示</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"checkbox\" name=\"mbdT\" value=\"on\" lay-skin=\"primary\" title=\"上边\"  >\r\n                            <input type=\"checkbox\" name=\"mbdB\" value=\"on\" lay-skin=\"primary\" title=\"下边\">\r\n                            <input type=\"checkbox\" name=\"mbdL\" value=\"on\" lay-skin=\"primary\" title=\"左边\" >\r\n                            <input type=\"checkbox\" name=\"mbdR\" value=\"on\" lay-skin=\"primary\" title=\"右边\"  >\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框粗细</label>\r\n                          <div class=\"layui-input-inline input-short\" style=\"width:80px;\"><input name=\"mbdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                          <label class=\"layui-form-label\">边框颜色</label>\r\n                          <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                            <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                            <input name=\"mbdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                            <span class=\"clear-color-button\"></span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\">\r\n                          <label class=\"layui-form-label\">边框样式</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                            <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"dotted\" title=\"细虚线\">\r\n                            <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </fieldset>\r\n                  </div>\r\n                  <div class=\"layui-tab-item \">\r\n                    <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n                      <legend>\r\n                        动画时长                      \r\n                        <input class=\"input-short\"  type=\"text\" name=\"mbdTsDur\"  style=\"width:50px; height:23px; margin-left:10px; padding-left:5px;\" />\r\n                        <label class=\"label-con\">秒</label>\r\n                      </legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"linear\"  title=\"匀速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease\"  title=\"逐渐变慢\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-in\"   title=\"减速\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-out\"   title=\"加速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                      </div>\r\n                    </fieldset>\r\n                    <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n                      <legend>动画效果</legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx0\" title=\"直接切换\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx1\" title=\"渐隐渐显\" >\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx4\"  title=\"左对角线切入\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx5\"  title=\"右对角线切入\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx6\"  title=\"顺时针出现\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx7\"  title=\"逆时针出现\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx8\"  title=\"由点到线\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx9\"  title=\"由点到面\">\r\n                      </div>\r\n                    </fieldset>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n \r\n            <div class=\"layui-tab-item\"  >\r\n               阴影外框\r\n            </div>\r\n            <div class=\"layui-tab-item\"  >\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画效果</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <div class=\"animselect ui-buttonset\">\r\n                    <div class=\"none\" data-val=\"\"><i><em></em></i>无效果</div>\r\n                    <div class=\"shakex\" data-val=\"xins-x-shake\"><i><em></em></i>左右抖动</div>\r\n                    <div class=\"shakey\" data-val=\"xins-y-shake\"><i><em></em></i>上下抖动</div>\r\n                    <div class=\"shaker\" data-val=\"xins-r-shake\"><i><em></em></i>旋转摆动</div>\r\n                    <div class=\"shakes\" data-val=\"xins-s-shake\"><i><em></em></i>弹性缩放</div>\r\n                    <div class=\"shaken\" data-val=\"xins-n-shake\"><i><em></em></i>弹性果冻</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画幅度</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-s\" title=\"弱\" checked=\"\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-m\" title=\"中\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-l\" title=\"强\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片显示方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select name=\"animSpeed\">\r\n                    <option value=\"1s\" selected=\"\">1秒</option>\r\n                    <option value=\"2s\">2秒</option>\r\n                    <option value=\"3s\">3秒</option>\r\n                    <option value=\"4s\">4秒</option>\r\n                    <option value=\"5s\">5秒</option>\r\n                    <option value=\"6s\">6秒</option>\r\n                    <option value=\"7s\">7秒</option>\r\n                    <option value=\"8s\">8秒</option>\r\n                    <option value=\"9s\">9秒</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"imgComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n\r\n    form.on('radio(linkMode)', function(data){\r\n      console.log(data)\r\n      that.onLinkModeChanged($layerElem, data.value)\r\n    })\r\n\r\n    form.on('submit(imgComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n      that.formData.animType = $layerElem.find('.animselect > div.active').data('val')\r\n      console.log(that.formData)\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('imgComponentForm', that.formData)\r\n  }\r\n\r\n  update(formData) {\r\n    let that = this\r\n    that.$content.css('background-image', `url(${formData.bgImg})`)\r\n    that.$img.attr('src', formData.bgImg)\r\n    that.$content.css('background-color', formData.bgColor)\r\n    that.$content.css('border-radius', parseInt(formData.bdRadius))\r\n    that.$content.css('border-color', formData.bdColor)\r\n\r\n\r\n    if(formData.bdT===\"on\" && typeof(formData.bdWidth) !=\"undefined\"){\r\n      that.$content.css('border-top-style', formData.bdStyle)\r\n      that.$content.css('border-top-width', parseInt(formData.bdWidth))\r\n    }else{\r\n      that.$content.css('border-top-width',0)\r\n    }\r\n    if(formData.bdB===\"on\" && typeof(formData.bdWidth) !=\"undefined\"){\r\n      that.$content.css('border-bottom-style', formData.bdStyle)\r\n      that.$content.css('border-bottom-width', parseInt(formData.bdWidth))\r\n    }else{\r\n      that.$content.css('border-bottom-width',0)\r\n    }\r\n    if(formData.bdL===\"on\" && typeof(formData.bdWidth) !=\"undefined\"){\r\n      that.$content.css('border-left-style', formData.bdStyle)\r\n      that.$content.css('border-left-width', parseInt(formData.bdWidth))\r\n    }else{\r\n      that.$content.css('border-left-width',0)\r\n    }\r\n    if(formData.bdR===\"on\" && typeof(formData.bdWidth) !=\"undefined\"){\r\n      that.$content.css('border-right-style', formData.bdStyle)\r\n      that.$content.css('border-right-width', parseInt(formData.bdWidth))\r\n    }else{\r\n      that.$content.css('border-right-width',0)\r\n    }\r\n\r\n    that.$img.bind('load', function() {\r\n      if (formData.bgImgSize === 'true') {\r\n        that.$el.width(that.$img.width())\r\n        that.$el.height(that.$img.height())\r\n      }\r\n    })\r\n    let imgMode = formData.imgMode\r\n    if (imgMode === 'cut') {\r\n      if (that.$img.is(':visible')) {\r\n        that.$content.css('background-image', `url(${formData.bgImg})`)\r\n        that.$img.hide()\r\n      }\r\n    } else {\r\n      that.$content.css('background-image', '')\r\n      if (imgMode === 'full') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '100%')\r\n      } else if (imgMode === 'scaleX') {\r\n        that.$img.css('height', '100%')\r\n        that.$img.css('width', '')\r\n      } else if (imgMode === 'scaleY') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '')\r\n      }\r\n      that.$img.show()\r\n    }\r\n  }\r\n\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n    let $bgImgInput = $propPanel.find('#bgImgInput')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    if (this.formData.bgImgSize === 'true') {\r\n      $bgImgSizeCheckBox.prop('checked', true)\r\n    } else {\r\n      $bgImgSizeCheckBox.prop('checked', false)\r\n    }\r\n    let $imgModeSelect = $propPanel.find('#imgMode')\r\n    $imgModeSelect.val(this.formData.imgMode)\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    this.onLinkModeChanged($propPanel, this.formData.linkMode)\r\n\r\n    let $bdRadiusInput = $propPanel.find('input[type=text][name=bdRadius]')\r\n    $bdRadiusInput.val(this.formData.bdRadius)\r\n    let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]')\r\n    $bdColorInput.val(this.formData.bdColor)\r\n    $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bdColor)\r\n    let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]')\r\n    $bdWidthInput.val(this.formData.bdWidth)\r\n    let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n    $bdStyleRadio.filter(`[value=\"${this.formData.bdStyle}\"]`).prop('checked', true)\r\n\r\n    let $bdTRadio = $propPanel.find('input[type=checkbox][name=bdT]')\r\n    let $bdTVal=this.formData.bdT === 'on' ? true : false;\r\n        $bdTRadio.prop('checked', $bdTVal)\r\n    let $bdBRadio = $propPanel.find('input[type=checkbox][name=bdB]')\r\n    let $bdBVal=this.formData.bdB === 'on' ? true : false;\r\n        $bdBRadio.prop('checked', $bdBVal)\r\n    let $bdLRadio = $propPanel.find('input[type=checkbox][name=bdL]')\r\n    let $bdLVal=this.formData.bdL === 'on' ? true : false;\r\n        $bdLRadio.prop('checked', $bdLVal)\r\n    let $bdRRadio = $propPanel.find('input[type=checkbox][name=bdR]')\r\n    let $bdRVal=this.formData.bdR === 'on' ? true : false;\r\n        $bdRRadio.prop('checked', $bdRVal)\r\n\r\n  }\r\n\r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.img-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    this.updatePropPanel()\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n\r\n    let $bgImgInput = $propPanel.find('#bgImgInput')\r\n    $bgImgInput.change((function() {\r\n      that.formData.bgImg = $bgImgInput.val()\r\n      that.update(that.formData)\r\n    }))\r\n\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    $bgImgSizeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bgImgSize = val ? 'true' : 'false'\r\n      that.update(that.formData)\r\n    });\r\n\r\n    let $imgMode = $propPanel.find('#imgMode')\r\n    $imgMode.change(function() {\r\n      that.formData.imgMode = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.linkMode = val\r\n      that.onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.href = val\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.hrefMode = val ? '_blank' : ''\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.wangID = val\r\n    })\r\n    let $bdRadiusInput = $propPanel.find('input[type=text][name=bdRadius]')\r\n    $bdRadiusInput.change(function() {\r\n      that.formData.bdRadius = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]')\r\n    $bdWidthInput.change(function() {\r\n      that.formData.bdWidth = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]')\r\n    $bdColorInput.change(function() {\r\n      that.formData.bdColor = $(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n    $bdStyleRadio.change(function() {\r\n      that.formData.bdStyle = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $bdTCheckBox = $propPanel.find('input[type=checkbox][name=bdT]')\r\n    $bdTCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdT = val ? 'on' : 'off'\r\n      that.update(that.formData)\r\n    })\r\n    let $bdBCheckBox = $propPanel.find('input[type=checkbox][name=bdB]')\r\n    $bdBCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdB = val ? 'on' : 'off'\r\n      that.update(that.formData)\r\n    })\r\n    let $bdLCheckBox = $propPanel.find('input[type=checkbox][name=bdL]')\r\n    $bdLCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdL = val ? 'on' : 'off'\r\n      that.update(that.formData)\r\n    })\r\n    let $bdRCheckBox = $propPanel.find('input[type=checkbox][name=bdR]')\r\n    $bdRCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdR = val ? 'on' : 'off'\r\n      that.update(that.formData)\r\n    })\r\n    $propPanel.find('.layui-btn-sm').on('click', function() {\r\n      let layer = layui.layer\r\n      layer.msg('你确定  同步默文 边框样式么？', {\r\n        time: 0 //不自动关闭\r\n        ,btn: ['同步', '取消']\r\n        ,yes: function(index){\r\n          that.onTongBuBd($propPanel,true,that);\r\n          that.update(that.formData)\r\n          layer.close(index)\r\n        }\r\n      });\r\n    })\r\n  \r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xdtb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Component from './Component';\r\nexport default class TextComponent extends Component {\r\n　$content: JQuery\r\n  constructor() {\r\n    super('text-component')\r\n    let content = `\r\n      <a class=\"ant-text\"   mTsAnt=\"\"  mbdTsAnt=\"\"><div class=\"on\">请设置文本内容</div></a>\r\n      `\r\n    this.$contentBox.append(content)\r\n    this.$content = this.$contentBox.find('.ant-text')\r\n    this.initFormData() \r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n\r\n    this.formData.family = 'arial' //字体\r\n    this.formData.fSize = 12\r\n    this.formData.color = '#000'\r\n    this.formData.bgColor = '#fff'\r\n    this.formData.lHeight =''  //行距 line-height\r\n    this.formData.spacing =''  //letterSpacing // 字  距\r\n    this.formData.indent =''  //textIndent 缩进\r\n    \r\n    this.formData.weight = 600 //加粗\r\n    this.formData.fStyle = 'normal' //斜体\r\n    this.formData.oLine = '' //文字上边线 overline\r\n    this.formData.through = '' //文字中间线 line-through  \r\n    this.formData.uLine = '' //文字下边线 underline \r\n    this.formData.align = 'center' //对齐\r\n    this.formData.content = '请设置文件内容' //反面内容\r\n\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'  //是否新窗口\r\n\r\n    this.formData.bgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.bgRep =''  //背景平铺方式\r\n    this.formData.bgPos ='' //背景对齐位置\r\n    this.formData.bRadius ='' //圆角\r\n\r\n    this.formData.hoverMode ='off' //鼠标移上开启 off 关  on  开\r\n \r\n\r\n    this.formData.mfamily = 'arial' //字体\r\n    this.formData.mfSize = 12   \r\n    this.formData.mcolor = '#fff'\r\n    this.formData.mbgColor = '#000'\r\n    this.formData.mlHeight =''  //行距   \r\n    this.formData.mspacing =''  //letterSpacing // 字  距\r\n    this.formData.mindent =''  //textIndent 缩进\r\n    \r\n    this.formData.mweight = 600 //加粗\r\n    this.formData.mfStyle = 'normal' //斜体\r\n    this.formData.moLine = '' //文字上边线 overline\r\n    this.formData.mthrough = '' //文字中间线 line-through  \r\n    this.formData.muLine = '' //文字下边线 underline \r\n    this.formData.malign = 'left' //对齐\r\n    this.formData.mcontent = '' //反面内容\r\n\r\n    this.formData.mbgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.mbgRep =''  //背景平铺方式\r\n    this.formData.mbgPos ='' //背景对齐位置\r\n\r\n    this.formData.mTsDur ='0.4'   //动画时长                      \r\n    this.formData.mTsFun ='ease'  //速度曲线\r\n    this.formData.mTsAnt ='atrans5'  //动画效果\r\n\r\n    this.formData.bdT ='on'\r\n    this.formData.bdB ='on' \r\n    this.formData.bdL ='on' \r\n    this.formData.bdR ='on' \r\n\r\n    this.formData.bdWidth =5  \r\n    this.formData.bdColor ='#FFFF00'  \r\n    this.formData.bdStyle ='solid'\r\n\r\n\r\n    this.formData.mbdT =''\r\n    this.formData.mbdB ='' \r\n    this.formData.mbdL ='' \r\n    this.formData.mbdR =''\r\n    this.formData.mbdStyle ='solid' \r\n\r\n    this.formData.mbdTsDur ='0.5'  \r\n    this.formData.mbdTsFun ='ease-out'  \r\n    this.formData.mbdColor ='#00FFFF' \r\n    this.formData.mbdTsAnt ='bdtx1'   \r\n \r\n    this.update(this.formData)\r\n    \r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xwzb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n  toHtml() {\r\n    return ''\r\n  }\r\n  //同步边框信息\r\n  onTongBuBd($layerElem,$isVal,that) {\r\n    let $bdWidthVal = $layerElem.find('input[type=text][name=bdWidth]').val()\r\n    let $mbdWidthInput = $layerElem.find('input[type=text][name=mbdWidth]')\r\n    $mbdWidthInput.val($bdWidthVal)\r\n\r\n    let $bdStyleRadio = $layerElem.find('input[type=radio][name=bdStyle]:checked')\r\n    let $bdStyleVal=$bdStyleRadio.val()\r\n    $layerElem.find('input[type=radio][name=mbdStyle][value='+$bdStyleVal+']').prop('checked', true)\r\n\r\n    let $bdColorVal = $layerElem.find('input[type=text][name=bdColor]').val()\r\n    let $mbdColorInput = $layerElem.find('input[type=text][name=mbdColor]')\r\n    $mbdColorInput.val($bdColorVal)\r\n    $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$bdColorVal)\r\n\r\n\r\n    let $bdTCheckBox = $layerElem.find('input[type=checkbox][name=bdT]')\r\n    let $mbdTCheckBox = $layerElem.find('input[type=checkbox][name=mbdT]')\r\n    let $bdTVal=$bdTCheckBox.is(':checked')\r\n    $mbdTCheckBox.prop('checked',$bdTVal);\r\n\r\n    let $bdBCheckBox = $layerElem.find('input[type=checkbox][name=bdB]')\r\n    let $mbdBCheckBox = $layerElem.find('input[type=checkbox][name=mbdB]')\r\n    let $bdBVal=$bdBCheckBox.is(':checked')\r\n    $mbdBCheckBox.prop('checked',$bdBVal);\r\n\r\n    let $bdLCheckBox = $layerElem.find('input[type=checkbox][name=bdL]')\r\n    let $mbdLCheckBox = $layerElem.find('input[type=checkbox][name=mbdL]')\r\n    let $bdLVal=$bdLCheckBox.is(':checked')\r\n    $mbdLCheckBox.prop('checked',$bdLVal);\r\n\r\n    let $bdRCheckBox = $layerElem.find('input[type=checkbox][name=bdR]')\r\n    let $mbdRCheckBox = $layerElem.find('input[type=checkbox][name=mbdR]')\r\n    let $bdRVal=$bdRCheckBox.is(':checked')\r\n    $mbdRCheckBox.prop('checked',$bdRVal);\r\n    if($isVal){\r\n     that.formData.mbdT=$layerElem.find('input[type=checkbox][name=mbdT]:checked').val();\r\n     that.formData.mbdB=$layerElem.find('input[type=checkbox][name=mbdB]:checked').val();\r\n     that.formData.mbdL=$layerElem.find('input[type=checkbox][name=mbdL]:checked').val();\r\n     that.formData.mbdR=$layerElem.find('input[type=checkbox][name=mbdR]:checked').val();\r\n     that.formData.mbdWidth=$bdWidthVal;\r\n     that.formData.mbdColor=$bdColorVal;\r\n     that.formData.mbdStyle=$bdStyleVal;\r\n    }\r\n\r\n  }\r\n  //弹出来同步\r\n  onTongBu($layerElem,$isVal,that) {\r\n    let $familySelect = $layerElem.find('select[name=family] option:selected')\r\n    let $familyVal=$familySelect.val()\r\n    $layerElem.find('select[name=mfamily] option[value='+$familyVal+']').attr(\"selected\",true);\r\n  \r\n    let $colorVal = $layerElem.find('input[type=text][name=color]').val()\r\n\r\n    let $mcolorInput = $layerElem.find('input[type=text][name=mcolor]')\r\n    $mcolorInput.val($colorVal)\r\n    $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$colorVal)\r\n    \r\n    let $bgColorVal = $layerElem.find('input[type=text][name=bgColor]').val()\r\n    let $mbgColorInput = $layerElem.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.val($bgColorVal)\r\n    $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$bgColorVal)\r\n\r\n    let $fSizeVal = $layerElem.find('input[type=text][name=fSize]').val()\r\n    let $mfSizeInput = $layerElem.find('input[type=text][name=mfSize]')\r\n    $mfSizeInput.val($fSizeVal)\r\n\r\n    let $lHeightVal = $layerElem.find('input[type=text][name=lHeight]').val()\r\n    let $mlHeightInput = $layerElem.find('input[type=text][name=mlHeight]')\r\n    $mlHeightInput.val($lHeightVal)\r\n\r\n    let $spacingVal = $layerElem.find('input[type=text][name=spacing]').val()\r\n    let $mspacingInput = $layerElem.find('input[type=text][name=mspacing]')\r\n    $mspacingInput.val($spacingVal)\r\n\r\n    let $indentVal = $layerElem.find('input[type=text][name=indent]').val()\r\n    let $mindentInput = $layerElem.find('input[type=text][name=mindent]')\r\n    $mindentInput.val($indentVal)\r\n    \r\n    //对齐\r\n    let $alignRadioActive = $layerElem.find('.font-z .font-item-radio.active')\r\n    let $malignRadio = $layerElem.find('.font-f .font-item-radio')\r\n    let $alignVal=$alignRadioActive.attr('data-val')\r\n    $malignRadio.removeClass(\"active\")\r\n    $layerElem.find('.font-f .font-item-radio[data-val='+$alignVal+']').addClass('active')\r\n   \r\n\r\n    let $weightVal= $layerElem.find('.font-z input[type=hidden][name=weight]').val()\r\n    let $mweightInput = $layerElem.find('.font-f input[type=hidden][name=mweight]')\r\n    if($weightVal==\"600\"){\r\n      $mweightInput.val(\"600\")\r\n      $mweightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mweightInput.val(\"\")\r\n      $mweightInput.parent().removeClass(\"active\")\r\n    }\r\n    let $fStyleVal = $layerElem.find('.font-z input[type=hidden][name=fStyle]').val()\r\n    let $mfStyleInput = $layerElem.find('.font-f input[type=hidden][name=mfStyle]')\r\n    if($fStyleVal==\"italic\"){\r\n      $mfStyleInput.val('italic')\r\n      $mfStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mfStyleInput.val(\"normal\")\r\n      $mfStyleInput.parent().removeClass(\"active\")\r\n    }\r\n    let $oLineVal = $layerElem.find('.font-z input[type=hidden][name=oLine]').val()\r\n    let $moLineInput = $layerElem.find('.font-f input[type=hidden][name=moLine]')\r\n    if($oLineVal==\"overline\"){\r\n      $moLineInput.val('overline')\r\n      $moLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $moLineInput.val(\"\")\r\n      $moLineInput.parent().removeClass(\"active\")\r\n    }\r\n    let $throughVal = $layerElem.find('.font-z input[type=hidden][name=through]').val()\r\n    let $mthroughInput= $layerElem.find('.font-f input[type=hidden][name=mthrough]')\r\n    if($throughVal==\"line-through\"){\r\n      $mthroughInput.val('line-through')\r\n      $mthroughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mthroughInput.val(\"\")\r\n      $mthroughInput.parent().removeClass(\"active\")\r\n    }\r\n    let $uLineVal = $layerElem.find('.font-z input[type=hidden][name=uLine]').val()\r\n    let $muLineInput = $layerElem.find('.font-f input[type=hidden][name=muLine]')\r\n    if($uLineVal==\"underline\"){\r\n      $muLineInput.val('underline')\r\n      $muLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $muLineInput.val(\"\")\r\n      $muLineInput.parent().removeClass(\"active\")\r\n    }\r\n    // 右侧同步的时候 直接更新数据\r\n    if($isVal){\r\n     that.formData.family=$familyVal\r\n     that.formData.mcolor=$colorVal\r\n     that.formData.mbgColor=$bgColorVal\r\n     that.formData.mfSize=$fSizeVal\r\n     that.formData.mlHeight=$lHeightVal\r\n     that.formData.mspacing=$spacingVal\r\n     that.formData.mindent=$indentVal\r\n     that.formData.mweight=$weightVal\r\n     that.formData.mfStyle=$fStyleVal\r\n     that.formData.moLine=$oLineVal\r\n     that.formData.mthrough=$throughVal\r\n     that.formData.muLine=$uLineVal\r\n     that.formData.malign=$alignVal\r\n    }\r\n    console.log('onTongBu')\r\n \r\n  }\r\n  //文本框预览样式\r\n  updatePreviewStyle($objElem){\r\n    let $defElem=$objElem.parent().parent().parent().find('.font-textarea .multi-textarea')\r\n    if($objElem.parent().hasClass(\"nromal-wrap\")){\r\n       $defElem=$objElem.parent().parent().find('.font-textarea .multi-textarea')\r\n    }\r\n    let $fontElem=$defElem.parent().prev()  //查找上一个兄弟节点，不是所有的兄弟节点\r\n    let isfontF= $fontElem.hasClass(\"font-f\")  ? true :false\r\n\r\n    if($defElem.length>0){\r\n      if(isfontF){\r\n        let deline=this.formData.muLine\r\n        if(this.formData.moLine){\r\n          deline+=' '+this.formData.moLine\r\n        }else{\r\n          if(this.formData.mthrough){\r\n            deline+=' '+this.formData.mthrough\r\n          }\r\n          if(deline ===\"\") deline='none'\r\n\r\n          $defElem.css(\"font-family\",this.formData.mfamily)\r\n          $defElem.css('color', this.formData.mcolor)\r\n          $defElem.css('background-color', this.formData.mbgColor)\r\n          $defElem.css('font-size', parseInt(this.formData.mfSize))\r\n          $defElem.css('line-height', this.formData.mlHeight+'px')\r\n          $defElem.css('letter-spacing', parseInt(this.formData.mspacing))\r\n          $defElem.css('text-indent', parseInt(this.formData.mindent))\r\n       \r\n          $defElem.css('text-align', this.formData.malign)\r\n          $defElem.css(\"font-weight\",this.formData.mweight)\r\n          $defElem.css(\"font-style\",this.formData.mfStyle)\r\n          $defElem.css(\"text-decoration\",deline)\r\n        }\r\n      }else{\r\n        let deline=this.formData.uLine\r\n        if(this.formData.oLine){\r\n          deline+=' '+this.formData.oLine\r\n        }else{\r\n          if(this.formData.through){\r\n            deline+=' '+this.formData.through\r\n          }\r\n          if(deline ===\"\") deline='none'\r\n\r\n          $defElem.css(\"font-family\",this.formData.family)\r\n          $defElem.css('color', this.formData.color)\r\n          $defElem.css('background-color', this.formData.bgColor)\r\n          $defElem.css('font-size', parseInt(this.formData.fSize))\r\n          $defElem.css('line-height', this.formData.lHeight+'px')\r\n          $defElem.css('letter-spacing', parseInt(this.formData.spacing))\r\n          $defElem.css('text-indent', parseInt(this.formData.indent))\r\n       \r\n          $defElem.css('text-align', this.formData.align)\r\n          $defElem.css(\"font-weight\",this.formData.weight)\r\n          $defElem.css(\"font-style\",this.formData.fStyle)\r\n          $defElem.css(\"text-decoration\",deline)\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n //弹出来设置文字选中 转换成小写：toLowerCase()\r\n  getFontActive($objElem){\r\n    let $elemInput=$objElem.find('input[type=hidden]')\r\n    let $attrName=$elemInput.attr('name').toLowerCase()\r\n    if($objElem.parent().hasClass(\"font-f\")){\r\n      $attrName = $attrName.substr(1)\r\n    }\r\n    if($objElem.hasClass(\"active\")){\r\n      $objElem.removeClass(\"active\")\r\n      switch($attrName) {\r\n        case 'weight':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'fstyle':\r\n          $elemInput.val('normal')\r\n          break;\r\n        case 'oline':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'through':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'uline':\r\n          $elemInput.val('')\r\n          break;\r\n      } \r\n    }else{\r\n      $objElem.addClass(\"active\")\r\n      switch($attrName) {\r\n        case 'weight':\r\n          $elemInput.val(\"600\")\r\n          break;\r\n        case 'fstyle':\r\n          $elemInput.val('italic')\r\n          break;\r\n        case 'oline':\r\n          $elemInput.val('overline')\r\n          break;\r\n        case 'through':\r\n          $elemInput.val('line-through')\r\n          break;\r\n        case 'uline':\r\n          $elemInput.val('underline')\r\n          break;\r\n      } \r\n    }\r\n  }\r\n  initPorpPanel() { \r\n    console.log('initPorpPanel')\r\n    let that = this\r\n    \r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.text-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    this.updatePropPanel();\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.hrefMode = val ? '_blank' : ''\r\n    })\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]') \r\n    $hrefInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.href = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]') \r\n    $bRadiusInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bRadius = val\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.change(function() {\r\n      that.formData.family = $(this).prop('value')\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]') \r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.color = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]') \r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgColor = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]') \r\n    $fSizeInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.fSize = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $lHeightInput = $propPanel.find('input[type=text][name=lHeight]') \r\n    $lHeightInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.lHeight = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]') \r\n    $spacingInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.spacing = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]') \r\n    $indentInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.indent = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]') \r\n    $contentTextarea.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.content = val\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $hoverModeRadio = $propPanel.find('input[type=radio][name=hoverMode]')\r\n    $hoverModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.hoverMode = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mfamilySelect = $propPanel.find('select[name=mfamily]')\r\n    $mfamilySelect.change(function() {\r\n      that.formData.mfamily = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $mcolorInput = $propPanel.find('input[type=text][name=mcolor]') \r\n    $mcolorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mcolor = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mbgColorInput = $propPanel.find('input[type=text][name=mbgColor]') \r\n    $mbgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mbgColor = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mfSizeInput = $propPanel.find('input[type=text][name=mfSize]') \r\n    $mfSizeInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mfSize = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mlHeightInput = $propPanel.find('input[type=text][name=mlHeight]') \r\n    $mlHeightInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mlHeight = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mspacingInput = $propPanel.find('input[type=text][name=mspacing]') \r\n    $mspacingInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mspacing = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mindentInput = $propPanel.find('input[type=text][name=mindent]') \r\n    $mindentInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mindent = val\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mcontentTextarea = $propPanel.find('textarea[name=mcontent]') \r\n    $mcontentTextarea.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mcontent = val\r\n      that.update(that.formData)\r\n    })\r\n\r\n\r\n    //以下是动画\r\n    let $mTsDurInput = $propPanel.find('input[type=text][name=mTsDur]') \r\n    $mTsDurInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mTsDur = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mTsFunRadio = $propPanel.find('input[type=radio][name=mTsFun]')\r\n    $mTsFunRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.mTsFun = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mTsAntRadio = $propPanel.find('input[type=radio][name=mTsAnt]')\r\n    $mTsAntRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.mTsAnt = val\r\n      that.update(that.formData)\r\n    })\r\n    // 以下是默认边框 \r\n    let $bdTCheckBox = $propPanel.find('input[type=checkbox][name=bdT]')\r\n    $bdTCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdT = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $bdBCheckBox = $propPanel.find('input[type=checkbox][name=bdB]')\r\n    $bdBCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdB = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $bdLCheckBox = $propPanel.find('input[type=checkbox][name=bdL]')\r\n    $bdLCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdL = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $bdRCheckBox = $propPanel.find('input[type=checkbox][name=bdR]')\r\n    $bdRCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.bdR = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]') \r\n    $bdWidthInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bdWidth = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]') \r\n    $bdColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bdColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n    $bdStyleRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.bdStyle = val\r\n      that.update(that.formData)\r\n    })\r\n\r\n    //正反  文字对齐 事件\r\n    let $alignRadio = $propPanel.find('.font-setting .font-item-radio')\r\n    $alignRadio.click(function() {\r\n      let val = $(this).attr('data-val')\r\n      let $alignParent=$(this).parent()\r\n      let isOff= $alignParent.hasClass(\"font-f\")  ? true :false\r\n      if(isOff){\r\n        that.formData.malign = val\r\n      }else{\r\n        that.formData.align = val\r\n      }\r\n      $alignParent.find('.font-item-radio').removeClass(\"active\")\r\n      $(this).addClass(\"active\")\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    //转换成小写：toLowerCase()\r\n    let $fontCheckbox = $propPanel.find('.font-z .font-item-checkbox')\r\n    $fontCheckbox.click(function() {\r\n      let $elemInput=$(this).find('input[type=hidden]')\r\n      let $attrName = $elemInput.attr('name').toLowerCase()\r\n      if($(this).hasClass(\"active\")){\r\n        $(this).removeClass(\"active\")\r\n        switch($attrName) {\r\n          case 'weight':\r\n            that.formData.weight =\"\"\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'fstyle':\r\n            that.formData.fStyle ='normal'\r\n            $elemInput.val(\"normal\")\r\n            break;\r\n          case 'oline':\r\n            that.formData.oLine =''\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'through':\r\n            that.formData.through = ''\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'uline':\r\n            that.formData.uLine = ''\r\n            $elemInput.val(\"\")\r\n            break;\r\n        } \r\n      }else{\r\n        $(this).addClass(\"active\")\r\n        switch($attrName) {\r\n          case 'weight':\r\n            that.formData.weight =\"600\"\r\n            $elemInput.val(\"600\")\r\n            break;\r\n          case 'fstyle':\r\n            that.formData.fStyle ='italic'\r\n            $elemInput.val(\"italic\")\r\n            break;\r\n          case 'oline':\r\n            that.formData.oLine ='overline'\r\n            $elemInput.val(\"overline\")\r\n            break;\r\n          case 'through':\r\n            that.formData.through = 'line-through'\r\n            $elemInput.val(\"line-through\")\r\n            break;\r\n          case 'uline':\r\n            that.formData.uLine = 'underline'\r\n            $elemInput.val(\"underline\")\r\n            break;\r\n        } \r\n      }\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n \r\n    let $ffontCheckbox = $propPanel.find('.font-f .font-item-checkbox')\r\n    $ffontCheckbox.click(function() {\r\n      let $elemInput=$(this).find('input[type=hidden]')\r\n      let $attrName = $elemInput.attr('name').toLowerCase()\r\n      if($(this).hasClass(\"active\")){\r\n        $(this).removeClass(\"active\")\r\n        switch($attrName) {\r\n          case 'mweight':\r\n            that.formData.mweight =\"\"\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'mfstyle':\r\n            that.formData.mfStyle ='normal'\r\n            $elemInput.val(\"normal\")\r\n            break;\r\n          case 'moLine':\r\n            that.formData.moLine =''\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'mthrough':\r\n            that.formData.mthrough = ''\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'muLine':\r\n            that.formData.muLine = ''\r\n            $elemInput.val(\"\")\r\n            break;\r\n        } \r\n      }else{\r\n        $(this).addClass(\"active\")\r\n        switch($attrName) {\r\n          case 'mweight':\r\n            that.formData.mweight =\"600\"\r\n            $elemInput.val(\"600\")\r\n            break;\r\n          case 'mfstyle':\r\n            that.formData.mfStyle ='italic'\r\n            $elemInput.val(\"italic\")\r\n            break;\r\n          case 'moline':\r\n            that.formData.moLine ='overline'\r\n            $elemInput.val(\"overline\")\r\n            break;\r\n          case 'mthrough':\r\n            that.formData.mthrough = 'line-through'\r\n            $elemInput.val(\"line-through\")\r\n            break;\r\n          case 'muline':\r\n            that.formData.muLine = 'underline'\r\n            $elemInput.val(\"underline\")\r\n            break;\r\n        } \r\n      }\r\n      that.update(that.formData)\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n\r\n    // 以下是经过边框 \r\n    let $mbdTCheckBox = $propPanel.find('input[type=checkbox][name=mbdT]')\r\n    $mbdTCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.mbdT = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdBCheckBox = $propPanel.find('input[type=checkbox][name=mbdB]')\r\n    $mbdBCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.mbdB = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdLCheckBox = $propPanel.find('input[type=checkbox][name=mbdL]')\r\n    $mbdLCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.mbdL = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdRCheckBox = $propPanel.find('input[type=checkbox][name=mbdR]')\r\n    $mbdRCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.mbdR = val ? 'on' : ''\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdWidthInput = $propPanel.find('input[type=text][name=mbdWidth]') \r\n    $mbdWidthInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mbdWidth = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdColorInput = $propPanel.find('input[type=text][name=mbdColor]') \r\n    $mbdColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mbdColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdStyleRadio = $propPanel.find('input[type=radio][name=mbdStyle]')\r\n    $mbdStyleRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.mbdStyle = val\r\n      that.update(that.formData)\r\n    })\r\n    //边框动画\r\n    let $mbdTsDurInput = $propPanel.find('input[type=text][name=mbdTsDur]') \r\n    $mbdTsDurInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.mbdTsDur = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdTsFunRadio = $propPanel.find('input[type=radio][name=mbdTsFun]')\r\n    $mbdTsFunRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.mbdTsFun = val\r\n      that.update(that.formData)\r\n    })\r\n    let $mbdTsAntRadio = $propPanel.find('input[type=radio][name=mbdTsAnt]')\r\n    $mbdTsAntRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.mbdTsAnt = val\r\n      that.update(that.formData)\r\n    })\r\n\r\n    //同步文字样式\r\n    $propPanel.find('.font-synchronous').on('click', function() {\r\n      let mthat=$(this)\r\n      let layer = layui.layer\r\n      layer.msg('你确定  同步默文 文字样式么？', {\r\n        time: 0 //不自动关闭\r\n        ,btn: ['同步', '取消']\r\n        ,yes: function(index){\r\n          that.onTongBu($propPanel,true,that)\r\n          that.update(that.formData)\r\n          that.updatePreviewStyle(mthat)\r\n          layer.close(index)\r\n        }\r\n      })\r\n    })\r\n \r\n    $propPanel.find('.layui-btn-sm').on('click', function() {\r\n      let layer = layui.layer\r\n      layer.msg('你确定  同步默文 边框样式么？', {\r\n        time: 0 //不自动关闭\r\n        ,btn: ['同步', '取消']\r\n        ,yes: function(index){\r\n          that.onTongBuBd($propPanel,true,that);\r\n          that.update(that.formData)\r\n          layer.close(index)\r\n        }\r\n      });\r\n    })\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '文字设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        if (that.formData.color) {\r\n         let $colorInput=$layerElem.find('input[type=text][name=color]')\r\n         $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.color)\r\n        } \r\n        if (that.formData.bgColor) {\r\n         let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n         $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        } \r\n        if (that.formData.mcolor) {\r\n         let $mcolorInput=$layerElem.find('input[type=text][name=mcolor]')\r\n         $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mcolor)\r\n        } \r\n        if (that.formData.mbgColor) {\r\n         let $mbgColorInput=$layerElem.find('input[type=text][name=mbgColor]')\r\n         $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbgColor)\r\n        } \r\n        //边框\r\n        if (that.formData.bdColor) {\r\n         let $bdColorInput=$layerElem.find('input[type=text][name=bdColor]')\r\n         $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bdColor)\r\n        } \r\n        if (that.formData.mbdColor) {\r\n         let $mbdColorInput=$layerElem.find('input[type=text][name=mbdColor]')\r\n         $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbdColor)\r\n        } \r\n        if(that.formData.weight==\"600\"){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(0)').addClass('active')\r\n        }\r\n\r\n        if(that.formData.fStyle=='italic'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(1)').addClass('active')\r\n        }\r\n        if(that.formData.oLine=='overline'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(2)').addClass('active')\r\n        }\r\n        if(that.formData.through=='line-through'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(3)').addClass('active')\r\n        }\r\n        if(that.formData.uLine=='underline'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(4)').addClass('active')\r\n        }\r\n\r\n        $layerElem.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n        $layerElem.find(`.font-f .font-item-radio[data-val=\"${that.formData.malign}\"]`).addClass('active')\r\n\r\n        if(that.formData.mfStyle=='italic'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(1)').addClass('active')\r\n        }\r\n        if(that.formData.moLine=='overline'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(2)').addClass('active')\r\n        }\r\n        if(that.formData.mthrough=='line-through'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(3)').addClass('active')\r\n        }\r\n        if(that.formData.muLine=='underline'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(4)').addClass('active')\r\n        }\r\n        \r\n        $layerElem.find('.font-setting .font-item-checkbox').on('click', function() {\r\n           that.getFontActive($(this));\r\n        })\r\n\r\n        $layerElem.find('.font-setting .font-item-radio').on('click', function() {\r\n          let $objElem=$(this)\r\n          $objElem.parent().find('.font-item-radio').removeClass(\"active\")\r\n          $objElem.addClass(\"active\")\r\n        })\r\n \r\n\r\n        $layerElem.find('.font-synchronous').on('click', function() {\r\n          let form = layui.form\r\n          layer.msg('你确定  同步默文 文字样式么？', {\r\n            time: 0 //不自动关闭\r\n            ,btn: ['同步', '取消']\r\n            ,yes: function(index){\r\n              that.onTongBu($layerElem,false,that)\r\n              form.render('select');\r\n              layer.close(index)\r\n            }\r\n          });\r\n        })\r\n        $layerElem.find('.layui-btn-sm').on('click', function() {\r\n          let form = layui.form\r\n          layer.msg('你确定  同步默文 边框样式么？', {\r\n            time: 0 //不自动关闭\r\n            ,btn: ['同步', '取消']\r\n            ,yes: function(index){\r\n              that.onTongBuBd($layerElem,false,that);\r\n              form.render();\r\n              layer.close(index)\r\n            }\r\n          });\r\n        })\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"textComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">默认设置</li>\r\n            <li>鼠标经过</li>\r\n            <li>边框设置</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"appLabel\" class=\"layui-input\"></div>\r\n              </div>\r\n\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">样式及内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; height: 36px;\">\r\n                      <select   name=\"family\" >\r\n                          <option value=\"宋体\" >宋体</option>\r\n                          <option value=\"黑体\" >黑体</option>\r\n                          <option value=\"微软雅黑\" >雅黑</option>\r\n                          <option value=\"楷体\" >楷体</option>\r\n                          <option value=\"arial\" >Arial</option>\r\n                          <option value=\"verdana\" >Verdana</option>\r\n                          <option value=\"georgia\" >Georgia</option>\r\n                          <option value=\"times new roman\" >Times New Roman</option>\r\n                          <option value=\"trebuchet ms\" >Trebuchet MS</option>\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"color\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"fSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"bgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"lHeight\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"spacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"indent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting font-z\">\r\n                      <span  title=\"加粗\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕅ</icon><input name=\"weight\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"斜体\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕆ</icon><input name=\"fStyle\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"上划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꔣ</icon><input name=\"oLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"中划线\" class=\"font-item-checkbox\" data-val=\"\"><icon>ꕇ</icon><input name=\"through\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"下划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕈ</icon><input name=\"uLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item-radio\" data-val=\"left\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item-radio\"  data-val=\"center\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item-radio\"  data-val=\"right\" ><icon>ꕑ</icon></span>\r\n                    </div>\r\n                    <textarea   name=\"content\"  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"href\" class=\"layui-input\"></div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景图片</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景平铺</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"bgRep\" >\r\n                    <option value=\"repeat\" >纵横向</option>\r\n                    <option value=\"repeat-x\" >横向</option>\r\n                    <option value=\"repeat-y\" >纵向</option>\r\n                    <option value=\"no-repeat\" >不平铺</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">对齐方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"bgPos\" >\r\n                    <option value=\"0% 0%\">左上</option>\r\n                    <option value=\"0% 50%\">左中</option>\r\n                    <option value=\"0% 100%\">左下</option>\r\n                    <option value=\"50% 0%\">中上</option>\r\n                    <option value=\"50% 50%\">正中</option>\r\n                    <option value=\"50% 100%\">中下</option>\r\n                    <option value=\"100% 0%\">右上</option>\r\n                    <option value=\"100% 50%\">右中</option>\r\n                    <option value=\"100% 100%\">右下</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">鼠标经过状态</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"hoverMode\" lay-filter=\"hoverMode\" value=\"on\" title=\"开启\" >\r\n                  <input type=\"radio\" name=\"hoverMode\" lay-filter=\"hoverMode\" value=\"off\" title=\"关闭\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">样式及内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px;\">\r\n                      <select   name=\"mfamily\" >\r\n                          <option value=\"宋体\" >宋体</option>\r\n                          <option value=\"黑体\" >黑体</option>\r\n                          <option value=\"微软雅黑\" >雅黑</option>\r\n                          <option value=\"楷体\" >楷体</option>\r\n                          <option value=\"arial\" >Arial</option>\r\n                          <option value=\"verdana\" >Verdana</option>\r\n                          <option value=\"georgia\" >Georgia</option>\r\n                          <option value=\"times new roman\" >Times New Roman</option>\r\n                          <option value=\"trebuchet ms\" >Trebuchet MS</option>\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"mcolor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"mfSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"mbgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"mlHeight\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"mspacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"mindent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting font-f\">\r\n                      <span  title=\"加粗\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕅ</icon><input name=\"mweight\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"斜体\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕆ</icon><input name=\"mfStyle\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"上划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꔣ</icon><input name=\"moLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"中划线\" class=\"font-item-checkbox\" data-val=\"\"><icon>ꕇ</icon><input name=\"mthrough\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"下划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕈ</icon><input name=\"muLine\" type=\"hidden\"   value=\"\" /></span>\r\n\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item-radio\" data-val=\"left\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item-radio\"  data-val=\"center\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item-radio\"  data-val=\"right\" ><icon>ꕑ</icon></span>\r\n\r\n                    </div>\r\n                    <textarea   name=\"mcontent\"  ></textarea>\r\n                    <div class=\"font-synchronous\">\r\n                      <icon>ꕦ</icon><span>同步默认文字样式</span>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景图片</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"mbgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景平铺</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"mbgRep\" >\r\n                    <option value=\"repeat\" >纵横向</option>\r\n                    <option value=\"repeat-x\" >横向</option>\r\n                    <option value=\"repeat-y\" >纵向</option>\r\n                    <option value=\"no-repeat\" >不平铺</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">对齐方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"mbgPos\" >\r\n                    <option value=\"0% 0%\">左上</option>\r\n                    <option value=\"0% 50%\">左中</option>\r\n                    <option value=\"0% 100%\">左下</option>\r\n                    <option value=\"50% 0%\">中上</option>\r\n                    <option value=\"50% 50%\">正中</option>\r\n                    <option value=\"50% 100%\">中下</option>\r\n                    <option value=\"100% 0%\">右上</option>\r\n                    <option value=\"100% 50%\">右中</option>\r\n                    <option value=\"100% 100%\">右下</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div  class=\"layui-tab-item\">\r\n              <div class=\"layui-tab layui-side-card\">\r\n                <ul class=\"layui-tab-title\"  >\r\n                  <li class=\"layui-this\" style=\"margin-top: 110px;\">默认边框</li>\r\n                  <li class=\"\">鼠标划过动画</li>\r\n                </ul>\r\n                <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n                  <div class=\"layui-tab-item layui-show\">\r\n                    <fieldset class=\"layui-elem-field\" style=\"margin-top:20px;\">\r\n                      <legend>默认边框</legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框显示</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"checkbox\" name=\"bdT\" value=\"on\" lay-skin=\"primary\" title=\"上边\"  >\r\n                            <input type=\"checkbox\" name=\"bdB\" value=\"on\" lay-skin=\"primary\" title=\"下边\">\r\n                            <input type=\"checkbox\" name=\"bdL\" value=\"on\" lay-skin=\"primary\" title=\"左边\" >\r\n                            <input type=\"checkbox\" name=\"bdR\" value=\"on\" lay-skin=\"primary\" title=\"右边\"  >\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框粗细</label>\r\n                          <div class=\"layui-input-inline input-short\" style=\"width:80px;\"><input name=\"bdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                          <label class=\"layui-form-label\">边框颜色</label>\r\n                          <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                            <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                            <input name=\"bdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                            <span class=\"clear-color-button\"></span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\">\r\n                          <label class=\"layui-form-label\">边框样式</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                            <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"dotted\" title=\"细虚线\">\r\n                            <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </fieldset>\r\n                    <fieldset class=\"layui-elem-field\" style=\"margin-top:20px;\">\r\n                      <legend>\r\n                        <span  style=\"margin-right:15px;  display:inline-block\"> 鼠标_移上边框 </span>\r\n                        <button type=\"button\" class=\"layui-btn layui-btn-sm\">同步默认边框</button>\r\n                      </legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框显示</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"checkbox\" name=\"mbdT\" value=\"on\" lay-skin=\"primary\" title=\"上边\"  >\r\n                            <input type=\"checkbox\" name=\"mbdB\" value=\"on\" lay-skin=\"primary\" title=\"下边\">\r\n                            <input type=\"checkbox\" name=\"mbdL\" value=\"on\" lay-skin=\"primary\" title=\"左边\" >\r\n                            <input type=\"checkbox\" name=\"mbdR\" value=\"on\" lay-skin=\"primary\" title=\"右边\"  >\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\"  >\r\n                          <label class=\"layui-form-label\">边框粗细</label>\r\n                          <div class=\"layui-input-inline input-short\" style=\"width:80px;\"><input name=\"mbdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                          <label class=\"layui-form-label\">边框颜色</label>\r\n                          <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                            <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                            <input name=\"mbdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                            <span class=\"clear-color-button\"></span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"layui-form-item\">\r\n                          <label class=\"layui-form-label\">边框样式</label>\r\n                          <div class=\"layui-input-block\">\r\n                            <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                            <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"dotted\" title=\"细虚线\">\r\n                            <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </fieldset>\r\n                  </div>\r\n                  <div class=\"layui-tab-item \">\r\n                    <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n                      <legend>\r\n                        动画时长                      \r\n                        <input class=\"input-short\"  type=\"text\" name=\"mbdTsDur\"  style=\"width:50px; height:20px; margin-left:10px; padding-left:5px;\" />\r\n                        <label class=\"label-con\">秒</label>\r\n                      </legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"linear\"  title=\"匀速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease\"  title=\"逐渐变慢\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-in\"   title=\"减速\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-out\"   title=\"加速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                      </div>\r\n                    </fieldset>\r\n                    <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n                      <legend>动画效果</legend>\r\n                      <div class=\"layui-field-box\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx0\" title=\"直接切换\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx1\" title=\"渐隐渐显\" >\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx4\"  title=\"左对角线切入\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx5\"  title=\"右对角线切入\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx6\"  title=\"顺时针出现\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx7\"  title=\"逆时针出现\">\r\n                        <div class=\"sepline\"></div>\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx8\"  title=\"由点到线\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx9\"  title=\"由点到面\">\r\n                      </div>\r\n                    </fieldset>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <fieldset  class=\"layui-elem-field\">\r\n                <legend>\r\n                  动画时长                      \r\n                  <input class=\"input-short\"  type=\"text\" name=\"mTsDur\"  style=\"width:50px; height:20px; margin-left:10px; padding-left:5px;\" />\r\n                  <label class=\"label-con\">秒</label>\r\n                </legend>\r\n                <div class=\"layui-field-box\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"linear\"  title=\"匀速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease\"  title=\"逐渐变慢\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease-in\"   title=\"减速\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease-out\"   title=\"加速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                </div>\r\n              </fieldset>\r\n              <fieldset  class=\"layui-elem-field\" style=\"margin-top:15px;\">\r\n                <legend>动画效果</legend>\r\n                <div class=\"layui-field-box\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans0\" title=\"无效果\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans1\" title=\"右切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans2\"  title=\"下切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans3\"  title=\"左切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans4\"  title=\"上切入\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans5\"  title=\"右切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans6\"  title=\"下切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans7\"  title=\"左切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans8\"  title=\"上切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans9\"  title=\"右切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans10\"   title=\"下切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans11\"   title=\"左切入切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans12\"  title=\"上切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans13\"  title=\"放大出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans14\"  title=\"缩小出现\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans15\"  title=\"翻转出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans16\"  title=\"缩放出现1\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans17\"  title=\"缩放出现2\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans18\"  title=\"旋转放大\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans19\"  title=\"旋转缩小\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans20\"  title=\"渐隐渐显\">\r\n                </div>\r\n              </fieldset>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"textComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(textComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.formData.align = $layerElem.find('.font-z .font-item-radio.active').data('val')\r\n      that.formData.malign = $layerElem.find('.font-f .font-item-radio.active').data('val')\r\n\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('textComponentForm', that.formData)\r\n  }\r\n  update(formData) {\r\n    let that = this\r\n    let bRadius=this.formData.bRadius;\r\n    let deline=this.formData.uLine;\r\n    if(this.formData.oLine){\r\n      deline+=' '+this.formData.oLine\r\n    }\r\n    if(this.formData.through){\r\n      deline+=' '+this.formData.through\r\n    }\r\n    if(deline ===\"\") deline='none'\r\n    let $defPanel=this.$contentBox.find(\".on\")\r\n    $defPanel.css(\"font-family\",this.formData.family)\r\n    $defPanel.css('color', this.formData.color)\r\n    $defPanel.css('background-color', this.formData.bgColor)\r\n    $defPanel.css('font-size', parseInt(this.formData.fSize))\r\n    $defPanel.css('line-height', this.formData.lHeight+'px')\r\n    $defPanel.css('letter-spacing', parseInt(this.formData.spacing))\r\n    $defPanel.css('text-indent', parseInt(this.formData.indent))\r\n    $defPanel.css('border-radius',parseInt(bRadius))\r\n    \r\n    $defPanel.css('text-align', this.formData.align)\r\n    $defPanel.css(\"font-weight\",this.formData.weight)\r\n    $defPanel.css(\"font-style\",this.formData.fStyle)\r\n    $defPanel.css(\"text-decoration\",deline)\r\n \r\n\r\n    $defPanel.text(formData.content)\r\n\r\n    let $offPanel=this.$contentBox.find(\".off\")\r\n    let _mTsAntAttr=this.$content.attr(\"mTsAnt\")\r\n    if(this.formData.hoverMode===\"on\"){\r\n      $offPanel.remove()\r\n\r\n      let offline=this.formData.muLine;\r\n      if(this.formData.moLine){\r\n        offline+=' '+this.formData.moLine\r\n      }\r\n      if(this.formData.mthrough){\r\n        offline+=' '+this.formData.mthrough\r\n      }\r\n      if(offline ===\"\") offline='none'\r\n\r\n      let $_mTsAnt=this.formData.mTsAnt\r\n\r\n      if($_mTsAnt=='atrans5' || $_mTsAnt=='atrans6' || $_mTsAnt==='atrans7' || $_mTsAnt==='atrans8' || $_mTsAnt==='atrans9' || $_mTsAnt==='atrans19' ){\r\n        this.$contentBox.find(\".on\").before(\"<div class='off'></div>\")\r\n      }else{\r\n        this.$contentBox.find(\".on\").after(\"<div class='off'></div>\")\r\n      }\r\n      $offPanel=this.$contentBox.find(\".off\")\r\n      $offPanel.text(formData.mcontent)\r\n      $offPanel.css(\"font-family\",this.formData.mfamily)\r\n      $offPanel.css('color', this.formData.mcolor)\r\n      $offPanel.css('background-color', this.formData.mbgColor)\r\n      $offPanel.css('font-size', parseInt(this.formData.mfSize))\r\n      $offPanel.css('line-height', this.formData.mlHeight+'px')\r\n      $offPanel.css('letter-spacing', parseInt(this.formData.mspacing))\r\n      $offPanel.css('text-indent', parseInt(this.formData.mindent))\r\n\r\n      $offPanel.css('border-radius', this.formData.bRadius)\r\n\r\n      $offPanel.css('text-align', this.formData.malign)\r\n      $offPanel.css(\"font-weight\",this.formData.mweight)\r\n      $offPanel.css(\"font-style\",this.formData.mfStyle)\r\n      $offPanel.css(\"text-decoration\",offline)\r\n\r\n\r\n      if(this.formData.mTsFun==='cubic-bezier'){\r\n        $defPanel.css('transition-timing-function', 'cubic-bezier(0.52, 1.64, 0.37, 0.66)')\r\n        $offPanel.css('transition-timing-function', 'cubic-bezier(0.52, 1.64, 0.37, 0.66)')\r\n      }else{\r\n        $defPanel.css('transition-timing-function', this.formData.mTsFun)\r\n        $offPanel.css('transition-timing-function', this.formData.mTsFun)\r\n      }\r\n      $defPanel.css('transition-duration', this.formData.mTsDur+'s')\r\n      $offPanel.css('transition-duration', this.formData.mTsDur+'s')\r\n\r\n      \r\n      this.$content.removeClass(_mTsAntAttr);\r\n      this.$content.addClass(this.formData.mTsAnt)\r\n      this.$content.attr(\"mTsAnt\",this.formData.mTsAnt)\r\n    }else{\r\n      $offPanel.remove();\r\n      this.$content.removeClass(_mTsAntAttr);\r\n      this.$content.attr(\"mTsAnt\",'')\r\n    }\r\n      $offPanel=this.$contentBox.find(\".off\")\r\n\r\n\r\n    //处理边框\r\n    let isDefBk=false;\r\n    let $textPanel=this.$contentBox.find(\".ant-text\")\r\n    $textPanel.css('border-radius',parseInt(bRadius))\r\n\r\n    let bdWidth=this.formData.bdWidth !=\"\" ? parseInt(this.formData.bdWidth) : '';\r\n    let $alPanel=this.$contentBox.find(\".bk-aline\")\r\n    if (this.formData.bdT===\"on\" || this.formData.bdB===\"on\" ||this.formData.bdL===\"on\"||this.formData.bdR===\"on\"){\r\n      if($alPanel.length <=0)\r\n        $textPanel.append(\"<div class='bk-aline'></div>\")\r\n      $alPanel=this.$contentBox.find(\".bk-aline\")\r\n      $alPanel.css('border-radius',parseInt(bRadius))\r\n\r\n\r\n      if(this.formData.bdT===\"on\"){\r\n        $alPanel.css('border-top-width', bdWidth)\r\n        $defPanel.css('padding-top', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-top-width', 0)\r\n        $defPanel.css('padding-top', 0)\r\n      }\r\n      if(this.formData.bdB===\"on\"){\r\n        $alPanel.css('border-bottom-width', bdWidth)\r\n        $defPanel.css('padding-bottom', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-bottom-width', 0)\r\n        $defPanel.css('padding-bottom', 0)\r\n      }\r\n      if(this.formData.bdL===\"on\"){\r\n        $alPanel.css('border-Left-width', bdWidth)\r\n        $defPanel.css('padding-Left', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-Left-width', 0)\r\n        $defPanel.css('padding-Left', 0)\r\n      }\r\n      if(this.formData.bdR===\"on\"){\r\n        $alPanel.css('border-right-width', bdWidth)\r\n        $defPanel.css('padding-right', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-right-width', 0)\r\n        $defPanel.css('padding-right', 0)\r\n      }\r\n      $alPanel.css('border-style', this.formData.bdStyle)\r\n      $alPanel.css('border-color', this.formData.bdColor)\r\n    }else{\r\n        $alPanel.remove()\r\n        isDefBk=true\r\n    }\r\n\r\n \r\n    let mbdTsAntVal=this.$content.attr(\"mbdTsAnt\")\r\n    this.$content.removeClass(mbdTsAntVal);\r\n    this.$content.addClass(this.formData.mbdTsAnt)\r\n    this.$content.attr(\"mbdTsAnt\",this.formData.mbdTsAnt)\r\n\r\n    if(this.formData.mbdT ===\"on\" || this.formData.mbdB===\"on\" ||this.formData.mbdL===\"on\"||this.formData.mbdR===\"on\" ){\r\n      let mbdTsFunVal=this.formData.mbdTsFun==='cubic-bezier'  ? 'cubic-bezier(0.52, 1.64, 0.37, 0.66)' : this.formData.mbdTsFun\r\n      let mbdTsDurVal=this.formData.mbdTsDur+'s'\r\n      \r\n      const mbdWidth=this.formData.mbdWidth !=\"\" ? parseInt(this.formData.mbdWidth) : '';\r\n      const mbdStyle=this.formData.mbdStyle\r\n      const mbdColor=this.formData.mbdColor\r\n\r\n\r\n\r\n      let $mlPanel=this.$contentBox.find(\".bk-mline\")\r\n      if($mlPanel.length <=0) $textPanel.append(\"<div class='bk-mline'></div>\")\r\n      $mlPanel=this.$contentBox.find(\".bk-mline\")\r\n      $mlPanel.css('border-radius',parseInt(bRadius))\r\n      $mlPanel.css('border-color', mbdColor)\r\n      $mlPanel.css('border-style', mbdStyle)\r\n      $mlPanel.css('transition-timing-function',mbdTsFunVal)\r\n      $mlPanel.css('transition-duration',mbdTsDurVal)\r\n\r\n      let $ltPanel=this.$contentBox.find(\".w-lt\")\r\n      if(this.formData.mbdT===\"on\"){\r\n        if($ltPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lt'></div>\")\r\n          $ltPanel=this.$contentBox.find(\".w-lt\")\r\n          $ltPanel.css('border-top-width',mbdWidth)\r\n          $ltPanel.css('border-top-style',mbdStyle)\r\n          $ltPanel.css('border-top-color',mbdColor)\r\n          $ltPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $ltPanel.css('transition-duration',mbdTsDurVal)\r\n          $offPanel.css('padding-top', mbdWidth)\r\n          $mlPanel.css('border-top-width', mbdWidth)\r\n\r\n          if(isDefBk) $defPanel.css('padding-top', mbdWidth)\r\n          \r\n      }else{\r\n        $offPanel.css('padding-top', 0)\r\n        $mlPanel.css('border-top-width', 0)\r\n        if(isDefBk) $defPanel.css('padding-top', 0)\r\n        $ltPanel.remove()\r\n\r\n      }\r\n      let $lbPanel=this.$contentBox.find(\".w-lb\")\r\n      if(this.formData.mbdB===\"on\"){\r\n        if($lbPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lb'></div>\")\r\n          $lbPanel=this.$contentBox.find(\".w-lb\")\r\n          $lbPanel.css('border-bottom-width',mbdWidth)\r\n          $lbPanel.css('border-bottom-style',mbdStyle)\r\n          $lbPanel.css('border-bottom-color',mbdColor)\r\n          $lbPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $lbPanel.css('transition-duration',mbdTsDurVal)\r\n          $offPanel.css('padding-bottom', mbdWidth)\r\n          $mlPanel.css('border-bottom-width', mbdWidth)\r\n          if(isDefBk) $defPanel.css('padding-bottom', mbdWidth)\r\n      }else{\r\n        \r\n        $offPanel.css('padding-bottom', 0)\r\n        $mlPanel.css('border-bottom-width', 0)\r\n        if(isDefBk) $defPanel.css('padding-bottom', 0)\r\n        $lbPanel.remove()\r\n      }\r\n      let $llPanel=this.$contentBox.find(\".w-ll\")\r\n      if(this.formData.mbdL===\"on\"){\r\n        if($llPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-ll'></div>\")\r\n          $llPanel=this.$contentBox.find(\".w-ll\")\r\n          $llPanel.css('border-left-width',mbdWidth)\r\n          $llPanel.css('border-left-style',mbdStyle)\r\n          $llPanel.css('border-left-color',mbdColor)\r\n          $llPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $llPanel.css('transition-duration',mbdTsDurVal)\r\n          $offPanel.css('padding-left', mbdWidth)\r\n          $mlPanel.css('border-left-width',mbdWidth)\r\n          if(isDefBk) $defPanel.css('padding-left', mbdWidth)\r\n          \r\n      }else{\r\n        \r\n        $offPanel.css('padding-left', 0)\r\n        $mlPanel.css('border-left-width',0)\r\n        if(isDefBk) $defPanel.css('padding-left', 0)\r\n        $llPanel.remove()\r\n      }\r\n      let $lrPanel=this.$contentBox.find(\".w-lr\")\r\n      if(this.formData.mbdR===\"on\"){\r\n        if($lrPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lr'></div>\")\r\n          $lrPanel=this.$contentBox.find(\".w-lr\")\r\n          $lrPanel.css('border-right-width',mbdWidth)\r\n          $lrPanel.css('border-right-style',mbdStyle)\r\n          $lrPanel.css('border-right-color',mbdColor)\r\n          $lrPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $lrPanel.css('transition-duration',mbdTsDurVal)\r\n          $offPanel.css('padding-right', mbdWidth)\r\n          $mlPanel.css('border-right-width',mbdWidth)\r\n          if(isDefBk) $defPanel.css('padding-right', mbdWidth)\r\n          \r\n      }else{\r\n        $offPanel.css('padding-right', 0)\r\n        $mlPanel.css('border-right-width',0)\r\n        if(isDefBk) $defPanel.css('padding-right', 0)\r\n        $lrPanel.remove()\r\n      }\r\n\r\n      //以上所有边框加上\r\n      if(this.formData.mbdTsAnt ===\"bdtx0\" || this.formData.mbdTsAnt ===\"bdtx1\"){\r\n        $ltPanel.remove()\r\n        $lbPanel.remove()\r\n        $llPanel.remove()\r\n        $lrPanel.remove()\r\n      }else{\r\n        $mlPanel.remove()\r\n      }\r\n    }\r\n  }\r\n  updatePropPanel(){\r\n    let that = this\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.val(this.formData.family)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.val(this.formData.fSize)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $lHeightInput = $propPanel.find('input[type=text][name=lHeight]')\r\n    $lHeightInput.val(this.formData.lHeight)\r\n\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]')\r\n    $spacingInput.val(this.formData.spacing)\r\n    \r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]')\r\n    $indentInput.val(this.formData.indent)\r\n\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]')\r\n    $contentTextarea.val(this.formData.content)\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.val(this.formData.bRadius)\r\n\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    //以下是移上信息\r\n    let $hoverModeRadio = $propPanel.find('input[type=radio][name=hoverMode]')\r\n    $hoverModeRadio.filter(`[value=\"${this.formData.hoverMode}\"]`).prop('checked', true)\r\n\r\n    let $mfamilySelect = $propPanel.find('select[name=mfamily]')\r\n    $mfamilySelect.val(this.formData.mfamily)\r\n\r\n    let $mcolorInput = $propPanel.find('input[type=text][name=mcolor]')\r\n    $mcolorInput.val(this.formData.mcolor)\r\n\r\n    let $mfSizeInput = $propPanel.find('input[type=text][name=mfSize]')\r\n    $mfSizeInput.val(this.formData.mfSize)\r\n\r\n    let $mbgColorInput = $propPanel.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.val(this.formData.mbgColor)\r\n\r\n    let $mlHeightInput = $propPanel.find('input[type=text][name=mlHeight]')\r\n    $mlHeightInput.val(this.formData.mlHeight)\r\n\r\n    let $mspacingInput = $propPanel.find('input[type=text][name=mspacing]')\r\n    $mspacingInput.val(this.formData.mspacing)\r\n    \r\n    let $mindentInput = $propPanel.find('input[type=text][name=mindent]')\r\n    $mindentInput.val(this.formData.mindent)\r\n\r\n    let $mcontentTextarea = $propPanel.find('textarea[name=mcontent]')\r\n    $mcontentTextarea.val(this.formData.mcontent)\r\n    if (this.formData.mcolor) {\r\n       $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mcolor)\r\n    }else{\r\n      $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.mbgColor) {\r\n       $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mbgColor)\r\n    }else{\r\n      $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    } \r\n\r\n   //右侧  正面字体样式设置\r\n    $propPanel.find(`.font-setting span`).removeClass('active')\r\n    let $weightInput = $propPanel.find('.font-z input[type=hidden][name=weight]')\r\n    if(that.formData.weight==\"600\"){\r\n      $weightInput.val(\"600\")\r\n      $weightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $weightInput.val(\"\")\r\n    }\r\n    let $fStyleInput = $propPanel.find('.font-z input[type=hidden][name=fStyle]')\r\n    if(that.formData.fStyle==\"italic\"){\r\n      $fStyleInput.val(\"italic\")\r\n      $fStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $fStyleInput.val(\"normal\")\r\n    }\r\n    let $oLineInput = $propPanel.find('.font-z input[type=hidden][name=oLine]')\r\n    if(that.formData.oLine==\"overline\"){\r\n      $oLineInput.val(\"overline\")\r\n      $oLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $oLineInput.val(\"\")\r\n    }\r\n\r\n    let $throughInput = $propPanel.find('.font-z input[type=hidden][name=through]')\r\n    if(that.formData.through==\"line-through\"){\r\n      $throughInput.val(\"line-through\")\r\n      $throughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $throughInput.val(\"\")\r\n    }\r\n    let $uLineInput = $propPanel.find('.font-z input[type=hidden][name=uLine]')\r\n    if(that.formData.uLine==\"underline\"){\r\n      $uLineInput.val(\"underline\")\r\n      $uLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $uLineInput.val(\"\")\r\n    }\r\n\r\n    //右侧 反面字体样式设置\r\n    let $mweightInput = $propPanel.find('.font-f input[type=hidden][name=mweight]')\r\n    if(that.formData.mweight==\"600\"){\r\n      $mweightInput.val(\"600\")\r\n      $mweightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mweightInput.val(\"\")\r\n    }\r\n    let $mfStyleInput = $propPanel.find('.font-f input[type=hidden][name=mfStyle]')\r\n    if(that.formData.mfStyle==\"italic\"){\r\n      $mfStyleInput.val(\"italic\")\r\n      $mfStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mfStyleInput.val(\"normal\")\r\n    }\r\n    let $moLineInput = $propPanel.find('.font-f input[type=hidden][name=moLine]')\r\n    if(that.formData.moLine==\"overline\"){\r\n      $moLineInput.val(\"overline\")\r\n      $moLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $moLineInput.val(\"\")\r\n    }\r\n\r\n    let $mthroughInput = $propPanel.find('.font-f input[type=hidden][name=mthrough]')\r\n    if(that.formData.mthrough==\"line-through\"){\r\n      $mthroughInput.val(\"line-through\")\r\n      $mthroughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mthroughInput.val(\"\")\r\n    }\r\n    let $muLineInput = $propPanel.find('.font-z input[type=hidden][name=muLine]')\r\n    if(that.formData.uLine==\"underline\"){\r\n      $muLineInput.val(\"underline\")\r\n      $muLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $muLineInput.val(\"\")\r\n    }\r\n\r\n    $propPanel.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n    $propPanel.find(`.font-f .font-item-radio[data-val=\"${that.formData.malign}\"]`).addClass('active')\r\n\r\n    //移上动画信息\r\n    let $mTsDurInput = $propPanel.find('input[type=text][name=mTsDur]')\r\n    $mTsDurInput.val(this.formData.mTsDur)\r\n    let $mTsFunRadio = $propPanel.find('input[type=radio][name=mTsFun]')\r\n    $mTsFunRadio.filter(`[value=\"${this.formData.mTsFun}\"]`).prop('checked', true)\r\n    let $mTsAntRadio = $propPanel.find('input[type=radio][name=mTsAnt]')\r\n    $mTsAntRadio.filter(`[value=\"${this.formData.mTsAnt}\"]`).prop('checked', true)\r\n\r\n    //边框信息\r\n    let $bdTCheckBox = $propPanel.find('input[type=checkbox][name=bdT]')\r\n    if (this.formData.bdT === 'on') {\r\n      $bdTCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdTCheckBox.prop('checked', false)\r\n    }\r\n    let $bdBCheckBox = $propPanel.find('input[type=checkbox][name=bdB]')\r\n    if (this.formData.bdB === 'on') {\r\n      $bdBCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdBCheckBox.prop('checked', false)\r\n    }\r\n    let $bdLCheckBox = $propPanel.find('input[type=checkbox][name=bdL]')\r\n    if (this.formData.bdL === 'on') {\r\n      $bdLCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdLCheckBox.prop('checked', false)\r\n    }\r\n    let $bdRCheckBox = $propPanel.find('input[type=checkbox][name=bdR]')\r\n    if (this.formData.bdR === 'on') {\r\n      $bdRCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]')\r\n    $bdWidthInput.val(this.formData.bdWidth)\r\n    let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n    $bdStyleRadio.filter(`[value=\"${this.formData.bdStyle}\"]`).prop('checked', true)\r\n    let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]')\r\n    $bdColorInput.val(this.formData.bdColor)\r\n    if (this.formData.bdColor) {\r\n      $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bdColor)\r\n    }else{\r\n      $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    //移上边框\r\n    let $mbdTCheckBox = $propPanel.find('input[type=checkbox][name=mbdT]')\r\n    if (this.formData.mbdT === 'on') {\r\n      $mbdTCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdTCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdBCheckBox = $propPanel.find('input[type=checkbox][name=mbdB]')\r\n    if (this.formData.mbdB === 'on') {\r\n      $mbdBCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdBCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdLCheckBox = $propPanel.find('input[type=checkbox][name=mbdL]')\r\n    if (this.formData.mbdL === 'on') {\r\n      $mbdLCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdLCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdRCheckBox = $propPanel.find('input[type=checkbox][name=mbdR]')\r\n    if (this.formData.mbdR === 'on') {\r\n      $mbdRCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $mbdWidthInput = $propPanel.find('input[type=text][name=mbdWidth]')\r\n    $mbdWidthInput.val(this.formData.mbdWidth)\r\n    let $mbdStyleRadio = $propPanel.find('input[type=radio][name=mbdStyle]')\r\n    $mbdStyleRadio.filter(`[value=\"${this.formData.mbdStyle}\"]`).prop('checked', true)\r\n    let $mbdColorInput = $propPanel.find('input[type=text][name=mbdColor]')\r\n    $mbdColorInput.val(this.formData.mbdColor)\r\n    if (this.formData.mbdColor) {\r\n      $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mbdColor)\r\n    }else{\r\n      $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    let $mbdTsDurInput = $propPanel.find('input[type=text][name=mbdTsDur]')\r\n    $mbdTsDurInput.val(this.formData.mbdTsDur)\r\n    let $mbdTsFunRadio = $propPanel.find('input[type=radio][name=mbdTsFun]')\r\n    $mbdTsFunRadio.filter(`[value=\"${this.formData.mbdTsFun}\"]`).prop('checked', true)\r\n\r\n    let $mbdTsAntRadio = $propPanel.find('input[type=radio][name=mbdTsAnt]')\r\n    $mbdTsAntRadio.filter(`[value=\"${this.formData.mbdTsAnt}\"]`).prop('checked', true)\r\n  }\r\n}\r\n\r\n\r\n","import Component from './Component'\r\nrequire('./assets/wang2.gif')\r\nrequire('./assets/wang1.gif')\r\nexport default class WangComponent extends Component {\r\n  $content: JQuery\r\n  $wangImg: JQuery\r\n  constructor() {\r\n    super('wang-component', {enableResize: false})\r\n   /* let content = `\r\n        <a class=\"wang-box\"><img src=\"./assets/wang1.gif\"><span>璇子</span></a>\r\n      `\r\n   // this.$contentBox.append(content) */\r\n   this.$content = $('<a class=\"wang-box\"><img class=\"cphoto\" src=\"//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg\"><div class=\"wang-info\" > <img class=\"wang-line\" src=\"./assets/wang1.gif\"><span>John Deao</span></div></a>')\r\n    this.$wangImg = this.$content.find('.wang-line')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    return ''\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.wangMode = '22'\r\n    this.formData.wangID = ''\r\n    this.formData.bgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.eName = 'John Deao'\r\n    this.formData.color = ''\r\n    this.formData.fSize = 12\r\n    this.formData.family = 'arial'\r\n    this.formData.weight = ''\r\n    this.formData.fStyle = 'normal'\r\n    this.formData.tipText = '24Hours Service Online'\r\n    this.formData.nameMl = 5\r\n    this.formData.nameMt = 5 // \r\n    this.update(this.formData)\r\n\r\n  }\r\n  initPorpPanel() {\r\n    console.log('initPorpPanel')\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.ww-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    this.updatePropPanel()\r\n\r\n    let $wangModeRadio = $propPanel.find('input[type=radio][name=wangMode]')\r\n    $wangModeRadio.change(function() {\r\n      that.formData.wangMode = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]') \r\n    $wangIDInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.wangID = val\r\n    })\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]') \r\n    $bgImgInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgImg = val\r\n      that.update(that.formData)\r\n    })\r\n    let $nameMtInput = $propPanel.find('input[type=text][name=nameMt]') \r\n    $nameMtInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.nameMt = val\r\n      that.update(that.formData)\r\n    })\r\n    let $eNameInput = $propPanel.find('input[type=text][name=eName]') \r\n    $eNameInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.eName = val\r\n      that.update(that.formData)\r\n    })\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]') \r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.color = val\r\n      that.update(that.formData)\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]') \r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.bgColor = val\r\n      that.update(that.formData)\r\n    })\r\n    let $nameMlInput= $propPanel.find('input[type=text][name=nameMl]')\r\n    $nameMlInput.change(function() {\r\n      that.formData.nameMl =$(this).val()\r\n      that.update(that.formData)\r\n    })\r\n    let $fSizeInput= $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.change(function() {\r\n      that.formData.fSize =$(this).val()\r\n      that.update(that.formData)\r\n    })\r\n\r\n    let $weightSelect = $propPanel.find('select[name=weight]')\r\n    $weightSelect.change(function() {\r\n      that.formData.weight = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $fStyleSelect = $propPanel.find('select[name=fStyle]')\r\n    $fStyleSelect.change(function() {\r\n      that.formData.fStyle = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.change(function() {\r\n      that.formData.family = $(this).prop('value')\r\n      that.update(that.formData)\r\n    })\r\n    let $tipTextInput= $propPanel.find('input[type=text][name=tipText]')\r\n    $tipTextInput.change(function() {\r\n      that.formData.tipText =$(this).val()\r\n      that.update(that.formData)\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '旺旺设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"wangComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(wangComponentForm)', function(data) {\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n  }\r\n  update(formData) {\r\n    let that = this\r\n    let $cphoto=this.$content.find(\".cphoto\");\r\n    let $spanName=this.$content.find(\".wang-info span\");\r\n    this.$content.css('background-color', this.formData.bgColor)\r\n    this.$content.find(\".wang-info\").css(\"margin-top\",parseInt(this.formData.nameMt))\r\n    this.$content.attr('title', this.formData.tipText) \r\n\r\n    let lineImg=this.formData.wangMode ==\"22\" ?  './assets/wang1.gif': './assets/wang2.gif';\r\n    that.$wangImg.attr('src', lineImg)\r\n    if(this.formData.wangMode==\"88\"){\r\n      that.$wangImg.addClass(\"w-mid\")\r\n    }else{\r\n      that.$wangImg.removeClass(\"w-mid\")\r\n    }\r\n   \r\n  \r\n\r\n    if(this.formData.bgImg){\r\n      if($cphoto.length<=0){\r\n         this.$content.find(\".wang-info\").before(\"<img class='cphoto' >\")\r\n      }\r\n      $cphoto=this.$content.find(\".cphoto\");\r\n      $cphoto.attr('src', this.formData.bgImg) \r\n    }else{\r\n      $cphoto.remove();\r\n    }\r\n    if(this.formData.eName){\r\n      if($spanName.length<=0){\r\n        $spanName=this.$content.find(\".wang-line\").after(\"<span>\"+formData.eName+\"</span>\")\r\n      }\r\n      $spanName=this.$content.find(\".wang-info span\");\r\n      $spanName.text(formData.eName)\r\n      $spanName.css(\"color\",this.formData.color)\r\n      $spanName.css('font-size', parseInt(this.formData.fSize))\r\n      $spanName.css(\"font-family\",this.formData.family)\r\n      $spanName.css(\"font-weight\",this.formData.weight)\r\n      $spanName.css(\"font-style\",this.formData.fStyle)\r\n      $spanName.css(\"margin-left\",parseInt(this.formData.nameMl))\r\n       \r\n    }else{\r\n       $spanName.remove();\r\n    }\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $wangModeRadio = $propPanel.find('input[type=radio][name=wangMode]')\r\n    $wangModeRadio.filter(`[value=\"${this.formData.wangMode}\"]`).prop('checked', true)\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n\r\n \r\n    let $nameMtInput = $propPanel.find('input[type=text][name=nameMt]')\r\n    $nameMtInput.val(this.formData.nameMt)\r\n    let $eNameInput = $propPanel.find('input[type=text][name=eName]')\r\n    $eNameInput.val(this.formData.eName)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $nameMlInput = $propPanel.find('input[type=text][name=nameMl]')\r\n    $nameMlInput.val(this.formData.nameMl)\r\n\r\n\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.val(this.formData.fSize)\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.val(this.formData.family)\r\n\r\n    let $weightSelect = $propPanel.find('input[type=text][name=weight]')\r\n    $weightSelect.val(this.formData.weight)\r\n\r\n    let $fStyleSelect = $propPanel.find('select[name=fStyle]')\r\n    $fStyleSelect.val(this.formData.fStyle)\r\n\r\n    let $tipTextInput = $propPanel.find('input[type=text][name=tipText]')\r\n    $tipTextInput.val(this.formData.tipText)\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    } \r\n\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'wangh',\r\n      'config': config,\r\n      'pos': {\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n \r\n ","import './style/index.scss';\r\nimport './style/common.scss';\r\nimport './style/patch.scss';\r\nimport './style/component.scss';\r\nrequire('./common')\r\nimport StageContainer from './StageContainer'\r\nimport ComponentBar from './ComponentBar'\r\nimport Header from './Header';\r\nimport PageConfig from './PageConfig';\r\nimport ToolBar from './ToolBar';\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!');\r\n}\r\n\r\n$(function() {\r\n  // let pageConfig = new PageConfig()\r\n  let stageCt = new StageContainer();\r\n  stageCt.createStage();\r\n  let componentBar = new ComponentBar(stageCt)\r\n  let toolbar = new ToolBar(stageCt)\r\n  let header = new Header(stageCt)\r\n})\r\n\r\n\r\n\r\n","Array.prototype.remove = function (val) {\r\n  var index = this.indexOf(val);\r\n  if (index > -1) {\r\n    this.splice(index, 1);\r\n  }\r\n};\r\n/*\r\nwindow.parseIntNative = window.parseInt\r\nfunction parseInt(num) {\r\n  if (num) {\r\n     return window.parseIntNative(num)\r\n  }\r\n  return ''\r\n}\r\nwindow.parseInt = parseInt\r\n*/\r\nfamilyOption = function () {\r\n var html='';\r\n var josnArry = [\r\n      {\"value\":\"宋体\",\"text\":\"宋体\"},\r\n      {\"value\":\"黑体\",\"text\":\"黑体\"},\r\n      {\"value\":\"微软雅黑\",\"text\":\"雅黑\"},\r\n      {\"value\":\"楷体\",\"text\":\"楷体\"},\r\n      {\"value\":\"arial\",\"text\":\"Arial\"},\r\n      {\"value\":\"verdana\",\"text\":\"Verdana\"},\r\n      {\"value\":\"georgia\",\"text\":\"Georgia\"},\r\n      {\"value\":\"times new roman\",\"text\":\"Times New Roman\"},\r\n      {\"value\":\"trebuchet ms\",\"text\":\"Trebuchet MS\"}];\r\n \r\n      for(var i in josnArry ){ \r\n           \r\n          html+='<option value=\"'+josnArry[i].value+'\">'+josnArry[i].text+'</option>';\r\n      }\r\n    return html;\r\n}\r\n\r\n\r\nArray.prototype.css3MoveMode = function (val) {\r\noptionJson = [\r\n    {\"value\":\"0\",\"name\":\"0像素\"},\r\n    {\"value\":\"5\",\"name\":\"5像素\"},\r\n    {\"value\":\"10\",\"name\":\"10像素\"},\r\n    {\"value\":\"15\",\"name\":\"15像素\"},\r\n    {\"value\":\"20\",\"name\":\"20像素\"},\r\n    {\"value\":\"30\",\"name\":\"30像素\"},\r\n    {\"value\":\"40\",\"name\":\"40像素\"},\r\n    {\"value\":\"50\",\"name\":\"50像素\"},\r\n    {\"value\":\"60\",\"name\":\"60像素\"},\r\n    {\"value\":\"70\",\"name\":\"70像素\"},\r\n    {\"value\":\"80\",\"name\":\"80像素\"},\r\n    {\"value\":\"90\",\"name\":\"90像素\"},\r\n    {\"value\":\"100\",\"name\":\"100像素\"},\r\n    {\"value\":\"70\",\"name\":\"70像素\"},\r\n    {\"value\":\"110\",\"name\":\"110像素\"},\r\n    {\"value\":\"120\",\"name\":\"120像素\"},\r\n    {\"value\":\"130\",\"name\":\"130像素\"},\r\n    {\"value\":\"140\",\"name\":\"140像素\"},\r\n    {\"value\":\"150\",\"name\":\"150像素\"},\r\n    {\"value\":\"160\",\"name\":\"160像素\"},\r\n    {\"value\":\"170\",\"name\":\"170像素\"},\r\n    {\"value\":\"180\",\"name\":\"180像素\"},\r\n    {\"value\":\"190\",\"name\":\"190像素\"},\r\n    {\"value\":\"200\",\"name\":\"200像素\"},\r\n    {\"value\":\"210\",\"name\":\"210像素\"},\r\n    {\"value\":\"220\",\"name\":\"220像素\"},\r\n    {\"value\":\"230\",\"name\":\"230像素\"},\r\n    {\"value\":\"240\",\"name\":\"240像素\"},\r\n    {\"value\":\"250\",\"name\":\"250像素\"},\r\n    {\"value\":\"260\",\"name\":\"260像素\"},\r\n    {\"value\":\"270\",\"name\":\"270像素\"},\r\n    {\"value\":\"280\",\"name\":\"280像素\"},\r\n    {\"value\":\"290\",\"name\":\"290像素\"},\r\n    {\"value\":\"300\",\"name\":\"300像素\"},\r\n    {\"value\":\"310\",\"name\":\"310像素\"},\r\n    {\"value\":\"320\",\"name\":\"320像素\"},\r\n    {\"value\":\"330\",\"name\":\"330像素\"},\r\n    {\"value\":\"340\",\"name\":\"340像素\"},\r\n    {\"value\":\"350\",\"name\":\"350像素\"},\r\n    {\"value\":\"360\",\"name\":\"360像素\"},\r\n    {\"value\":\"370\",\"name\":\"370像素\"},\r\n    {\"value\":\"380\",\"name\":\"380像素\"},\r\n    {\"value\":\"390\",\"name\":\"390像素\"},\r\n    {\"value\":\"400\",\"name\":\"400像素\"},\r\n    {\"value\":\"410\",\"name\":\"410像素\"},\r\n    {\"value\":\"420\",\"name\":\"420像素\"},\r\n    {\"value\":\"430\",\"name\":\"430像素\"},\r\n    {\"value\":\"440\",\"name\":\"440像素\"},\r\n    {\"value\":\"450\",\"name\":\"450像素\"},\r\n    {\"value\":\"460\",\"name\":\"460像素\"},\r\n    {\"value\":\"470\",\"name\":\"470像素\"},\r\n    {\"value\":\"480\",\"name\":\"480像素\"},\r\n    {\"value\":\"490\",\"name\":\"490像素\"},\r\n    {\"value\":\"500\",\"name\":\"500像素\"},\r\n    {\"value\":\"510\",\"name\":\"510像素\"},\r\n    {\"value\":\"520\",\"name\":\"520像素\"},\r\n    {\"value\":\"530\",\"name\":\"530像素\"},\r\n    {\"value\":\"540\",\"name\": \"540像素\"},\r\n    {\"value\":\"550\",\"name\": \"550像素\"},\r\n    {\"value\":\"560\",\"name\": \"560像素\"},\r\n    {\"value\":\"570\",\"name\": \"570像素\"},\r\n    {\"value\":\"580\",\"name\": \"580像素\"},\r\n    {\"value\":\"590\",\"name\": \"590像素\"},\r\n    {\"value\":\"600\",\"name\": \"600像素\"},\r\n    {\"value\":\"610\",\"name\": \"610像素\"},\r\n    {\"value\":\"620\",\"name\": \"620像素\"},\r\n    {\"value\":\"670\",\"name\": \"670像素\"},\r\n    {\"value\":\"720\",\"name\": \"720像素\"},\r\n    {\"value\":\"770\",\"name\": \"770像素\"}, \r\n    {\"value\":\"820\",\"name\": \"820像素\"},\r\n    {\"value\":\"870\",\"name\": \"870像素\"}, \r\n    {\"value\":\"920\",\"name\": \"920像素\"},\r\n    {\"value\":\"970\",\"name\": \"970像素\"}, \r\n    {\"value\":\"820\",\"name\": \"820像素\"},\r\n    {\"value\":\"870\",\"name\": \"870像素\"}, \r\n    {\"value\":\"1020\",\"name\": \"1020像素\"},\r\n    {\"value\":\"1070\",\"name\": \"1070像素\"}, \r\n    {\"value\":\"1170\",\"name\": \"1170像素\"},\r\n    {\"value\":\"1220\",\"name\": \"1220像素\"}, \r\n    {\"value\":\"1270\",\"name\": \"1270像素\"},\r\n    {\"value\":\"1320\",\"name\": \"1320像素\"}, \r\n    {\"value\":\"1370\",\"name\": \"1370像素\"},\r\n    {\"value\":\"1420\",\"name\": \"1420像素\"}, \r\n    {\"value\":\"1470\",\"name\": \"1470像素\"},\r\n    {\"value\":\"1520\",\"name\": \"1520像素\"},\r\n    {\"value\":\"1570\",\"name\": \"1570像素\"},\r\n    {\"value\":\"1620\",\"name\": \"1620像素\"}, \r\n    {\"value\":\"1670\",\"name\": \"1670像素\"},\r\n    {\"value\":\"1720\",\"name\": \"1720像素\"}, \r\n    {\"value\":\"1770\",\"name\": \"1770像素\"},\r\n    {\"value\":\"1820\",\"name\": \"1820像素\"}, \r\n    {\"value\":\"1870\",\"name\": \"1870像素\"},\r\n    {\"value\":\"1920\",\"name\": \"1920像素\"},];\r\n}\r\n","import Stage from './Stage'\r\nimport PageConfig from './PageConfig';\r\nexport default class StageContainer {\r\n  $el: JQuery\r\n  stages: Array<Stage> = []\r\n  curStage: Stage = null\r\n  constructor() {\r\n    let $stageCt = $('.stage-ct');\r\n    this.stages = [];\r\n    this.$el = $stageCt;\r\n  }\r\n  createStage() {\r\n    let stage = new Stage();\r\n    stage.create(this.$el);\r\n    this.curStage = stage;\r\n    this.stages.push(stage);\r\n  }\r\n}\r\n","import Draggable from './Draggable';\r\nimport Ruler from './Ruler';\r\nimport Component from './Component';\r\nimport HotAreaComponent from './HotAreaComponent';\r\nimport ImgComponent from './ImgComponent';\r\nimport TextComponent from './TextComponent';\r\nimport WangComponent from './WangComponent';\r\nimport History from './History'\r\nexport default class Stage {\r\n  static STATE: Array<string> = ['hotarea', 'selection', 'handle']\r\n  EVENTS: Array<string> = []\r\n  isRuler: boolean = true\r\n  drags: Array<Draggable> = []\r\n  curSelectedComponent: Component = null\r\n  components: Array<Component> = []\r\n  $el: JQuery\r\n  $canvasWrap: JQuery\r\n  $canvasBox: JQuery\r\n  $scrollContent: JQuery\r\n  $canvas: JQuery\r\n  myScroll: any\r\n  selector = null\r\n  paddingWidth: number\r\n  paddingHeight: number\r\n  ruler: Ruler\r\n  pageWidth: number = 1920\r\n  pageHeight: number = 2561\r\n  state: string = Stage.STATE[0]\r\n  propPanel: any = {}\r\n  history: History = new History()\r\n  props: any = {\r\n    bgColor: '#FFFFFF',\r\n    position: '50% 0%',\r\n    overflow: 'hidden'\r\n  }\r\n  id: string\r\n  constructor() {\r\n    this.EVENTS = this.isTouch() ?\r\n    ['touchstart', 'touchmove', 'touchend'] : ['mousedown', 'mousemove', 'mouseup'];\r\n    this.id = this.getRandomStr(5)\r\n  }\r\n  create($stageCt) {\r\n    let canvasWidth = this.pageWidth;\r\n    let canvasHeight = this.pageHeight;\r\n    let $el = $('<div class=\"stage\"></div>');\r\n\r\n    let $canvasWrap, $scrollContent, $canvas;\r\n\r\n    $stageCt.append($el);\r\n\r\n    $canvasWrap = $(`\r\n      <div class=\"canvas-wrap\">\r\n        <div>\r\n          <div class=\"canvas-box\">\r\n            <div class=\"canvas\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n\r\n    this.paddingWidth = Math.ceil($el.width() / 100) * 100;\r\n    this.paddingHeight = Math.ceil($el.height() / 100) * 100;\r\n    let ruler;\r\n    if (this.isRuler) {\r\n      ruler = new Ruler();\r\n      ruler.create($el);\r\n      $el.append($canvasWrap);\r\n    } else {\r\n      $el.append($canvasWrap);\r\n      $canvasWrap.css('left', 0);\r\n      $canvasWrap.css('top', 0)\r\n    }\r\n\r\n    $scrollContent = $canvasWrap.find('> div');\r\n    $canvas = $canvasWrap.find('.canvas');\r\n    this.$canvas = $canvas;\r\n    this.$canvasBox = $canvasWrap.find('.canvas-box');\r\n    this.$canvasWrap = $canvasWrap;\r\n    this.$el = $el;\r\n    this.ruler = ruler;\r\n    this.$scrollContent = $scrollContent;\r\n    this.createIScroll()\r\n    this.layoutCanvas(canvasWidth, canvasHeight);\r\n    let $rulerX = ruler.$rulerX[0];\r\n    let $rulerY = ruler.$rulerY[0];\r\n    let EVENTS = this.EVENTS;\r\n    $rulerX.addEventListener(EVENTS[0], event => {\r\n      let $guideLine = $('<div class=\"guide-line guide-lineX\"><div></div></div>');\r\n      this.$el.append($guideLine)\r\n      let drag = new Draggable($guideLine[0], {\r\n        snapAnchor: $guideLine[0].children[0],\r\n        minLeft: 20,\r\n        axis: 'y',\r\n        cursor: 'row-resize',\r\n        resizable: false,\r\n      })\r\n      $guideLine.css('top', (event.clientY - this.$el[0].getBoundingClientRect().top - $guideLine[0].children[0]['offsetTop']) + 'px')\r\n      drag.start(event)\r\n      drag.onStop = function(event) {\r\n        if (drag.$el.offsetTop <= 15) {\r\n          $(drag.$el).remove();\r\n        }\r\n      }\r\n    })\r\n\r\n    $rulerY.addEventListener(EVENTS[0], event => {\r\n      let $guideLine = $('<div class=\"guide-line guide-lineY\"><div></div></div>');\r\n      this.$el.append($guideLine)\r\n\r\n      let drag = new Draggable($guideLine[0], {\r\n        snapAnchor: $guideLine[0].children[0],\r\n        minTop: 20,\r\n        axis: 'x',\r\n        cursor: 'col-resize',\r\n        resizable: false,\r\n      })\r\n      $guideLine.css('left', (event.clientX - this.$el[0].getBoundingClientRect().left - $guideLine[0].children[0]['offsetLeft']) + 'px')\r\n      drag.start(event)\r\n      drag.onStop = function(event) {\r\n        if (drag.$el.offsetLeft <= 15) {\r\n          $(drag.$el).remove();\r\n        }\r\n      }\r\n    })\r\n\r\n    this.selector = $scrollContent.selectable({\r\n      disabled: true\r\n    });\r\n    this.setupEvent();\r\n\r\n    this.initPorpPanel()\r\n\r\n    this.recordOps()\r\n    this.checkStore()\r\n    this.autoStore()\r\n  }\r\n\r\n  createIScroll(disableMouse = true, x = 0, y = 0) {\r\n    // @ts-ignore\r\n    this.myScroll = new IScroll(this.$canvasWrap[0], {\r\n      scrollX: true,\r\n      freeScroll: true,\r\n      startX: x,\r\n      startY: y,\r\n      probeType: 3,\r\n      scrollbars: true,\r\n      mouseWheel: true,\r\n      interactiveScrollbars: true,\r\n      disableMouse: disableMouse,\r\n      disablePointer: disableMouse,\r\n      disableTouch: disableMouse\r\n    });\r\n    let ruler = this.ruler\r\n    this.myScroll.on('scroll', function() {\r\n      if (ruler) {\r\n        ruler.setX(this.x);\r\n        ruler.setY(this.y)\r\n      }\r\n    });\r\n  }\r\n\r\n  layoutCanvas(canvasWidth, canvasHeight) {\r\n    let startX = 0, startY = 0, marginLeft = 0, marginTop = 0;\r\n    let scrollContentWidth = canvasWidth, scrollContentHeight = canvasHeight;\r\n    marginLeft = this.paddingWidth / 2;\r\n    marginTop = this.paddingHeight / 2;\r\n    scrollContentWidth = Math.ceil(canvasWidth / 50) * 50 + this.paddingWidth;\r\n    scrollContentHeight = Math.ceil(canvasHeight / 50) * 50 + this.paddingHeight;\r\n    if (canvasWidth < this.$canvasWrap.width()) {\r\n      startX = scrollContentWidth / 2 - this.$canvasWrap.width() / 2;\r\n    } else {\r\n      startX = this.paddingWidth / 2;\r\n    }\r\n    if (canvasHeight < this.$canvasWrap.height()) {\r\n      startY = scrollContentHeight / 2 -this.$canvasWrap.height() / 2;\r\n    } else {\r\n      startY = this.paddingHeight / 2\r\n    }\r\n    this.ruler.update(canvasWidth, canvasHeight, this.paddingWidth, this.paddingHeight);\r\n    if (this.ruler) {\r\n      this.ruler.setX(-startX);\r\n      this.ruler.setY(-startY);\r\n    }\r\n    this.$canvas.width(canvasWidth)\r\n    this.$canvas.height(canvasHeight)\r\n    // this.$canvas.css('margin-left', marginLeft + 'px')\r\n    // this.$canvas.css('margin-top', marginTop + 'px')\r\n    this.$canvasBox.width(canvasWidth)\r\n    this.$canvasBox.height(canvasHeight)\r\n    this.$canvasBox.css('margin-left', marginLeft + 'px')\r\n    this.$canvasBox.css('margin-top', marginTop + 'px')\r\n    this.$scrollContent.width(scrollContentWidth)\r\n    this.$scrollContent.height(scrollContentHeight)\r\n    this.myScroll.scrollTo(-startX, -startY)\r\n    this.myScroll.refresh()\r\n  }\r\n\r\n  setCanvasSize(canvasWidth, canvasHeight) {\r\n    this.pageWidth = canvasWidth\r\n    this.pageHeight = canvasHeight\r\n    this.layoutCanvas(canvasWidth, canvasHeight)\r\n  }\r\n\r\n\r\n  setupEvent() {\r\n    let EVENTS = this.EVENTS;\r\n\r\n    let stageElem = this.$el[0]\r\n    let canvasElem = this.$canvas[0];\r\n    stageElem.addEventListener(EVENTS[1], event => {\r\n      let canvasRect = canvasElem.getBoundingClientRect();\r\n      let eventInfo: any = this.getEventInfo(event);\r\n      let left = eventInfo.clientX - canvasRect.left;\r\n      let top = eventInfo.clientY - canvasRect.top;\r\n      if (left >= 0 && top >= 0 && left < this.$canvas.width() && top < this.$canvas.height()) {\r\n        this.ruler.setCursorPos(left, top)\r\n        this.ruler.showCursor();\r\n      } else {\r\n        this.ruler.hideCursor();\r\n      }\r\n    })\r\n\r\n    canvasElem.addEventListener(EVENTS[0], event => {\r\n      if (event.target !== canvasElem) {\r\n        return\r\n      }\r\n      this.unselectComponent();\r\n      if (this.state !== Stage.STATE[0]) {\r\n        return\r\n      }\r\n      let canvasRect = canvasElem.getBoundingClientRect();\r\n      let that = this;\r\n      let eventInfo: any = this.getEventInfo(event);\r\n      let startX = eventInfo.clientX;\r\n      let startY = eventInfo.clientY;\r\n      let component = null\r\n      function move(event) {\r\n        if (component === null) {\r\n          component = new HotAreaComponent();\r\n          that.curSelectedComponent = component\r\n          that.addComponent(component)\r\n          component.select()\r\n          component.showToolbar()\r\n        }\r\n        event = that.getEventInfo(event)\r\n        let curStartX = event.clientX;\r\n        let curStartY = event.clientY;\r\n        let left, top, width, height;\r\n        if (curStartX < startX) {\r\n          left = curStartX;\r\n          width = startX -curStartX;\r\n        } else {\r\n          left = startX;\r\n          width = curStartX - startX;\r\n        }\r\n\r\n        if (curStartY< startY) {\r\n          top = curStartY;\r\n          height = startY -curStartY;\r\n        } else {\r\n          top = startY;\r\n          height = curStartY - startY;\r\n        }\r\n        that.setElementPos(component.$el, left - canvasRect.left, top - canvasRect.top, width, height)\r\n        component.resetPositionInfo()\r\n      }\r\n      function end(event) {\r\n        if (component) {\r\n          if (component.width() < component.minWidth || component.height() < component.minHeight) {\r\n            that.removeComponent(component);\r\n          }\r\n        }\r\n        document.removeEventListener(EVENTS[1], move)\r\n        document.removeEventListener(EVENTS[2], end)\r\n      }\r\n\r\n      document.addEventListener(EVENTS[1], move)\r\n      document.addEventListener(EVENTS[2], end)\r\n    })\r\n  }\r\n\r\n  setState(state) {\r\n    this.state = state\r\n    if (state === Stage.STATE[1]) {\r\n      this.selector.selectable('option', 'disabled', false);\r\n    } else {\r\n      this.selector.selectable('option', 'disabled', true);\r\n    }\r\n\r\n    if (state === Stage.STATE[2]) {\r\n      this.$canvas.addClass('handle')\r\n      let x = this.myScroll.x\r\n      let y = this.myScroll.y\r\n      this.myScroll.destroy()\r\n      this.createIScroll(false, x, y)\r\n    } else {\r\n      this.$canvas.removeClass('handle')\r\n      let x = this.myScroll.x\r\n      let y = this.myScroll.y\r\n      this.myScroll.destroy()\r\n      this.createIScroll(true, x, y)\r\n    }\r\n\r\n  }\r\n\r\n  unselectComponent() {\r\n    if (this.curSelectedComponent) {\r\n      this.curSelectedComponent.unselect();\r\n      this.curSelectedComponent = null;\r\n    }\r\n  }\r\n\r\n  selectComponent(component) {\r\n    if (this.curSelectedComponent != null && this.curSelectedComponent != component) {\r\n      this.curSelectedComponent.unselect();\r\n    }\r\n    component.select();\r\n    this.curSelectedComponent = component;\r\n  }\r\n\r\n  setElementPos($elem, left, top, width, height) {\r\n    $elem.css('left', left + 'px')\r\n    $elem.css('top', top + 'px')\r\n    $elem.css('width', width + 'px')\r\n    $elem.css('height', height + 'px')\r\n  }\r\n\r\n  isTouch() {\r\n    return 'ontouchstart' in window;\r\n  }\r\n\r\n  getEventInfo(event) {\r\n    return this.isTouch() ? event.targetTouches[0] : event\r\n  }\r\n\r\n\r\n  removeComponent(component) {\r\n    component.remove();\r\n    // @ts-ignore\r\n    this.components.remove(component)\r\n  }\r\n\r\n  addComponent(component) {\r\n    component.mount(this);\r\n    this.components.push(component)\r\n  }\r\n\r\n  setComponentAllowOverstep(allowOverstep) {\r\n    this.components.forEach((component) => {\r\n      if (allowOverstep) {\r\n        component['drag'].option('containment', false)\r\n      } else {\r\n        component['drag'].option('containment', 'parent')\r\n      }\r\n    })\r\n  }\r\n\r\n  generateJsonCode() {\r\n    this.props.width = this.pageWidth\r\n    this.props.height = this.pageHeight\r\n    this.props.app = []\r\n    this.components.forEach((component) => {\r\n      this.props.app.push(component.getProps())\r\n    })\r\n    return JSON.stringify(this.props)\r\n  }\r\n\r\n  generateHtmlCode() {\r\n    let appsHtml = []\r\n    this.components.forEach((component) => {\r\n      appsHtml.push(component.toHtml())\r\n    })\r\n    return `<div style=\"position: relative; overflow: hidden;width: ${this.pageWidth}px; height: ${this.pageHeight}px;background: ${this.props.bgColor};\">\r\n      ${appsHtml.join('')}\r\n    </div>`\r\n  }\r\n\r\n  checkStore() {\r\n    let data = localStorage.getItem('data')\r\n    let that = this\r\n    if (data) {\r\n      let layer = layui.layer;\r\n      layer.confirm('检测到您之前有正在编辑的内容，是否继续上次的操作？',  {\r\n        btn: ['确定','关闭'],\r\n        icon: 3,\r\n        title:'提示'\r\n      }, function(idx) {\r\n        layer.close(idx)\r\n        let jsonObj = JSON.parse(data)\r\n        that.loadProp(jsonObj)\r\n        that.recordOps()\r\n      }, function() {\r\n      });\r\n    }\r\n  }\r\n\r\n  autoStore() {\r\n    let that = this\r\n    setInterval(function() {\r\n      if (that.components.length > 0) {\r\n        let jsonCode = that.generateJsonCode()\r\n        localStorage.setItem('data', jsonCode)\r\n      }\r\n    }, 3000)\r\n  }\r\n  recordOps() {\r\n    this.history.add(this.generateJsonCode())\r\n  }\r\n\r\n  backOps() {\r\n    let data = this.history.back()\r\n    if (data) {\r\n      this.loadProp(JSON.parse(data))\r\n    }\r\n  }\r\n\r\n  forwardOps() {\r\n    let data = this.history.forward()\r\n    if (data) {\r\n      this.loadProp(JSON.parse(data))\r\n    }\r\n  }\r\n\r\n  getRandomStr(len) {\r\n    let charArr = []\r\n    const chars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n    while (len--) {\r\n      charArr.push(chars[Math.floor(chars.length * Math.random())])\r\n    }\r\n    return charArr.join('')\r\n  }\r\n\r\n  clear() {\r\n    this.components.forEach((component) => {\r\n      component.remove()\r\n    })\r\n    this.components = []\r\n  }\r\n\r\n  loadProp(props) {\r\n    this.props = props;\r\n    let propPanel = this.propPanel\r\n    let { $el, $inputWidth, $alignSelect, $inputHeight, $allowOverstep } = propPanel\r\n    $inputWidth.val(props.width)\r\n    $inputHeight.val(props.height)\r\n    $alignSelect.val(props.position)\r\n    if (props.bgColor === 'transparent') {\r\n      this.$canvasBox.addClass('bg-trans')\r\n      this.$canvas.css('background-color', 'transparent')\r\n      $('#inputBgColor').val('').change()\r\n    } else {\r\n      this.$canvasBox.removeClass('bg-trans')\r\n      this.$canvas.css('background-color', props.bgColor)\r\n      $('#inputBgColor').val(props.bgColor).change()\r\n    }\r\n    this.$canvas.css('background-position', `${props.position}`)\r\n    this.$canvas.css('background-image',  `url(\"${props.bgImg}\")`)\r\n    if (props.overflow === 'hidden') {\r\n      $allowOverstep.removeClass('active')\r\n      this.setComponentAllowOverstep(false)\r\n    } else if (props.overflow === 'visible')  {\r\n      $allowOverstep.addClass('active')\r\n      this.setComponentAllowOverstep(true)\r\n    }\r\n    if (props.repeat === 'repeat') {\r\n      $el.find('.page-check[data-val=repeat]').addClass('active')\r\n      this.$canvas.css('background-repeat', 'repeat')\r\n    }\r\n    if (props.attachment) {\r\n      $el.find('.page-check[data-val=fixed]').addClass('active')\r\n      this.$canvas.css('background-attachment', 'fixed')\r\n    }\r\n    this.setCanvasSize(props.width, props.height)\r\n    this.loadApp(props.app)\r\n  }\r\n  loadApp(apps) {\r\n    this.clear()\r\n    apps.forEach(app => {\r\n      let component: Component = null\r\n      if (app.appType === 'xdtb') {\r\n        component = new ImgComponent\r\n      } else if (app.appType === 'xwzb') {\r\n        component = new TextComponent\r\n      } else if (app.appType === 'wangh') {\r\n        component = new WangComponent\r\n      }\r\n      component.formData = app.config\r\n      component.update(component.formData)\r\n      component.setPosition(app.pos)\r\n      this.addComponent(component)\r\n    })\r\n  }\r\n  initPorpPanel() {\r\n    let $el = $('.page-config');\r\n    let $inputWidth = $el.find('.input-width');\r\n    let $inputHeight = $el.find('.input-height');\r\n    let $inputBg = $el.find('.input-bg');\r\n    let $calcWidth = $el.find('.calc-width');\r\n    let $calcHeight = $el.find('.calc-height');\r\n    let $alignSelect = $el.find('.align-select');\r\n    let $allowOverstep = $el.find('#allowOverstep')\r\n    this.propPanel = {\r\n      $el: $el,\r\n      $inputWidth: $inputWidth,\r\n      $inputHeight: $inputHeight,\r\n      $alignSelect: $alignSelect,\r\n      $allowOverstep: $allowOverstep\r\n    }\r\n    $inputWidth.val(this.pageWidth)\r\n    $inputHeight.val(this.pageHeight)\r\n    let align = '50% 0'\r\n    let that = this;\r\n    // @ts-ignore\r\n    //颜色选择器\r\n    $(document).spectrum({\r\n      showPalette : !0,\r\n      maxSelectionSize : 18,\r\n      showInitial : !0,\r\n      preferredFormat : 'hex',\r\n      showButtons : !1,\r\n      palette: [\r\n          ['#000','#444','#666','#999','#ccc','#eee'],\r\n          ['#f00','#f90','#ff0','#0f0','#0ff','#00f'],\r\n          ['#900','#b45f06','#bf9000','#38761d','#134f5c','#0b5394']\r\n      ],\r\n      move: function(color, $input) {\r\n        let id = $input.attr('id')\r\n        if (id === 'inputBgColor' && that) {\r\n          if (!color) {\r\n            that.$canvasBox.addClass('bg-trans');\r\n            that.$canvas.css('background-color', 'transparent');\r\n            that.props.bgColor = 'transparent'\r\n          }\r\n          if (typeof color === 'object') {\r\n            let colorHex = color.toHexString()\r\n            that.$canvasBox.removeClass('bg-trans')\r\n            that.$canvas.css('background-color', colorHex + '');\r\n            that.props.bgColor = colorHex\r\n          }\r\n        }\r\n      }\r\n    }).spectrum.freshSpan();\r\n\r\n    $inputWidth.bind('input', function() {\r\n      that.pageWidth = +$(this).val();\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    });\r\n\r\n    $inputHeight.bind('input', function() {\r\n      that.pageHeight = +$(this).val();\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    });\r\n\r\n    $inputBg.bind('input', function() {\r\n      let img = $(this).val()\r\n      that.props.bgImg = img\r\n      that.$canvas.css('background-image',  `url(\"${img}\")`)\r\n    })\r\n    $alignSelect.change(function() {\r\n      let alignValue = $(this).val()\r\n      that.$canvas.css('background-position', `${alignValue}`)\r\n      that.props.position = alignValue\r\n    })\r\n\r\n    $allowOverstep.bind('click', function() {\r\n      if ($allowOverstep.hasClass('active')) {\r\n        $allowOverstep.removeClass('active')\r\n        that.props.overflow = 'hidden'\r\n        that.setComponentAllowOverstep(false)\r\n      } else {\r\n        $allowOverstep.addClass('active')\r\n        that.props.overflow = 'visible'\r\n        that.setComponentAllowOverstep(true)\r\n      }\r\n    })\r\n    $el.find('.bgImg-box .page-check').bind('click', function() {\r\n      let $this = $(this)\r\n      let val = $this.data('val')\r\n      console.log(val)\r\n      if ($this.hasClass('active')) {\r\n        $this.removeClass('active')\r\n        if (val === 'repeat') {\r\n          that.$canvas.css('background-repeat', '')\r\n          that.props.repeat = ''\r\n        }\r\n        if (val === 'fixed') {\r\n          that.$canvas.css('background-attachment', '')\r\n          that.props.attachment = ''\r\n        }\r\n\r\n      } else {\r\n        $this.addClass('active')\r\n        if (val === 'repeat') {\r\n          that.$canvas.css('background-repeat', 'repeat')\r\n          that.props.repeat = 'repeat'\r\n        }\r\n        if (val === 'fixed') {\r\n          that.$canvas.css('background-attachment', 'fixed')\r\n          that.props.attachment = 'fixed'\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","export default class Ruler {\r\n  $el: JQuery\r\n  $rulerX: JQuery\r\n  $rulerY: JQuery\r\n  $cursorPosX: JQuery\r\n  $cursorPosY: JQuery\r\n  canvasWidth: number\r\n  canvasHeight: number\r\n  paddingWidth: number\r\n  paddingHeight: number\r\n  width: number\r\n  height: number\r\n  constructor() {\r\n  }\r\n  create($ct) {\r\n    let $el = $(`\r\n      <div class=\"ruler\">\r\n        <div class=\"rulerX\">\r\n          <div>\r\n            <div class=\"cursor-pos\"><span>0</span></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"rulerY\">\r\n          <div>\r\n            <div class=\"cursor-pos\"><span>0</span></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n    let $rulerX = $el.find('.rulerX > div');\r\n    let $rulerY = $el.find('.rulerY > div');\r\n    this.$el = $el;\r\n    this.$rulerX = $rulerX;\r\n    this.$rulerY = $rulerY;\r\n    this.$cursorPosX = $rulerX.find('.cursor-pos');\r\n    this.$cursorPosY = $rulerY.find('.cursor-pos');\r\n    $ct.append(this.$el);\r\n  }\r\n  draw() {\r\n    let canvasWidth = this.canvasWidth;\r\n    let canvasHeight = this.canvasHeight;\r\n    let paddingWidth = this.paddingWidth;\r\n    let paddingHeight = this.paddingHeight;\r\n    // let paddingWidth = Math.ceil(canvasWidth / 3 / 50) * 50 * 2;\r\n    // paddingWidth = 1400;\r\n    let rulerWidth = Math.ceil(canvasWidth / 50) * 50 + paddingWidth;\r\n    // let paddingHeight = Math.ceil(canvasHeight / 3 / 50) * 50 * 2;\r\n    // paddingHeight = 700;\r\n    let rulerHeight = Math.ceil(canvasHeight / 50) * 50 + paddingHeight;\r\n\r\n    this.paddingHeight = paddingHeight;\r\n    this.paddingWidth = paddingWidth;\r\n    this.width = rulerWidth;\r\n    this.height = rulerHeight;\r\n\r\n    let initXValue = -(paddingWidth / 2);\r\n    let ruleXSpans = '';\r\n    for (let i = 0; i < rulerWidth / 50; i++) {\r\n      ruleXSpans += `<span>${Math.abs(initXValue + i * 50)}</span>`;\r\n    }\r\n\r\n    let initYValue = -(paddingHeight / 2);\r\n    let ruleYSpans = '';\r\n    for (let i = 0; i < rulerHeight / 50; i++) {\r\n      ruleYSpans += `<span>${Math.abs(initYValue + i * 50)}</span>`;\r\n    }\r\n    this.$rulerX.append(ruleXSpans)\r\n    this.$rulerX.width(rulerWidth)\r\n\r\n    this.$rulerY.append(ruleYSpans)\r\n    this.$rulerY.height(rulerHeight)\r\n  }\r\n\r\n  update(canvasWidth, canvasHeight, paddingWidth, paddingHeight) {\r\n    this.canvasWidth = canvasWidth;\r\n    this.canvasHeight = canvasHeight;\r\n    this.paddingWidth = paddingWidth;\r\n    this.paddingHeight = paddingHeight;\r\n    this.$rulerX.find('> span').remove();\r\n    this.$rulerY.find('> span').remove();\r\n    this.draw();\r\n  }\r\n\r\n  showCursor() {\r\n    this.$cursorPosX.show();\r\n    this.$cursorPosY.show();\r\n  }\r\n  hideCursor() {\r\n    this.$cursorPosX.hide();\r\n    this.$cursorPosY.hide();\r\n  }\r\n\r\n  setCursorPos(x, y) {\r\n    this.$cursorPosX.css('left', (this.paddingWidth / 2 + x) + 'px')\r\n    this.$cursorPosY.css('top', (this.paddingHeight / 2 + y) + 'px')\r\n    this.$cursorPosX.find('span').text(Math.ceil(x))\r\n    this.$cursorPosY.find('span').text(Math.ceil(y))\r\n  }\r\n\r\n  setX(x) {\r\n    this.$rulerX.css('left', x + 'px')\r\n  }\r\n\r\n  setY(y) {\r\n    this.$rulerY.css('top', y + 'px')\r\n  }\r\n}\r\n\r\n","import Component from './Component';\r\nexport default class HotAreaComponent extends Component {\r\n  constructor() {\r\n    super('hotarea-component')\r\n    let content = `\r\n        <div class=\"hot-area-box\"></div>\r\n      `\r\n    this.$contentBox.append(content)\r\n    this.initFormData()\r\n\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'\r\n    this.formData.wangID = ''\r\n  }\r\n  onLinkModeChanged($boxElem, linkMode) {\r\n    let $wangBox = $boxElem.find('.wang-box')\r\n    let $linkBox = $boxElem.find('.link-box')\r\n    if (linkMode === 'urlink') {\r\n      $wangBox.hide()\r\n      $linkBox.show()\r\n    } else if (linkMode === 'wwlink') {\r\n      $linkBox.hide()\r\n      $wangBox.show()\r\n    }\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xrq',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n  toHtml() {\r\n    return ''\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    this.onLinkModeChanged($propPanel, this.formData.linkMode)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n  }\r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.area-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    this.updatePropPanel()\r\n\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.linkMode = val\r\n      that.onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.href = val\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.formData.hrefMode = val ? '_blank' : ''\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.change(function() {\r\n      let val = $(this).val()\r\n      that.formData.wangID = val\r\n    })\r\n  }\r\n  openEditDialog() {\r\n\r\n  }\r\n  update(formData) {\r\n\r\n  }\r\n}\r\n","module.exports = \"../assets/wang2.gif\";","module.exports = \"../assets/wang1.gif\";","export default class History {\r\n  curIndex: number = -1\r\n  data: Array<any> = []\r\n  constructor() {\r\n  }\r\n  add(o) {\r\n    if (this.curIndex < this.data.length - 1) {\r\n      this.data.splice(this.curIndex + 1)\r\n      this.curIndex = this.data.length - 1\r\n    }\r\n    this.curIndex++\r\n    this.data.push(o)\r\n    console.log(this.data)\r\n  }\r\n  hasForward() {\r\n    return this.curIndex < this.data.length - 1\r\n  }\r\n  hasBack() {\r\n    return this.curIndex > 0\r\n  }\r\n\r\n  forward() {\r\n    if (this.hasForward()) {\r\n      return this.data[++this.curIndex]\r\n    }\r\n    return null\r\n  }\r\n  back() {\r\n    if (this.hasBack()) {\r\n      return this.data[--this.curIndex]\r\n    }\r\n    return null\r\n  }\r\n}\r\n","import ImgComponent from './ImgComponent'\r\nimport TextComponent from './TextComponent'\r\nimport StageContainer from './StageContainer';\r\nimport Stage from './Stage';\r\nimport WangComponent from './WangComponent';\r\nexport default class ComponentBar {\r\n  stageCt: StageContainer\r\n  $el: JQuery\r\n  constructor(stageCt) {\r\n    this.stageCt = stageCt;\r\n    let $el = $('.component-bar');\r\n    this.$el = $el;\r\n    let curStage: Stage = stageCt.curStage\r\n    $el.find('li').bind('mousedown', function(event) {\r\n      let name = $(this).data('name')\r\n      let component = null;\r\n      let initX = Math.abs(curStage.myScroll.x) - curStage.paddingWidth / 2\r\n      let initY = Math.abs(curStage.myScroll.y) - curStage.paddingHeight / 2\r\n      if (name === 'img-component') {\r\n        component = new ImgComponent();\r\n      } else if (name === 'text-component') {\r\n        component = new TextComponent();\r\n      } else if (name === 'wang-component') {\r\n        component = new WangComponent();\r\n      }\r\n      component.$el.css('left', Math.max(initX, 0) + 'px')\r\n      component.$el.css('top', Math.max(initY, 0) + 'px')\r\n      curStage.addComponent(component)\r\n      curStage.selectComponent(component)\r\n      curStage.recordOps()\r\n    })\r\n  }\r\n}\r\n","import StageContainer from \"./StageContainer\";\r\n\r\nexport default class Header {\r\n  $el: JQuery\r\n  stageCt: StageContainer\r\n  constructor(stageCt: StageContainer) {\r\n    this.stageCt = stageCt\r\n    this.$el = $('.header')\r\n    let that = this;\r\n    this.$el.find('.export-btn').bind('click', function() {\r\n      that.openExportDialog()\r\n    })\r\n    this.$el.find('.import-btn').bind('click', function() {\r\n      that.openImportDialog()\r\n    })\r\n    this.$el.find('.undo-btn').bind('click', function() {\r\n      that.stageCt.curStage.backOps()\r\n      console.log(that.stageCt.curStage.history.curIndex)\r\n    })\r\n\r\n    this.$el.find('.redo-btn').bind('click', function() {\r\n\r\n      that.stageCt.curStage.forwardOps()\r\n      console.log(that.stageCt.curStage.history.curIndex)\r\n    })\r\n\r\n    this.$el.find('.preview-btn').bind('click', function() {\r\n      let previewWin = window.open('')\r\n      let url = window.location.href\r\n      previewWin.document.write(`<html><head><title></title><link rel=\"stylesheet\" type=\"text/css\" href=\"${url}css/common.css\"></head><body>`);\r\n      previewWin.document.write(that.stageCt.curStage.generateHtmlCode());\r\n      previewWin.document.write('</body></html>');\r\n      previewWin.focus()\r\n      previewWin.document.title = '预览'\r\n    })\r\n\r\n  }\r\n\r\n  generateJsonCode() {\r\n    let curStage = this.stageCt.curStage\r\n  }\r\n\r\n  openImportDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '导入代码',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '550px'],\r\n      success: function(layerElem, index) {\r\n        let $layerElem = $(layerElem)\r\n        let $jsonTextArea = $layerElem.find('#jsonTextArea')\r\n        $layerElem.find('.confirm-btn').bind('click', function() {\r\n          let jsonStr = $jsonTextArea.val().toString()\r\n          let jsonObj = JSON.parse(jsonStr)\r\n          that.stageCt.curStage.loadProp(jsonObj)\r\n          layer.close(index)\r\n        })\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `\r\n        <div class=\"codegen\" style=\"padding: 15px 10px\">\r\n          <div class=\"layui-tab\">\r\n            <ul class=\"layui-tab-title\" style=\"font-size: 12px\">\r\n              <li style=\"font-size: 12px\" class=\"layui-this\">覆盖导入</li>\r\n              <li style=\"font-size: 12px\">追加导入</li>\r\n            </ul>\r\n            <div class=\"layui-tab-content\">\r\n              <div class=\"layui-tab-item layui-show\">\r\n                <textarea id=\"jsonTextArea\"style=\"float:left;width:100%;height:320px;\" spellcheck=\"false\"></textarea>\r\n              </div>\r\n              <div class=\"layui-tab-item\">\r\n                <textarea id=\"htmlTextArea\"style=\"float:left;width:100%;height:320px;\" spellcheck=\"false\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"layui-form-item\" style=\"margin-top:15px;\">\r\n            <div class=\"layui-ft-btn\" style=\"text-align:center;padding-top: 20px\">\r\n              <button class=\"layui-btn confirm-btn\">确定</button>\r\n              <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n            </div>\r\n          </div>\r\n        </div>`\r\n    });\r\n\r\n  }\r\n\r\n  openExportDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '生成代码',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '550px'],\r\n      success: function(layerElem, index) {\r\n        let $layerElem = $(layerElem)\r\n        let $jsonTextArea = $layerElem.find('#jsonTextArea')\r\n        let $htmlTextArea = $layerElem.find('#htmlTextArea')\r\n        $jsonTextArea.val(that.stageCt.curStage.generateJsonCode())\r\n        $htmlTextArea.val(that.stageCt.curStage.generateHtmlCode())\r\n        $layerElem.find('.page-width').val(that.stageCt.curStage.pageWidth)\r\n        $layerElem.find('.page-height').val(that.stageCt.curStage.pageHeight)\r\n      },\r\n      content: `\r\n        <div class=\"codegen\" style=\"padding: 15px 10px\">\r\n          <div class=\"codegen-head\">\r\n            <ul>\r\n              <li>\r\n                <label><span style=\"margin-left:10px;\">当前模块宽</span>&nbsp;</label>\r\n                <input class=\"page-width\" style=\"width:40px;\" type=\"text\" spellcheck=\"false\">\r\n                <label>&nbsp;&nbsp;高&nbsp;</label>\r\n                <input class=\"page-height\" style=\"width:40px;\" type=\"text\" spellcheck=\"false\">\r\n                <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当内容超出模块范围时：&nbsp;</label>\r\n                <div id=\"rm_o1\">\r\n                  <input class=\"cfgl-rr\" type=\"radio\" id=\"m_o2\" name=\"overflowMode\" value=\"visible\" spellcheck=\"false\">\r\n                  <label class=\"cfgl-radio cfgl-radio-checked\" for=\"m_o2\" title=\"\" style=\"border-right:none;border-radius:2px 0 0 2px;\">显示</label>\r\n                  <input class=\"cfgl-rr\" type=\"radio\" id=\"m_o1\" name=\"overflowMode\" checked=\"checked\" value=\"hidden\" spellcheck=\"false\">\r\n                  <label class=\"cfgl-radio\" for=\"m_o1\" title=\"\" style=\"border-left:none;border-radius:0 2px 2px 0;\">裁掉</label>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"layui-tab\">\r\n            <ul class=\"layui-tab-title\" style=\"font-size: 12px\">\r\n              <li style=\"font-size: 12px\" class=\"layui-this\">JSON代码</li>\r\n              <li style=\"font-size: 12px\">HTML代码</li>\r\n            </ul>\r\n            <div class=\"layui-tab-content\">\r\n              <div class=\"layui-tab-item layui-show\">\r\n                <textarea id=\"jsonTextArea\"style=\"float:left;width:100%;height:320px;\" readonly spellcheck=\"false\"></textarea>\r\n              </div>\r\n              <div class=\"layui-tab-item\">\r\n                <textarea id=\"htmlTextArea\"style=\"float:left;width:100%;height:320px;\" readonly spellcheck=\"false\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>`\r\n    });\r\n  }\r\n}\r\n","import ToolConfig from './ToolConfig'\r\nimport StageContainer from './StageContainer';\r\nexport default class Toolbar {\r\n  $el: JQuery\r\n  stageCt: StageContainer\r\n  constructor(stageCt) {\r\n    this.stageCt = stageCt\r\n    let $settingBar = $('.setting-bar')\r\n    let $pageConfig = $settingBar.find('.page-config')\r\n    let $assistConfig = $settingBar.find('.assist-config')\r\n    let $magnetConfig = $settingBar.find('.magnet-config')\r\n    let $curSetting = $pageConfig\r\n    let $el = $('.toolbar')\r\n    let $curItem = $el.find('.group3.active')\r\n    let $curItemOfGroup1 = $el.find('.group1.active')\r\n    this.$el = $el\r\n    let that = this\r\n    $el.find('li').bind('click', function(event) {\r\n      let $this = $(this)\r\n      let name = $this.data('name')\r\n      if (name === 'draggable') {\r\n        ToolConfig.draggable = !ToolConfig.draggable\r\n        let $icon = $this.find('icon')\r\n        if (ToolConfig.draggable) {\r\n          $icon.text('ꑸ')\r\n          $icon.removeClass('color0')\r\n          $icon.addClass('color1')\r\n        } else {\r\n          $icon.text('ꑹ')\r\n          $icon.removeClass('color1')\r\n          $icon.addClass('color0')\r\n        }\r\n      } else if (name === 'assist' || name === 'magnet' || name === 'page') {\r\n        let $setting = $(`.${name}-config`)\r\n        if (!$curSetting.is($setting)) {\r\n          $curSetting.hide()\r\n          $curSetting = $setting\r\n          $curSetting.show()\r\n          $curItem.removeClass('active')\r\n          $this.addClass('active')\r\n          $curItem = $this\r\n        }\r\n      } else if (name === 'hotarea' || name === 'selection' || name === 'handle') {\r\n        if ($this !== $curItemOfGroup1) {\r\n          $curItemOfGroup1.removeClass('active')\r\n          $this.addClass('active')\r\n          $curItemOfGroup1 = $this\r\n          that.stageCt.curStage.setState(name)\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","export default class ToolConfig {\r\n  static draggable: boolean = true\r\n}\r\n"],"sourceRoot":""}