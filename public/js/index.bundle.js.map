{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/common.ts","webpack:///./src/Component.ts","webpack:///./src/commonCss.ts","webpack:///./src/UpdateFormAction.ts","webpack:///./src/commonOption.ts","webpack:///./src/borderComponent.ts","webpack:///./src/shadowComponent.ts","webpack:///./src/Draggable.ts","webpack:///./src/ImgComponent.ts","webpack:///./src/TextComponent.ts","webpack:///./src/WangComponent.ts","webpack:///./src/VideoComponent.ts","webpack:///./src/ImgAntComponent.ts","webpack:///./src/ImgZfComponent.ts","webpack:///./src/MarqueeComponent.ts","webpack:///./src/index.ts","webpack:///./src/patch.js","webpack:///./src/StageContainer.ts","webpack:///./src/Stage.ts","webpack:///./src/Ruler.ts","webpack:///./src/HotAreaComponent.ts","webpack:///./src/SetPositionAction.ts","webpack:///./src/assets/wang2.gif","webpack:///./src/assets/wang1.gif","webpack:///./src/ActionManager.ts","webpack:///./src/ComponentBar.ts","webpack:///./src/Header.ts","webpack:///./src/ToolBar.ts","webpack:///./src/ToolConfig.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isEmpty","v","replace","length","isNaN","e","form1","form2","k","b","Math","floor","random","a","parseInt","width","this","$el","height","left","style","top","setContent","content","$contentBox","append","remove","clone","copyELem","stage","$componentTopBar","find","copyElemLeft","offsetLeft","copyElemTop","offsetTop","component","constructor","formData","JSON","parse","stringify","update","setPosition","w","h","that","actionManager","execute","do","addComponent","selectComponent","undo","removeComponent","unselectComponent","components","clientX","curMouseEvent","clientY","drag","start","type","select","selectFlag","addClass","resetPositionInfo","initPorpPanel","resetComponentPositionInfo","flag","originPos","css","endPos","setPositionAction","setOriginPos","setEndPos","unselect","removeClass","hideComponentToolbar","deleteSelf","layer","layui","confirm","btn","icon","title","idx","close","mount","$canvas","enableResize","resizable","classes","handles","resize","setComponentToolbarPos","on","event","ctrlKey","dragStatus","showComponentToolbar","dragScroll","preventDefault","isInit","init","id","getRandomStr","handle","containment","isMulti","snap","onStart","onMultiDrag","onMultiStop","onDrag","onStop","prop","props","isLockedPos","isEditPopup","$","minWidth","minHeight","dblclick","openEditDialog","bgImage","img","bgColor","bgRep","bgPos","bgfix","defBg","url","whao","stype","$layerElem","linkMode","$wangBox","$linkBox","hide","show","sdX","sdY","sdBlur","sdSize","sdColor","bShadow","oLine","tLine","uLine","deline","$objElem","$valElem","$nextObj","next","removeAttr","attr","bz","bzv","defv","jsonData","bRadius","valEmpty","radiusStyle","imgMode","bgImg","imgBgStyle","imgHtml","Html","conMode","$txtBox","$imgBox","setOldFormData","oldFormData","setNewFormData","newFormData","doUpdate","$select","html","trim","options","text","tongBuBorder","$isVal","$bdWidthVal","val","$bdStyleVal","$bdColorVal","$mbdColorInput","prev","$bdTCheckBox","$mbdTCheckBox","$bdTVal","is","$bdBCheckBox","$mbdBCheckBox","$bdBVal","$bdLCheckBox","$mbdLCheckBox","$bdLVal","$bdRCheckBox","$mbdRCheckBox","$bdRVal","mbdT","mbdB","mbdL","mbdR","mbdWidth","mbdColor","mbdStyle","bdColor","form","msg","time","yes","index","render","$content","oldTsAnt","mbdTsAnt","$textPanel","bdWidth","$alPanel","bdT","bdB","bdL","bdR","bdStyle","$mlPanel","$ltPanel","$lbPanel","$llPanel","$lrPanel","mbdTsFunVal","mbdTsFun","mbdTsDurVal","mbdTsDur","ranID","setRanDom","$propPanel","filter","$bdColorInput","change","keyup","mbdTsAntStyle","valInt","btw","bbw","blw","brw","mbtw","mbbw","mblw","mbrw","pdOffStyle","pdOnStyle","almHtml","ltHtml","lbHtml","llHtml","lrHtml","alHtml","htmlList","push","bdpdStyle","mbdpdStyle","join","msdColor","shadow","boxShadow","$mchildPanel","mshadow","msdX","msdY","mbShadow","msdBlur","msdSize","msdTsDur","onShadow","msdTsDurStyle","offShadow","opt","el","document","querySelector","position","classArr","dragRef","className","split","option","setupEvent","offsetParent","isTouch","window","stopPropagation","cancelBubble","getEventInfo","targetTouches","windowWidth","windowHeight","_this","EVENTS","diffX","diffY","elemWidth","elemHeight","parentWidth","parentHeight","eventInfo","move","minLeft","minTop","axis","isMock","moveSelectedDraggable","doSnap","isDragging","offsetWidth","offsetHeight","documentElement","clientWidth","clientHeight","addEventListener","end","removeEventListener","clearSnapLine","getSelectedDraggable","Array","slice","querySelectorAll","multiClass","elems","map","elem","createMultiDraggable","right","bottom","min","max","createElement","outline","appendChild","Draggable","disabled","setTimeout","multiDraggable","disable","enable","cursor","getStyle","styleProp","getComputedStyle","defaultView","getPropertyValue","currentStyle","getClientRect","elemRect","getBoundingClientRect","$parent","clientRect","leftBorderWidth","topBorderWidth","parentRect","isSnap","srcValue","destValue","snapTolerance","abs","apply","forEach","item","removeChild","createDistText","dragElemRect","snapElemRect","itemWidthHalf","itemHeightHalf","dragWidthHalf","dragHeightHalf","textBox","textAlign","distance","background","snapLineColor","borderRadius","lineHeight","padding","fontSize","color","userSelect","snapFlags","round","paddingBottom","innerText","marginTop","showSnapLine","snapLineSize","snapDrag","lineRect","line","lineWidth","zIndex","distText","snapDist","dragElem","snapElems","snapAnchor","snapInfos","itemElem","snapInfo","dragValue","pos","snapLine","onSnap","toHtml","tipText","hrefMode","wangID","href","wwUrl","ImgBgData","ImgBgHtml","shadowData","toHtmlShadow","onShadowStyle","BorderData","toHtmlBorder","shakeCss","animCss","animStyle","animType","animTsDur","animRange","initFormData","appLabel","bgImgSize","bdRadius","layerNo","open","skin","area","success","layerElem","editPopHtmlBorder","editPopHtmlShadow","setPopHtmlBorder","setPopHtmlShadow","onLinkModeChanged","data","console","log","field","updatePropPanel","updateShadow","updateBorder","$img","bground","compareForm","updateFormAction","$bgImgSizeCheckBox","$hrefModeCheckBox","updatePropBorder","off","editSideHtmlBorder","element","$bgImgInput","initPorpBorder","getProps","config","appID","scrlY","family","fSize","lHeight","spacing","indent","weight","fStyle","through","align","hoverMode","mfamily","mfSize","mcolor","mbgColor","mlHeight","mspacing","mindent","mweight","mfStyle","moLine","mthrough","muLine","malign","mcontent","mbgImg","mbgRep","mbgPos","mTsDur","mTsFun","mTsAnt","scrlCss","scrlStyle","onBgStyle","onlineStyle","onHtml","mTsAntStyle","offShadowHtml","bdHtml","textLine","offHtml","offBgStyle","offlineStyle","htmlLink","onTongBu","$familyVal","$colorVal","$mcolorInput","$bgColorVal","$mbgColorInput","$fSizeVal","$lHeightVal","$spacingVal","$indentVal","$alignRadioActive","$malignRadio","$alignVal","$weightVal","$mweightInput","parent","$fStyleVal","$mfStyleInput","$oLineVal","$moLineInput","$throughVal","$mthroughInput","$uLineVal","$muLineInput","updatePreviewStyle","$defElem","hasClass","isfontF","getFontActive","$elemInput","$attrName","toLowerCase","substr","setFontOption","click","$alignParent","mthat","bgCss","$defPanel","$offPanel","_mTsAntAttr","offline","mbgCss","$_mTsAnt","before","after","$colorInput","$bgColorInput","$weightInput","$fStyleInput","$oLineInput","$throughInput","$uLineInput","eName","nameMl","nameMt","wangMode","wangCss","bgImgHtml","nameHtml","$cphoto","$spanName","lineImg","$wangImg","isAutopaly","isMuted","isControls","coverImg","autoplay","muted","controls","loop","videoID","autoControls","$Video","_autoplay","_muted","_controls","_loop","coverMode","overMode","overVal","overCss","disMode","mvTsDur","mvTsDelay","Bezier","linkhtml","whStyle","mrxz","mrxzv","mrsf","mrxzCss","mrCss","mvTsModeX","mvTsModeXv","mvTsModeY","mvTsModeYv","mvxz","mvxzv","mvsf","mvfz","mvXcss","mvYcss","mvxzCss","BezierCss","mvTsBezier","mvTsBezierv","indexOf","setAntSpinvOption","setAntBezierOption","setAntMrZoomOption","setAntMvZoomOption","setAntMovevOption","$contentParnts","$contentParnt","$mrCss","mrxzOld","mrsfOld","mrsfCss","$mrxzSelect","onDisabledChanged","$mvTsModeXSelect","$mvTsModeYSelect","$mvxzSelect","mTsDelay","$mTsAnt","mTsBezier","mTsBezierv","offShadowStyle","$mTsAntOld","dirtPos","behavior","dirt","amount","scrlw","scrlh","scjl","$scbox","scrollw","scrollh","delay","wzStyle","sccs","fm1","fm1Style","fm2Style","fm3Style","conModeChanged","$imgPanel","$scPanel","stageCt","createStage","splice","curStage","stages","setupHotkey","hotKeysArr","hotkeys","handler","move1PX","selectedComponents","$stageCt","$canvasWrap","$scrollContent","ruler","canvasWidth","pageWidth","canvasHeight","pageHeight","paddingWidth","ceil","paddingHeight","isRuler","$canvasBox","createIScroll","layoutCanvas","$rulerX","$rulerY","$guideLine","children","selector","selectable","selected","ui","selectComponentByElem","createComponentToolbar","checkStore","autoStore","disableMouse","x","y","myScroll","IScroll","scrollX","freeScroll","startX","startY","probeType","scrollbars","mouseWheel","HWCompositing","interactiveScrollbars","disablePointer","disableTouch","setX","setY","marginLeft","scrollContentWidth","scrollContentHeight","scrollTo","refresh","setCanvasSize","stageElem","canvasElem","canvasRect","setCursorPos","showCursor","hideCursor","focusComponent","offsetX","offset","offsetY","size","$componentBottomBar","target","state","Stage","STATE","curStartX","curStartY","setElementPos","setState","destroy","$elem","setComponentAllowOverstep","allowOverstep","generateJsonCode","app","generateHtmlCode","appsHtml","bgRound","repeat","attachment","localStorage","getItem","jsonObj","loadProp","setInterval","jsonCode","setItem","moveBy","dir","com","px","len","charArr","chars","clear","leftScrollLimit","rightScrolLimit","topScrollLimit","bottomScrolLimit","dragScrollTimer","scrollBy","clearInterval","propPanel","$inputWidth","$alignSelect","$inputHeight","$allowOverstep","$inputBg","overflow","setBackground","loadApp","apps","appType","calcWidth","calcHeight","bgImgs","$calcWidth","$calcHeight","spectrum","showPalette","maxSelectionSize","showInitial","preferredFormat","showButtons","palette","$input","colorHex","toHexString","freshSpan","alignValue","$this","$inputX","$inputY","topBarTop","bottomBarTop","topBarLeft","drags","$ct","$cursorPosX","$cursorPosY","draw","rulerWidth","rulerHeight","initXValue","ruleXSpans","initYValue","ruleYSpans","action","undoStack","redoStack","pop","redo","initX","initY","openImportDialog","$jsonTextArea","jsonStr","toString","openExportDialog","$htmlTextArea","jsonCodeStr","jsonCodeObj","toFixed","$curSelectedRadio","execCommand","previewWin","location","write","focus","$settingBar","$pageConfig","$curSetting","$curItem","$curItemOfGroup1","draggable","$icon","$setting","ToolConfig"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAEA,EACFH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,KAGAF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAWA,EAAOC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAMA,KAQtDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAWA,EAAOK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,+BClFrD,SAAgBC,EAAQC,GACpB,cAAeA,GACf,IAAK,YACD,OAAM,EACV,IAAK,SACD,GAA4D,GAAxDA,EAAEC,QAAQ,+BAAgC,IAAIC,OAAc,OAAM,EACtE,MACJ,IAAK,UACD,IAAKF,EAAI,OAAM,EACf,MACJ,IAAK,SACD,GAAI,IAAMA,GAAKG,MAAMH,GAAK,OAAM,EAChC,MACJ,IAAK,SACD,GAAI,OAASA,GAAkB,IAAbA,EAAEE,OAAe,OAAM,EACzC,IAAK,IAAInC,KAAKiC,EACV,OAAM,EAEV,OAAM,EAEV,OAAM,E,iDApBVI,EAAA,UAuBAA,EAAA,qBAA4BC,EAAOC,GACjC,IAAK,IAAIC,KAAKF,EACZ,GAAIA,EAAME,KAAOD,EAAMC,GACrB,OAAM,EAGV,OAAM,GAGRH,EAAA,qBACE,IAIEI,EAAI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACtT,OAAWA,EAAEC,KAAKC,MAAM,GAAKD,KAAKE,WAC9BH,EAAEC,KAAKC,MAAM,GAAKD,KAAKE,WACvBH,EAAEC,KAAKC,MAAM,GAAKD,KAAKE,WACvBH,EAAEC,KAAKC,MAAM,GAAKD,KAAKE,YAI/BP,EAAA,gBAAuBQ,GACrB,IAAIJ,EACJ,OAAOI,GAAK,IAAMA,GAAKJ,EAAIK,SAASD,EAAG,KAAOT,MAAMK,KAAOA,EAAI,GAAIA,GAAKI,GAG1ER,EAAA,kBAAyBJ,GACxB,OAAQD,EAAQC,GAAM,GAAKA,I,8ECnD5B,WAEA,QACA,GAiDE,YAAAc,MAAA,WACE,OAAOC,KAAKC,IAAIF,SAGlB,YAAAG,OAAA,WACE,OAAOF,KAAKC,IAAIC,UAElB,YAAAC,KAAA,WACE,OAAOL,SAASE,KAAKC,IAAI,GAAGG,MAAMD,OAEpC,YAAAE,IAAA,WACE,OAAOP,SAASE,KAAKC,IAAI,GAAGG,MAAMC,MAEpC,YAAAC,WAAA,SAAWC,GACTP,KAAKQ,YAAYC,OAAOF,IAG1B,YAAAG,OAAA,WACEV,KAAKC,IAAIS,UAEX,YAAAC,MAAA,WACE,IAAIC,EAAWZ,KAAKa,MAAMC,iBAAiBC,KAAK,SAAS,GACrDC,EAAehB,KAAKa,MAAMC,iBAAiB,GAAGG,WAAaL,EAASK,WACpEC,EAAclB,KAAKa,MAAMC,iBAAiB,GAAGK,UAAYP,EAASO,UAClEC,EAAY,IAAUpB,KAAKqB,YAC/BD,EAAUE,SAAWC,KAAKC,MAAMD,KAAKE,UAAUzB,KAAKsB,WACpDF,EAAUM,OAAO1B,KAAKsB,UAEtBF,EAAUO,YAAY,CACpB1E,EAAG+D,EACH9C,EAAGgD,EACHU,EAAG5B,KAAKD,QACR8B,EAAG7B,KAAKE,WAEV,IAAI4B,EAAO9B,KACXA,KAAKa,MAAMkB,cAAcC,QAAQ,CAC/BC,GAAE,WACAH,EAAKjB,MAAMqB,aAAad,GACxBU,EAAKjB,MAAMsB,gBAAgBf,IAC1BgB,KAAI,WACLN,EAAKjB,MAAMwB,gBAAgBjB,GAC3BU,EAAKjB,MAAMyB,kBAAkBlB,GACM,EAA/BU,EAAKjB,MAAM0B,WAAWpD,QACxB2C,EAAKjB,MAAMsB,gBAAgBL,EAAKjB,MAAM0B,WAAWT,EAAKjB,MAAM0B,WAAWpD,OAAS,OAMtF,IAAIqD,EAAUxC,KAAKa,MAAM4B,cAAcD,QACnCE,EAAU1C,KAAKa,MAAM4B,cAAcC,QAKvCtB,EAAUuB,KAAKC,MAAM,CAACC,KAAM,OAAQL,QAASA,EAASE,QAASA,KAQjE,YAAAI,OAAA,WACM9C,KAAK+C,aAGT/C,KAAKC,IAAI+C,SAAS,eAClBhD,KAAK+C,WAAa,EAClB/C,KAAKiD,oBACLjD,KAAKkD,kBAGP,YAAAD,kBAAA,WACEjD,KAAKa,MAAMsC,8BAGb,YAAAxB,YAAA,SAAY,EAAgByB,G,IAAdnG,EAAA,EAAAA,EAAGiB,MAAG0D,EAAA,EAAAA,EAAGC,EAAA,EAAAA,WAAKuB,UAC1B,IAAIC,EAAY,CACdpG,EAAG+C,KAAKG,OACRjC,EAAG8B,KAAKK,MACRuB,EAAG5B,KAAKD,QACR8B,EAAG7B,KAAKE,UAEVF,KAAKC,IAAIF,MAAM6B,GACf5B,KAAKC,IAAIC,OAAO2B,GAChB7B,KAAKC,IAAIqD,IAAI,OAAQrG,EAAI,MACzB+C,KAAKC,IAAIqD,IAAI,MAAOpF,EAAI,MACxB,IAAIqF,EAAS,CACXtG,EAAG+C,KAAKG,OACRjC,EAAG8B,KAAKK,MACRuB,EAAG5B,KAAKD,QACR8B,EAAG7B,KAAKE,UAEV,GAAIkD,IACEC,EAAUpG,IAAMsG,EAAOtG,GAAKoG,EAAUnF,IAAMqF,EAAOrF,GACrDmF,EAAUzB,IAAM2B,EAAO3B,GAAKyB,EAAUxB,IAAM0B,EAAO1B,GAAG,CACtD,IAAI2B,EAAoB,IAAI,UAAkBxD,MAC9CwD,EAAkBC,aAAaJ,GAC/BG,EAAkBE,UAAUH,GAC5BvD,KAAKa,MAAMkB,cAAcC,QAAQwB,KAKvC,YAAAG,SAAA,WACE3D,KAAKC,IAAI2D,YAAY,eACrB5D,KAAK+C,WAAa,EAClB/C,KAAKa,MAAMgD,wBAGb,YAAAC,WAAA,WACE,IAAIC,EAAQC,MAAMD,MACdjC,EAAO9B,KACX+D,EAAME,QAAQ,eAAiB,CAC7BC,IAAK,CAAC,KAAK,MACXC,KAAM,EACNC,MAAM,MACL,SAASC,GACVN,EAAMO,MAAMD,GACZvC,EAAKjB,MAAMwB,gBAAgBP,IAC1B,eAGL,YAAAyC,MAAA,SAAM1D,GAAN,YACEb,KAAKa,MAAQA,GACO2D,QACZ/D,OAAOT,KAAKC,KAChBD,KAAKyE,cAEPzE,KAAKC,IAAIyE,UAAU,CAEjBC,QAAS,CACP,kBAAmB,IAErBC,QAAS,MACTC,OAAQ,WACN,EAAK5B,oBACL,EAAKpC,MAAMiE,4BAIjB9E,KAAKQ,YAAYuE,GAAG,YAAc,SAACC,GACT,IAApB,EAAKjC,WAKLiC,EAAMC,QACR,EAAKpE,MAAMsB,gBAAgB,EAAM,GAEjC,EAAKtB,MAAMsB,gBAAgB,GAP3B,EAAKe,kBAWTlD,KAAKQ,YAAYuE,GAAG,aAAc,SAACC,GACJ,IAAzB,EAAKrC,KAAKuC,aACZ,EAAKvC,KAAKuC,WAAa,GAED,IAApB,EAAKnC,YAA6C,IAAzB,EAAKJ,KAAKuC,YACrC,EAAKrE,MAAMsE,qBAAqB,KAIpCnF,KAAKQ,YAAYuE,GAAG,aAAc,SAACC,GACJ,IAAzB,EAAKrC,KAAKuC,aACZ,EAAKvC,KAAKuC,WAAa,EACvB,EAAKrE,MAAMuE,WAAWJ,EAAO,EAAKrC,SAGtC3C,KAAKQ,YAAYuE,GAAG,cAAe,SAASC,GAC1CA,EAAMK,mBAEHrF,KAAKsF,QACRtF,KAAKuF,QAIT,YAAAA,KAAA,eAAAvI,EAAA,KACEgD,KAAKsF,UACLtF,KAAKwF,GAAKxF,KAAKa,MAAM4E,aAAa,GAClC,IACI9C,EAAO,IAAI,UAAU3C,KAAKC,IAAI,GAAI,CACpCyF,OAAQ1F,KAAKQ,YAAY,GACzBmF,YAAa3F,KAAKa,MAAM2D,QAAQ,GAChCoB,SAAQA,EACRC,MAAKA,IAEP7F,KAAK2C,KAAOA,EACZ,IAAIU,EAAY,KAChBV,EAAKmD,QAAU,SAACd,GACd3B,EAAY,CACVpG,EAAG,EAAKkD,OACRjC,EAAG,EAAKmC,MACRuB,EAAG,EAAK7B,QACR8B,EAAG,EAAK3B,WAIZyC,EAAKoD,YAAc,WACY,IAAzB,EAAKpD,KAAKuC,aACZ,EAAKvC,KAAKuC,WAAa,GAEzB,EAAKrE,MAAMgD,wBAEblB,EAAKqD,YAAc,WACjB,EAAKrD,KAAKuC,WAAa,EACvB,EAAKrE,MAAMsE,qBAAqB,IAElCxC,EAAKsD,OAAS,SAACjB,GACb,EAAKnE,MAAMgD,uBACkB,IAAzB,EAAKlB,KAAKuC,aACZ,EAAKvC,KAAKuC,WAAa,IAG3BvC,EAAKuD,OAAS,SAAClB,GACb,EAAKrC,KAAKuC,WAAa,EACvB,EAAKrE,MAAMsE,qBAAqB,GAChC,IAAI5B,EAAS,CACXtG,EAAG,EAAKkD,OACRjC,EAAG,EAAKmC,MACRuB,EAAG,EAAK7B,QACR8B,EAAG,EAAK3B,UAEV,GAAImD,EAAUpG,IAAMsG,EAAOtG,GAAKoG,EAAUnF,IAAMqF,EAAOrF,EAAG,CACxD,IAAIsF,EAAoB,IAAI,UAAkB,GAC9CA,EAAkBC,aAAaJ,GAC/BG,EAAkBE,UAAUH,GAC5B,EAAK1C,MAAMkB,cAAcC,QAAQwB,MAOzC,GArQE,WAAYjG,EAAW4I,GAErB,IAAK,IAAI3G,cAFCjC,MAAA,aAAW4I,MAAA,IATvB,KAAAC,MAAa,GACb,KAAA9E,SAAgB,GAGhB,KAAA+E,eACA,KAAA5B,gBACA,KAAA1B,WAAqB,EACrB,KAAAuD,eACA,KAAAhB,UAEEtF,KAAKzC,KAAOA,EACE4I,EACZnG,KAAKR,GAAK2G,EAAK3G,GAEjB,IAAIS,EAAMsG,EAAE,oHAMZvG,KAAKQ,YAAcP,EAAIc,KAAK,gBACxBxD,GACF0C,EAAI+C,SAASzF,GAEfyC,KAAKC,IAAMA,EACXD,KAAKwG,SAAW,GAChBxG,KAAKyG,UAAY,GACjB,IAAI3E,EAAO9B,KACXA,KAAKQ,YAAYkG,SAAS,WACpB5E,EAAKwE,aACPxE,EAAK6E,mB,2FC/CZ,WA6BD,SAAgBC,EAAQC,EAAIC,EAAQC,EAAMC,EAAMC,GAC9C,IAAIC,EAAMJ,EAQV,OAPK,EAAA9H,QAAQ6H,KACXC,EAAS,EAAA9H,QAAQ8H,GAAuB,GAAZ,IAAIA,EAIhCI,EAAM,OAAOL,EAAI,KAHjBE,EAAO,EAAA/H,QAAQ+H,GAAmB,aAAV,IAAIA,IAC5BC,EAAO,EAAAhI,QAAQgI,GAAmB,GAAV,IAAIA,GAEKF,GADjCG,EAAO,EAAAjI,QAAQiI,GAAmB,GAAV,IAAIA,IAGvBC,EApCT7H,EAAA,eAAsB8H,EAAIhJ,EAAKiJ,EAAKC,GAClC,MAAc,UAAPlJ,EAAkB,qCAAqCiJ,EAAK,oBAAoBC,EAAM,iBAAmBF,GAIlH9H,EAAA,2BAAkCiI,EAAYC,GAC5C,IAAIC,EAAWF,EAAWvG,KAAK,aAC3B0G,EAAWH,EAAWvG,KAAK,aACd,WAAbwG,GACFC,EAASE,OACTD,EAASE,QACa,WAAbJ,IACTE,EAASC,OACTF,EAASG,SAIbtI,EAAA,mBAA0BuI,EAAIC,EAAIC,EAAOC,EAAOC,GAC9C,IAAIC,EAAQL,EAAI,KAKhB,OAJAK,GAAS,IAAIJ,EAAI,KACjBI,GAASH,EAAS,IAAIA,EAAO,KAAM,IACnCG,GAASF,EAAS,IAAIA,EAAO,KAAM,KAC1BC,EAAU,IAAIA,EAAS,KAKlC3I,EAAA,UAYAA,EAAA,kBAAyB6I,EAAMC,EAAMC,GACnC,IAAIC,EAAe,IAARD,EAAaA,EAAM,GAI9B,OAHAC,GAAgB,IAARH,EAAa,IAAIA,EAAM,GAElB,KADbG,GAAgB,IAARF,EAAa,IAAIA,EAAM,MACdE,EAAO,QACjBA,GAIThJ,EAAA,2BAAkCiI,EAAWgB,EAASC,GACpD,IAAIC,EAASF,EAASG,OACtBD,EAASE,WAAW,YACpBF,EAAS5E,YAAY,kBACJ,KAAb2E,GAA+B,sBAAZA,GAA+C,uBAAZA,GAAgD,qBAAZA,GAA8C,wBAAZA,IAC9HC,EAASG,KAAK,WAAW,YACzBH,EAASxF,SAAS,oBAMtB3D,EAAA,mBAA0BuJ,EAAGC,GAC3B,IAAIC,EAAK,GACT,GAAQ,MAALF,EACD,OAAQC,GACN,IAAK,IACHC,EAAK,aACL,MACF,IAAK,IACHA,EAAK,aACL,MACF,QACEA,EAAK,qBAGL,GAAQ,MAALF,EACP,OAAQC,GACN,IAAK,IACHC,EAAK,aACL,MACF,IAAK,IACHA,EAAK,aACL,MACF,QACEA,EAAK,qBAGL,GAAQ,MAALF,EACP,OAAQC,GACN,IAAK,IACHC,EAAK,gBACL,MACF,IAAK,IACHA,EAAK,qBACL,MACF,QACEA,EAAK,wBAGL,GAAQ,MAALF,EACP,OAAQC,GACN,IAAK,IACHC,EAAK,oBACL,MACF,IAAK,IACHA,EAAK,sBACL,MACF,QACEA,EAAK,yBAGL,GAAQ,MAALF,EACP,OAAQC,GACN,IAAK,IACHC,EAAK,eACL,MACF,IAAK,IACHA,EAAK,iBACL,MACF,QACEA,EAAK,oBAGL,GAAQ,MAALF,EACP,OAAQC,GACN,IAAK,IACHC,EAAK,sBACL,MACF,IAAK,IACHA,EAAK,kBACL,MACF,QACEA,EAAK,iBAKX,MADa,IAAPA,EAAY,gBAAgBA,EAAK,KAAK,IAM9CzJ,EAAA,mBAA0BiC,GACxB,IAAIyH,EAAS,CAAC,WAAa,GAAG,KAAO,IACjCC,EAAQ,EAAAC,SAAS3H,EAAS0H,SAC1BE,EAAsB,IAAVF,EAAe,iBAAiBA,EAAQ,MAAO,GAC3DG,EAAQ,EAAAF,SAAS3H,EAAS6H,SAC1BC,EAAM,EAAAH,SAAS3H,EAAS8H,OACxBtC,EAAqC,IAA7B,EAAAmC,SAAS3H,EAASwF,SAAgBxF,EAASwF,QAAS,GAC5DuC,EAAW,GACf,GAAW,IAARD,EAAW,CACZ,IAAIE,EAAQ,GACZ,OAAQH,GACN,IAAK,MACHE,EAAWzC,EAAQwC,EAAMtC,EAAQ,YAAY,QAAQ,IACrDiC,EAASM,WAAwB,IAAbA,EAAmB,cAAcA,EAAW,IAAM,GACtE,MACF,IAAK,OACHC,EAAQ,aAAaF,EAAM,YAAYF,EAAY,8BACnD,MACF,IAAK,SACHI,EAAQ,aAAaF,EAAM,YAAYF,EAAY,oBACnD,MACF,IAAK,SACHI,EAAQ,aAAaF,EAAM,YAAYF,EAAY,kBAGvDH,EAASQ,KAAKD,EAEhB,OAAOP,GAGT1J,EAAA,wBAA+BiI,EAAYkC,GACzC,IAAIC,EAAUnC,EAAWvG,KAAK,YAC1B2I,EAAUpC,EAAWvG,KAAK,YACd,QAAZyI,GACFC,EAAQ9B,OACR+B,EAAQhC,QACa,QAAZ8B,IACTC,EAAQ/B,OACRgC,EAAQ/B,U,8EClLZ,OAOE,YAAAgC,eAAA,SAAerI,GACbtB,KAAK4J,YAAcrI,KAAKC,MAAMD,KAAKE,UAAUH,KAE/C,YAAAuI,eAAA,SAAevI,GACbtB,KAAK8J,YAAcxI,GAErB,YAAAW,GAAA,WACMjC,KAAKoB,WAAapB,KAAK8J,cACzB9J,KAAKoB,UAAUE,SAAWtB,KAAK8J,YAC/B9J,KAAKoB,UAAU2I,SAAS/J,KAAK8J,aAC7B9J,KAAKoB,UAAU8B,kBAInB,YAAAd,KAAA,WACMpC,KAAKoB,WAAapB,KAAK4J,cACzB5J,KAAKoB,UAAUE,SAAWtB,KAAK4J,YAC/B5J,KAAKoB,UAAU2I,SAAS/J,KAAK4J,aAC7B5J,KAAKoB,UAAU8B,kBAIrB,GAzBE,WAAY9B,GAHZ,KAAAwI,YAAmB,KACnB,KAAAE,YAAmB,KACnB,KAAA1I,UAAuB,KAErBpB,KAAKoB,UAAYA,E,2FCPrB/B,EAAA,uBAA8B2K,GAG5B,GAAgB,KADFA,EAAQC,OAAOC,OAAOhL,QAAQ,MAAO,IACnD,CAWA,IARA,IAOIiL,EAAU,GACA,MARF,CAAC,CAAC,MAAQ,SAAU,KAAO,UACrC,CAAC,MAAQ,iBAAkB,KAAO,kBAClC,CAAC,MAAQ,YAAa,KAAO,aAC7B,CAAC,MAAQ,SAAU,KAAO,UAC1B,CAAC,MAAQ,QAAS,KAAO,SACzB,CAAC,MAAQ,cAAe,KAAO,eAC/B,CAAC,MAAQ,kBAAmB,KAAO,oBAEvB,eAAM,CAAf,IAAI7M,EAAC,KACR6M,GAAW,kBAAkB7M,EAAEW,MAAK,KAAKX,EAAE8M,KAAI,YAEjDJ,EAAQvJ,OAAO0J,KAGjB9K,EAAA,2BAAkC2K,GAGhC,GAAgB,KADFA,EAAQC,OAAOC,OAAOhL,QAAQ,MAAO,IACnD,CAqBA,IAlBA,IAiBIiL,EAAU,GACA,MAlBJ,CAAC,CAAC,MAAQ,IAAI,KAAO,MAC7B,CAAC,MAAQ,IAAI,KAAO,MACpB,CAAC,MAAQ,IAAI,KAAO,MACpB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,KAAK,KAAO,OACrB,CAAC,MAAQ,MAAM,KAAO,QACtB,CAAC,MAAQ,MAAM,KAAO,QACtB,CAAC,MAAQ,MAAM,KAAO,QACtB,CAAC,MAAQ,MAAM,KAAO,QACtB,CAAC,MAAQ,MAAM,KAAO,SAEV,eAAM,CAAf,IAAI7M,EAAC,KACR6M,GAAW,kBAAkB7M,EAAEW,MAAK,KAAKX,EAAE8M,KAAI,YAEjDJ,EAAQvJ,OAAO0J,KAGjB9K,EAAA,4BAAmC2K,GAGjC,GAAgB,KADFA,EAAQC,OAAOC,OAAOhL,QAAQ,MAAO,IACnD,CAsBA,IAnBA,IAkBIiL,EAAU,GACA,MAnBH,CAAC,CAAC,MAAQ,GAAG,KAAO,OAC3B,CAAC,MAAQ,cAAc,KAAO,SAC9B,CAAC,MAAQ,eAAe,KAAO,WAC/B,CAAC,MAAQ,eAAe,KAAO,WAC/B,CAAC,MAAQ,eAAe,KAAO,WAC/B,CAAC,MAAQ,eAAe,KAAO,WAC/B,CAAC,MAAQ,eAAe,KAAO,WAC/B,CAAC,MAAQ,eAAe,KAAO,WAC/B,CAAC,MAAQ,gBAAgB,KAAO,aAChC,CAAC,MAAQ,gBAAgB,KAAO,YAChC,CAAC,MAAQ,cAAc,KAAO,QAC9B,CAAC,MAAQ,gBAAgB,KAAO,YAChC,CAAC,MAAQ,gBAAgB,KAAO,YAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,UAEtB,eAAM,CAAf,IAAI7M,EAAC,KACR6M,GAAW,kBAAkB7M,EAAEW,MAAK,KAAKX,EAAE8M,KAAI,YAEjDJ,EAAQvJ,OAAO0J,KAGjB9K,EAAA,4BAAmC2K,GAGjC,GAAgB,KADFA,EAAQC,OAAOC,OAAOhL,QAAQ,MAAO,IACnD,CAsBA,IAnBA,IAkBIiL,EAAU,GACA,MAnBH,CAAC,CAAC,MAAQ,GAAG,KAAO,OAC3B,CAAC,MAAQ,eAAe,KAAO,SAC/B,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,gBAAgB,KAAO,WAChC,CAAC,MAAQ,iBAAiB,KAAO,aACjC,CAAC,MAAQ,iBAAiB,KAAO,YACjC,CAAC,MAAQ,eAAe,KAAO,QAC/B,CAAC,MAAQ,iBAAiB,KAAO,YACjC,CAAC,MAAQ,iBAAiB,KAAO,YACjC,CAAC,MAAQ,iBAAiB,KAAO,WACjC,CAAC,MAAQ,iBAAiB,KAAO,WACjC,CAAC,MAAQ,iBAAiB,KAAO,WACjC,CAAC,MAAQ,iBAAiB,KAAO,WACjC,CAAC,MAAQ,iBAAiB,KAAO,UAEvB,eAAM,CAAf,IAAI7M,EAAC,KACR6M,GAAW,kBAAkB7M,EAAEW,MAAK,KAAKX,EAAE8M,KAAI,YAEjDJ,EAAQvJ,OAAO0J,KAGjB9K,EAAA,2BAAkC2K,GAGhC,GAAgB,KADFA,EAAQC,OAAOC,OAAOhL,QAAQ,MAAO,IACnD,CAkGA,IA/FA,IA8FIiL,EAAU,GACA,MA/FH,CACT,CAAC,MAAQ,IAAI,KAAO,OACpB,CAAC,MAAQ,IAAI,KAAO,OACpB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,KAAK,KAAO,QACrB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAO,SACtB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,MAAM,KAAQ,SACvB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC,MAAQ,OAAO,KAAQ,UACxB,CAAC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","file":"js/index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","export function isEmpty(v) {\r\n    switch (typeof v) {\r\n    case 'undefined':\r\n        return true;\r\n    case 'string':\r\n        if (v.replace(/(^[ \\t\\n\\r]*)|([ \\t\\n\\r]*$)/g, '').length == 0){ return true;}\r\n        break;\r\n    case 'boolean':\r\n        if (!v) {return true;}\r\n        break;\r\n    case 'number':\r\n        if (0 === v || isNaN(v)){ return true;}\r\n        break;\r\n    case 'object':\r\n        if (null === v || v.length === 0){ return true;}\r\n        for (var i in v) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function compareForm(form1, form2) {\r\n  for (let k in form1) {\r\n    if (form1[k] !== form2[k]) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n//生成随机数\r\nexport function setRanDom() {\r\n  var c,\r\n    d,\r\n    e,\r\n    f,\r\n    b = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\r\n    return c = b[Math.floor(62 * Math.random())],\r\n    d = b[Math.floor(62 * Math.random())],\r\n    e = b[Math.floor(62 * Math.random())],\r\n    f = b[Math.floor(62 * Math.random())],\r\n    c + d + e + f\r\n}\r\n//转化数子\r\nexport function valInt(a) {\r\n  var b;\r\n  return a && \"\" != a ? (b = parseInt(a, 10), !!isNaN(b) && (b = 0), b) : a;\r\n}\r\n/*返回为空字符*/\r\nexport function valEmpty(v){\r\n return  isEmpty(v) ?  '' : v;\r\n}\r\n","import Draggable from './Draggable';\r\nimport Stage from './Stage';\r\nimport SetPositionAction from \"./SetPositionAction\"\r\nexport default abstract class Component {\r\n  $contentBox: JQuery\r\n  $el: JQuery\r\n  $topBar: JQuery\r\n  $bottomBar: JQuery\r\n  minWidth: number\r\n  minHeight: number\r\n  $inputX: JQuery\r\n  $inputY: JQuery\r\n  $inputWidth: JQuery\r\n  $inputHeight: JQuery\r\n  $propPanel: JQuery\r\n  drag: Draggable\r\n  stage: Stage\r\n  props: any = {}\r\n  formData: any = {}\r\n  name: string\r\n  id: string\r\n  isLockedPos: boolean = false\r\n  enableResize: boolean = true\r\n  selectFlag: number = 0\r\n  isEditPopup: boolean = true\r\n  isInit: boolean = false\r\n  constructor(name = '', prop = {}) {\r\n    this.name = name;\r\n    for (let k in prop) {\r\n      this[k] = prop[k]\r\n    }\r\n    let $el = $(`\r\n      <div class=\"component-box t-app\">\r\n        <div class=\"content-box\">\r\n        </div>\r\n      </div>\r\n    `);\r\n    this.$contentBox = $el.find('.content-box');\r\n    if (name) {\r\n      $el.addClass(name)\r\n    }\r\n    this.$el = $el;\r\n    this.minWidth = 24;\r\n    this.minHeight = 24;\r\n    let that = this;\r\n    this.$contentBox.dblclick(function() {\r\n      if (that.isEditPopup) {\r\n        that.openEditDialog();\r\n      }\r\n    })\r\n  }\r\n\r\n  width() {\r\n    return this.$el.width();\r\n  }\r\n\r\n  height() {\r\n    return this.$el.height();\r\n  }\r\n  left() {\r\n    return parseInt(this.$el[0].style.left);\r\n  }\r\n  top() {\r\n    return parseInt(this.$el[0].style.top);\r\n  }\r\n  setContent(content) {\r\n    this.$contentBox.append(content)\r\n  }\r\n\r\n  remove() {\r\n    this.$el.remove();\r\n  }\r\n  clone() {\r\n    let copyELem = this.stage.$componentTopBar.find('.copy')[0];\r\n    let copyElemLeft = this.stage.$componentTopBar[0].offsetLeft + copyELem.offsetLeft;\r\n    let copyElemTop = this.stage.$componentTopBar[0].offsetTop + copyELem.offsetTop;\r\n    let component = new (<any>this.constructor)\r\n    component.formData = JSON.parse(JSON.stringify(this.formData));\r\n    component.update(this.formData)\r\n\r\n    component.setPosition({\r\n      l: copyElemLeft,\r\n      t: copyElemTop,\r\n      w: this.width(),\r\n      h: this.height()\r\n    });\r\n    let that = this;\r\n    this.stage.actionManager.execute({\r\n      do() {\r\n        that.stage.addComponent(component)\r\n        that.stage.selectComponent(component)\r\n      }, undo() {\r\n        that.stage.removeComponent(component)\r\n        that.stage.unselectComponent(component)\r\n        if (that.stage.components.length > 0) {\r\n          that.stage.selectComponent(that.stage.components[that.stage.components.length - 1])\r\n        }\r\n      }\r\n    })\r\n\r\n    // let mouseEvent = document.createEvent('MouseEvent');\r\n    let clientX = this.stage.curMouseEvent.clientX;\r\n    let clientY = this.stage.curMouseEvent.clientY;\r\n    // // @ts-ignore\r\n    // mouseEvent.initMouseEvent('mousedown', true, true, window, 0,\r\n    //   0, 0, clientX, clientY);\r\n    // component.$contentBox[0].dispatchEvent(mouseEvent);\r\n    component.drag.start({type: 'mock', clientX: clientX, clientY: clientY});\r\n  }\r\n  abstract getProps() : object;\r\n  abstract toHtml() : string;\r\n  abstract openEditDialog(): void\r\n  abstract update(formData: any): void\r\n  abstract doUpdate(formData: any): void\r\n  abstract initPorpPanel(): void\r\n  select() {\r\n    if (this.selectFlag) {\r\n      return\r\n    }\r\n    this.$el.addClass('ui-selected');\r\n    this.selectFlag = 1\r\n    this.resetPositionInfo();\r\n    this.initPorpPanel()\r\n  }\r\n\r\n  resetPositionInfo() {\r\n    this.stage.resetComponentPositionInfo();\r\n  }\r\n\r\n  setPosition({ l, t, w, h }, flag = false) {\r\n    let originPos = {\r\n      l: this.left(),\r\n      t: this.top(),\r\n      w: this.width(),\r\n      h: this.height()\r\n    }\r\n    this.$el.width(w)\r\n    this.$el.height(h)\r\n    this.$el.css('left', l + 'px')\r\n    this.$el.css('top', t + 'px')\r\n    let endPos = {\r\n      l: this.left(),\r\n      t: this.top(),\r\n      w: this.width(),\r\n      h: this.height()\r\n    }\r\n    if (flag) {\r\n      if (originPos.l !== endPos.l || originPos.t !== endPos.t ||\r\n        originPos.w !== endPos.w || originPos.h !== endPos.h) {\r\n        let setPositionAction = new SetPositionAction(this);\r\n        setPositionAction.setOriginPos(originPos);\r\n        setPositionAction.setEndPos(endPos);\r\n        this.stage.actionManager.execute(setPositionAction);\r\n      }\r\n    }\r\n  }\r\n\r\n  unselect() {\r\n    this.$el.removeClass('ui-selected')\r\n    this.selectFlag = 0;\r\n    this.stage.hideComponentToolbar();\r\n  }\r\n\r\n  deleteSelf() {\r\n    let layer = layui.layer;\r\n    let that = this\r\n    layer.confirm('您确定是否删除该组件吗？',  {\r\n      btn: ['确定','关闭'],\r\n      icon: 3,\r\n      title:'提示'\r\n    }, function(idx) {\r\n      layer.close(idx)\r\n      that.stage.removeComponent(that)\r\n    }, function() {\r\n    });\r\n  }\r\n  mount(stage: Stage) {\r\n    this.stage = stage;\r\n    let $canvas = stage.$canvas;\r\n    $canvas.append(this.$el)\r\n    if (this.enableResize) {\r\n      // @ts-ignore\r\n      this.$el.resizable({\r\n        // containment: $canvas[0],\r\n        classes: {\r\n          'ui-resizable-se': '',\r\n        },\r\n        handles: 'all',\r\n        resize: () => {\r\n          this.resetPositionInfo();\r\n          this.stage.setComponentToolbarPos();\r\n        }\r\n      })\r\n    }\r\n    this.$contentBox.on('mousedown',  (event) => {\r\n      if (this.selectFlag === 1) {\r\n        this.initPorpPanel();\r\n        return\r\n      }\r\n\r\n      if (event.ctrlKey) {\r\n        this.stage.selectComponent(this, 1);\r\n      } else {\r\n        this.stage.selectComponent(this);\r\n      }\r\n    });\r\n\r\n    this.$contentBox.on('mouseenter', (event) => {\r\n      if (this.drag.dragStatus === 2) {\r\n        this.drag.dragStatus = 1\r\n      }\r\n      if (this.selectFlag !== 0 && this.drag.dragStatus === 0) {\r\n        this.stage.showComponentToolbar(this);\r\n      }\r\n    })\r\n\r\n    this.$contentBox.on('mouseleave', (event) => {\r\n      if (this.drag.dragStatus === 1) {\r\n        this.drag.dragStatus = 2\r\n        this.stage.dragScroll(event, this.drag)\r\n      }\r\n    })\r\n    this.$contentBox.on('contextmenu', function(event) {\r\n      event.preventDefault();\r\n    });\r\n    if (!this.isInit) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.isInit = true;\r\n    this.id = this.stage.getRandomStr(4)\r\n    let that = this;\r\n    let drag = new Draggable(this.$el[0], {\r\n      handle: this.$contentBox[0],\r\n      containment: this.stage.$canvas[0],\r\n      isMulti: true,\r\n      snap: true\r\n    })\r\n    this.drag = drag;\r\n    let originPos = null;\r\n    drag.onStart = (event) => {\r\n      originPos = {\r\n        l: this.left(),\r\n        t: this.top(),\r\n        w: this.width(),\r\n        h: this.height()\r\n      }\r\n    }\r\n\r\n    drag.onMultiDrag = () => {\r\n      if (this.drag.dragStatus === 0) {\r\n        this.drag.dragStatus = 1\r\n      }\r\n      this.stage.hideComponentToolbar();\r\n    }\r\n    drag.onMultiStop = () => {\r\n      this.drag.dragStatus = 0;\r\n      this.stage.showComponentToolbar(this);\r\n    }\r\n    drag.onDrag = (event) => {\r\n      this.stage.hideComponentToolbar();\r\n      if (this.drag.dragStatus === 0) {\r\n        this.drag.dragStatus = 1\r\n      }\r\n    }\r\n    drag.onStop = (event) => {\r\n      this.drag.dragStatus = 0;\r\n      this.stage.showComponentToolbar(this);\r\n      let endPos = {\r\n        l: this.left(),\r\n        t: this.top(),\r\n        w: this.width(),\r\n        h: this.height()\r\n      }\r\n      if (originPos.l !== endPos.l || originPos.t !== endPos.t) {\r\n        let setPositionAction = new SetPositionAction(this);\r\n        setPositionAction.setOriginPos(originPos);\r\n        setPositionAction.setEndPos(endPos);\r\n        this.stage.actionManager.execute(setPositionAction);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n"," import {valEmpty,isEmpty} from './common';\r\n/*旺旺链接*/\r\nexport function wwUrl(url,mode,whao,stype){\r\n  return mode ==\"wwlink\" ? '//amos.alicdn.com/msg.aw?&v=2&uid='+whao+'&site=enaliint&s='+stype+'&charset=UTF-8' : url\r\n}\r\n\r\n/*链接 与旺旺链接 切换信息*/\r\nexport function onLinkModeChanged($layerElem, linkMode) {\r\n  let $wangBox = $layerElem.find('.wang-box')\r\n  let $linkBox = $layerElem.find('.link-box')\r\n  if (linkMode === 'urlink') {\r\n    $wangBox.hide()\r\n    $linkBox.show()\r\n  } else if (linkMode === 'wwlink') {\r\n    $linkBox.hide()\r\n    $wangBox.show()\r\n  }\r\n}\r\n/*阴影外框 生成样式 */\r\nexport function boxShadow(sdX,sdY,sdBlur,sdSize,sdColor) {\r\n  let bShadow=sdX+'px'\r\n  bShadow+=' '+sdY+'px'\r\n  bShadow+=sdBlur ? ' '+sdBlur+'px': ''\r\n  bShadow+=sdSize ? ' '+sdSize+'px': ''\r\n  bShadow+=sdColor ? ' '+sdColor: ''\r\n  return bShadow\r\n}\r\n\r\n/*背景图 生成样式 */\r\nexport function bgImage(img,bgColor,bgRep,bgPos,bgfix){\r\n  let defBg=bgColor  \r\n  if( !isEmpty(img)){\r\n    bgColor=!isEmpty(bgColor) ? ' '+bgColor:''\r\n    bgRep=!isEmpty(bgRep) ? ' '+bgRep:' no-repeat'\r\n    bgPos=!isEmpty(bgPos) ? ' '+bgPos:''\r\n    bgfix=!isEmpty(bgfix) ? ' '+bgfix:''\r\n    defBg='url('+img+')'+bgRep+bgPos+bgColor+bgfix+''\r\n  }\r\n  return defBg\r\n}\r\n/*文字线 生成样式 */\r\nexport function textLine(oLine,tLine,uLine){\r\n  let deline=uLine !=\"\" ? uLine:'';\r\n  deline+=oLine !=\"\" ? ' '+oLine:'';\r\n  deline+=tLine !=\"\" ? ' '+tLine:'';\r\n  if(deline ===\"\") deline='none'\r\n  return deline;\r\n}\r\n\r\n/*左右移动，缩放大小 后面值 无线 */\r\nexport function onDisabledChanged($layerElem,$objElem,$valElem) {\r\n  let $nextObj=$objElem.next()\r\n  $nextObj.removeAttr(\"disabled\")\r\n  $nextObj.removeClass(\"state-disabled\")\r\n  if ($valElem === '' || $valElem ==='xins-box-fromleft' || $valElem ==='xins-box-fromright' || $valElem ==='xins-box-fromtop' || $valElem ==='xins-box-frombottom') {\r\n    $nextObj.attr(\"disabled\",\"disabled\")\r\n    $nextObj.addClass(\"state-disabled\")\r\n  }\r\n} \r\n\r\n \r\n/*动画程度*/\r\nexport function BezierCss(bz,bzv){\r\n  let defv='';\r\n  if(bz ==\"bs\"){  //由慢到快\r\n    switch (bzv) {\r\n      case 'b': //强\r\n        defv='1, 0, 1, 0';\r\n        break;\r\n      case 'm': //中\r\n        defv='1, 0, 1, 1';\r\n        break;\r\n      default: //s弱\r\n        defv='0.42, 0, 1, 1';\r\n        break;\r\n    }\r\n  }else if(bz ==\"bq\"){   //由快到慢\r\n    switch (bzv) {\r\n      case 'b': //强\r\n        defv='0, 1, 0, 1';\r\n        break;\r\n      case 'm': //中\r\n        defv='0, 0, 0, 1';\r\n        break;\r\n      default: //s弱\r\n        defv='0, 0, 0.58, 1';\r\n        break;\r\n    }\r\n  }else if(bz ==\"bt\"){   //跑过回头（加速）\r\n    switch (bzv) {\r\n      case 'b': //强\r\n        defv='0.5,2.2,1,0.8';\r\n        break;\r\n      case 'm': //中\r\n        defv='0.5, 2.2, 0.5, 0.8';\r\n        break;\r\n      default: //s弱\r\n        defv='1, 2.2, 0.5, 0.8';\r\n        break;\r\n    }\r\n  }else if(bz ==\"bc\"){   //起步后撤（加速）\r\n    switch (bzv) {\r\n      case 'b': //强\r\n        defv='0.5, 0.2, 1, -1.2';\r\n        break;\r\n      case 'm': //中\r\n        defv='0.5, 0.2, 0.5, -1.2';\r\n        break;\r\n      default: //s弱\r\n        defv='1, 0.2, 0.5, -1.2';\r\n        break;\r\n    }\r\n  }else if(bz ==\"bd\"){   //中间停顿（加速）\r\n    switch (bzv) {\r\n      case 'b': //强\r\n        defv='0.5, 1, 1, 0';\r\n        break;\r\n      case 'm': //中\r\n        defv='0.5, 1, 0.5, 0';\r\n        break;\r\n      default: //3弱\r\n        defv='1, 1, 0.5, 0';\r\n        break;\r\n    }\r\n  }else if(bz ==\"bx\"){   //弹性抖动（1）\r\n    switch (bzv) {\r\n      case 'b': //强\r\n        defv='0.5, 1.5, 0.5, -1.5';\r\n        break;\r\n      case 'm': //中\r\n        defv='0.5, 2, 0.5, -1';\r\n        break;\r\n      default: //s弱\r\n        defv='0.5, 3, 0.5, 0';\r\n        break;\r\n    }\r\n  }\r\n  defv= defv !=\"\" ? 'cubic-bezier('+defv+') ':'';\r\n  return   defv;\r\n}\r\n\r\n \r\n//生成图片样式\r\nexport function ImgBgHtml(formData) {\r\n  var jsonData={'imgBgStyle':'','Html':''}\r\n  let bRadius=valEmpty(formData.bRadius)\r\n  let radiusStyle=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n  let imgMode=valEmpty(formData.imgMode)\r\n  let bgImg=valEmpty(formData.bgImg) \r\n  let bgColor=valEmpty(formData.bgColor) !=\"\" ? formData.bgColor :''\r\n  let imgBgStyle=''\r\n  if(bgImg !=\"\"){\r\n    let imgHtml=''\r\n    switch (imgMode) {\r\n      case 'cut':   //保持原图尺寸\r\n        imgBgStyle=bgImage(bgImg,bgColor,'no-repeat','0% 0%','')\r\n        jsonData.imgBgStyle=imgBgStyle !=\"\" ?  'background:'+imgBgStyle+';' : ''\r\n        break\r\n      case 'full':   //自由拉伸 class=\"sf\"\r\n        imgHtml='<img src=\"'+bgImg+'\" style=\"'+radiusStyle+'width:100%;height:100%;\" />'\r\n        break\r\n      case 'scaleX':  //保持比例 sx(只裁剪宽度)\r\n        imgHtml='<img src=\"'+bgImg+'\" style=\"'+radiusStyle+'height:100%;\"  />'  \r\n        break\r\n      case 'scaleY':   //保持比例 sy(只裁剪高度)\r\n        imgHtml='<img src=\"'+bgImg+'\" style=\"'+radiusStyle+'width:100%;\" />'\r\n        break\r\n    }\r\n    jsonData.Html=imgHtml;\r\n  }\r\n  return jsonData\r\n}\r\n/*文字 切换信息*/\r\nexport function conModeChanged($layerElem, conMode) {\r\n  let $txtBox = $layerElem.find('.txt-box')\r\n  let $imgBox = $layerElem.find('.img-box')\r\n  if (conMode === 'txt') {\r\n    $txtBox.show()\r\n    $imgBox.hide()\r\n  } else if (conMode === 'img') {\r\n    $txtBox.hide()\r\n    $imgBox.show()\r\n  }\r\n}","import Action from \"./Action\"\r\nimport Component from \"./Component\"\r\n\r\nexport default class UpdateFormAction implements Action {\r\n  oldFormData: any = null;\r\n  newFormData: any = null;\r\n  component: Component = null;\r\n  constructor(component: Component) {\r\n    this.component = component;\r\n  }\r\n  setOldFormData(formData) {\r\n    this.oldFormData = JSON.parse(JSON.stringify(formData));\r\n  }\r\n  setNewFormData(formData) {\r\n    this.newFormData = formData;\r\n  }\r\n  do() {\r\n    if (this.component && this.newFormData) {\r\n      this.component.formData = this.newFormData;\r\n      this.component.doUpdate(this.newFormData);\r\n      this.component.initPorpPanel();\r\n    }\r\n  }\r\n\r\n  undo() {\r\n    if (this.component && this.oldFormData) {\r\n      this.component.formData = this.oldFormData;\r\n      this.component.doUpdate(this.oldFormData);\r\n      this.component.initPorpPanel();\r\n    }\r\n  }\r\n\r\n}\r\n","/*文字组件*/\r\nexport function setFontOption($select) {\r\n  //let $select = $(select)\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let data =  [{\"value\":\"Roboto\", \"text\":\"Roboto\"},\r\n    {\"value\":\"Helvetica Neue\", \"text\":\"Helvetica Neue\"},\r\n    {\"value\":\"Helvetica\", \"text\":\"Helvetica\"},\r\n    {\"value\":\"Tahoma\", \"text\":\"Tahoma\"},\r\n    {\"value\":\"Arial\", \"text\":\"Arial\"},\r\n    {\"value\":\"PingFang SC\", \"text\":\"PingFang SC\"},\r\n    {\"value\":\"Microsoft YaHei\", \"text\":\"Microsoft YaHei\"}];\r\n  let options = ''\r\n  for (let d of data) {\r\n    options += `<option value=\"${d.value}\">${d.text}</option>`\r\n  }\r\n  $select.append(options)\r\n}\r\n/*旋转*/\r\nexport function setAntSpinvOption($select) {\r\n  //let $select = $(select)\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let data =[{\"value\":\"0\",\"text\":\"0度\"},\r\n    {\"value\":\"2\",\"text\":\"2度\"},\r\n    {\"value\":\"5\",\"text\":\"5度\"},\r\n    {\"value\":\"10\",\"text\":\"10度\"},\r\n    {\"value\":\"20\",\"text\":\"20度\"},\r\n    {\"value\":\"30\",\"text\":\"30度\"},\r\n    {\"value\":\"40\",\"text\":\"40度\"},\r\n    {\"value\":\"50\",\"text\":\"50度\"},\r\n    {\"value\":\"60\",\"text\":\"60度\"},\r\n    {\"value\":\"70\",\"text\":\"70度\"},\r\n    {\"value\":\"80\",\"text\":\"80度\"},\r\n    {\"value\":\"90\",\"text\":\"90度\"},\r\n    {\"value\":\"120\",\"text\":\"120度\"},\r\n    {\"value\":\"180\",\"text\":\"180度\"},\r\n    {\"value\":\"270\",\"text\":\"270度\"},\r\n    {\"value\":\"360\",\"text\":\"360度\"},\r\n    {\"value\":\"720\",\"text\":\"720度\"}];\r\n  let options = ''\r\n  for (let d of data) {\r\n    options += `<option value=\"${d.value}\">${d.text}</option>`\r\n  }\r\n  $select.append(options)\r\n}\r\n/*默认缩放*/\r\nexport function setAntMrZoomOption($select) {\r\n  //let $select = $(select)\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let data = [{\"value\":\"\",\"text\":\"无效果\"},\r\n      {\"value\":\"xins-mr-sf0\",\"text\":\"缩小至消失\"},\r\n      {\"value\":\"xins-mr-sf02\",\"text\":\"缩小至0.2倍\"},\r\n      {\"value\":\"xins-mr-sf04\",\"text\":\"缩小至0.4倍\"},\r\n      {\"value\":\"xins-mr-sf05\",\"text\":\"缩小至0.5倍\"},\r\n      {\"value\":\"xins-mr-sf06\",\"text\":\"缩小至0.6倍\"},\r\n      {\"value\":\"xins-mr-sf08\",\"text\":\"缩小至0.7倍\"},\r\n      {\"value\":\"xins-mr-sf09\",\"text\":\"缩小至0.9倍\"},\r\n      {\"value\":\"xins-mr-sf095\",\"text\":\"缩小至0.95倍度\"},\r\n      {\"value\":\"xins-mr-sf098\",\"text\":\"缩小至0.98倍\"},\r\n      {\"value\":\"xins-mr-sf1\",\"text\":\"原始尺寸\"},\r\n      {\"value\":\"xins-mr-sf102\",\"text\":\"放大至1.02倍\"},\r\n      {\"value\":\"xins-mr-sf105\",\"text\":\"放大至1.05倍\"},\r\n      {\"value\":\"xins-mr-sf110\",\"text\":\"放大至1.1倍\"},\r\n      {\"value\":\"xins-mr-sf120\",\"text\":\"放大至1.2倍\"},\r\n      {\"value\":\"xins-mr-sf150\",\"text\":\"放大至1.3倍\"},\r\n      {\"value\":\"xins-mr-sf180\",\"text\":\"放大至1.8倍\"},\r\n      {\"value\":\"xins-mr-sf200\",\"text\":\"放大至2倍\"}];\r\n  let options = ''\r\n  for (let d of data) {\r\n    options += `<option value=\"${d.value}\">${d.text}</option>`\r\n  }\r\n  $select.append(options)\r\n}\r\n/*移上缩放*/\r\nexport function setAntMvZoomOption($select) {\r\n  //let $select = $(select)\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let data = [{\"value\":\"\",\"text\":\"无效果\"},\r\n      {\"value\":\"xins-box-sf0\",\"text\":\"缩小至消失\"},\r\n      {\"value\":\"xins-box-sf02\",\"text\":\"缩小至0.2倍\"},\r\n      {\"value\":\"xins-box-sf04\",\"text\":\"缩小至0.4倍\"},\r\n      {\"value\":\"xins-box-sf05\",\"text\":\"缩小至0.5倍\"},\r\n      {\"value\":\"xins-box-sf06\",\"text\":\"缩小至0.6倍\"},\r\n      {\"value\":\"xins-box-sf08\",\"text\":\"缩小至0.7倍\"},\r\n      {\"value\":\"xins-box-sf09\",\"text\":\"缩小至0.9倍\"},\r\n      {\"value\":\"xins-box-sf095\",\"text\":\"缩小至0.95倍度\"},\r\n      {\"value\":\"xins-box-sf098\",\"text\":\"缩小至0.98倍\"},\r\n      {\"value\":\"xins-box-sf1\",\"text\":\"原始尺寸\"},\r\n      {\"value\":\"xins-box-sf102\",\"text\":\"放大至1.02倍\"},\r\n      {\"value\":\"xins-box-sf105\",\"text\":\"放大至1.05倍\"},\r\n      {\"value\":\"xins-box-sf110\",\"text\":\"放大至1.1倍\"},\r\n      {\"value\":\"xins-box-sf120\",\"text\":\"放大至1.2倍\"},\r\n      {\"value\":\"xins-box-sf150\",\"text\":\"放大至1.3倍\"},\r\n      {\"value\":\"xins-box-sf180\",\"text\":\"放大至1.8倍\"},\r\n      {\"value\":\"xins-box-sf200\",\"text\":\"放大至2倍\"}];\r\n  let options = ''\r\n  for (let d of data) {\r\n    options += `<option value=\"${d.value}\">${d.text}</option>`\r\n  }\r\n  $select.append(options)\r\n}\r\n/*移动值*/\r\nexport function setAntMovevOption($select) {\r\n  //let $select = $(select)\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let data = [\r\n    {\"value\":\"0\",\"text\":\"0像素\"},\r\n    {\"value\":\"5\",\"text\":\"5像素\"},\r\n    {\"value\":\"10\",\"text\":\"10像素\"},\r\n    {\"value\":\"15\",\"text\":\"15像素\"},\r\n    {\"value\":\"20\",\"text\":\"20像素\"},\r\n    {\"value\":\"30\",\"text\":\"30像素\"},\r\n    {\"value\":\"40\",\"text\":\"40像素\"},\r\n    {\"value\":\"50\",\"text\":\"50像素\"},\r\n    {\"value\":\"60\",\"text\":\"60像素\"},\r\n    {\"value\":\"70\",\"text\":\"70像素\"},\r\n    {\"value\":\"80\",\"text\":\"80像素\"},\r\n    {\"value\":\"90\",\"text\":\"90像素\"},\r\n    {\"value\":\"100\",\"text\":\"100像素\"},\r\n    {\"value\":\"70\",\"text\":\"70像素\"},\r\n    {\"value\":\"110\",\"text\":\"110像素\"},\r\n    {\"value\":\"120\",\"text\":\"120像素\"},\r\n    {\"value\":\"130\",\"text\":\"130像素\"},\r\n    {\"value\":\"140\",\"text\":\"140像素\"},\r\n    {\"value\":\"150\",\"text\":\"150像素\"},\r\n    {\"value\":\"160\",\"text\":\"160像素\"},\r\n    {\"value\":\"170\",\"text\":\"170像素\"},\r\n    {\"value\":\"180\",\"text\":\"180像素\"},\r\n    {\"value\":\"190\",\"text\":\"190像素\"},\r\n    {\"value\":\"200\",\"text\":\"200像素\"},\r\n    {\"value\":\"210\",\"text\":\"210像素\"},\r\n    {\"value\":\"220\",\"text\":\"220像素\"},\r\n    {\"value\":\"230\",\"text\":\"230像素\"},\r\n    {\"value\":\"240\",\"text\":\"240像素\"},\r\n    {\"value\":\"250\",\"text\":\"250像素\"},\r\n    {\"value\":\"260\",\"text\":\"260像素\"},\r\n    {\"value\":\"270\",\"text\":\"270像素\"},\r\n    {\"value\":\"280\",\"text\":\"280像素\"},\r\n    {\"value\":\"290\",\"text\":\"290像素\"},\r\n    {\"value\":\"300\",\"text\":\"300像素\"},\r\n    {\"value\":\"310\",\"text\":\"310像素\"},\r\n    {\"value\":\"320\",\"text\":\"320像素\"},\r\n    {\"value\":\"330\",\"text\":\"330像素\"},\r\n    {\"value\":\"340\",\"text\":\"340像素\"},\r\n    {\"value\":\"350\",\"text\":\"350像素\"},\r\n    {\"value\":\"360\",\"text\":\"360像素\"},\r\n    {\"value\":\"370\",\"text\":\"370像素\"},\r\n    {\"value\":\"380\",\"text\":\"380像素\"},\r\n    {\"value\":\"390\",\"text\":\"390像素\"},\r\n    {\"value\":\"400\",\"text\":\"400像素\"},\r\n    {\"value\":\"410\",\"text\":\"410像素\"},\r\n    {\"value\":\"420\",\"text\":\"420像素\"},\r\n    {\"value\":\"430\",\"text\":\"430像素\"},\r\n    {\"value\":\"440\",\"text\":\"440像素\"},\r\n    {\"value\":\"450\",\"text\":\"450像素\"},\r\n    {\"value\":\"460\",\"text\":\"460像素\"},\r\n    {\"value\":\"470\",\"text\":\"470像素\"},\r\n    {\"value\":\"480\",\"text\":\"480像素\"},\r\n    {\"value\":\"490\",\"text\":\"490像素\"},\r\n    {\"value\":\"500\",\"text\":\"500像素\"},\r\n    {\"value\":\"510\",\"text\":\"510像素\"},\r\n    {\"value\":\"520\",\"text\":\"520像素\"},\r\n    {\"value\":\"530\",\"text\":\"530像素\"},\r\n    {\"value\":\"540\",\"text\": \"540像素\"},\r\n    {\"value\":\"550\",\"text\": \"550像素\"},\r\n    {\"value\":\"560\",\"text\": \"560像素\"},\r\n    {\"value\":\"570\",\"text\": \"570像素\"},\r\n    {\"value\":\"580\",\"text\": \"580像素\"},\r\n    {\"value\":\"590\",\"text\": \"590像素\"},\r\n    {\"value\":\"600\",\"text\": \"600像素\"},\r\n    {\"value\":\"610\",\"text\": \"610像素\"},\r\n    {\"value\":\"620\",\"text\": \"620像素\"},\r\n    {\"value\":\"670\",\"text\": \"670像素\"},\r\n    {\"value\":\"720\",\"text\": \"720像素\"},\r\n    {\"value\":\"770\",\"text\": \"770像素\"},\r\n    {\"value\":\"820\",\"text\": \"820像素\"},\r\n    {\"value\":\"870\",\"text\": \"870像素\"},\r\n    {\"value\":\"920\",\"text\": \"920像素\"},\r\n    {\"value\":\"970\",\"text\": \"970像素\"},\r\n    {\"value\":\"820\",\"text\": \"820像素\"},\r\n    {\"value\":\"870\",\"text\": \"870像素\"},\r\n    {\"value\":\"1020\",\"text\": \"1020像素\"},\r\n    {\"value\":\"1070\",\"text\": \"1070像素\"},\r\n    {\"value\":\"1170\",\"text\": \"1170像素\"},\r\n    {\"value\":\"1220\",\"text\": \"1220像素\"},\r\n    {\"value\":\"1270\",\"text\": \"1270像素\"},\r\n    {\"value\":\"1320\",\"text\": \"1320像素\"},\r\n    {\"value\":\"1370\",\"text\": \"1370像素\"},\r\n    {\"value\":\"1420\",\"text\": \"1420像素\"},\r\n    {\"value\":\"1470\",\"text\": \"1470像素\"},\r\n    {\"value\":\"1520\",\"text\": \"1520像素\"},\r\n    {\"value\":\"1570\",\"text\": \"1570像素\"},\r\n    {\"value\":\"1620\",\"text\": \"1620像素\"},\r\n    {\"value\":\"1670\",\"text\": \"1670像素\"},\r\n    {\"value\":\"1720\",\"text\": \"1720像素\"},\r\n    {\"value\":\"1770\",\"text\": \"1770像素\"},\r\n    {\"value\":\"1820\",\"text\": \"1820像素\"},\r\n    {\"value\":\"1870\",\"text\": \"1870像素\"},\r\n    {\"value\":\"1920\",\"text\": \"1920像素\"},]\r\n  let options = ''\r\n  for (let d of data) {\r\n    options += `<option value=\"${d.value}\">${d.text}</option>`\r\n  }\r\n  $select.append(options)\r\n}\r\n//动画特效\r\nexport function setAntBezierOption($select) {\r\n\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let data =  [{\"value\":\"\", \"text\":\"匀速平滑\"},\r\n    {\"value\":\"bs\", \"text\":\"由慢到快\"},\r\n    {\"value\":\"bq\", \"text\":\"由快到慢\"},\r\n    {\"value\":\"bt\", \"text\":\"跑过回头（加速）\"},\r\n    {\"value\":\"bc\", \"text\":\"起步后撤（加速）\"},\r\n    {\"value\":\"bd\", \"text\":\"中间停顿（加速）\"},\r\n    {\"value\":\"bx\", \"text\":\"弹性抖动（1）\"}];\r\n  let options = ''\r\n  for (let d of data) {\r\n    options += `<option value=\"${d.value}\">${d.text}</option>`\r\n  }\r\n  $select.append(options)\r\n}","import {setRanDom,valInt,valEmpty,isEmpty} from './common';\r\n\r\n//弹出编辑 属性设置\r\nexport function setPopHtmlBorder($layerElem,that) {\r\n\r\n    if (that.formData.bdColor) {\r\n     let $bdColorInput=$layerElem.find('input[type=text][name=bdColor]')\r\n     $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bdColor)\r\n    } \r\n    if (that.formData.mbdColor) {\r\n     let $mbdColorInput=$layerElem.find('input[type=text][name=mbdColor]')\r\n     $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbdColor)\r\n    } \r\n    $layerElem.find('.layui-btn-sm').on('click', function() {\r\n      let form = layui.form\r\n      let layer = layui.layer\r\n      layer.msg('你确定  同步默文 边框样式么？', {\r\n        time: 0 //不自动关闭\r\n        ,btn: ['同步', '取消']\r\n        ,yes: function(index){\r\n          tongBuBorder($layerElem,false,that);\r\n          form.render();\r\n          layer.close(index)\r\n        }\r\n      });\r\n    })\r\n}\r\n\r\n//弹出编辑 边框 \r\nexport function editPopHtmlBorder($select) {\r\n  let html= `<div class=\"layui-tab layui-side-card\">\r\n      <ul class=\"layui-tab-title\"  >\r\n        <li class=\"layui-this\" style=\"margin-top: 110px;\">默认边框</li>\r\n        <li class=\"\">鼠标划过动画</li>\r\n      </ul>\r\n      <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n        <div class=\"layui-tab-item layui-show\">\r\n          <fieldset class=\"layui-elem-field\" style=\"margin-top:20px;\">\r\n            <legend>默认边框</legend>\r\n            <div class=\"layui-field-box\">\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">边框显示</label>\r\n                <div class=\"layui-input-block\">\r\n                  <input type=\"checkbox\" name=\"bdT\" value=\"on\" lay-skin=\"primary\" title=\"上边\"  >\r\n                  <input type=\"checkbox\" name=\"bdB\" value=\"on\" lay-skin=\"primary\" title=\"下边\">\r\n                  <input type=\"checkbox\" name=\"bdL\" value=\"on\" lay-skin=\"primary\" title=\"左边\" >\r\n                  <input type=\"checkbox\" name=\"bdR\" value=\"on\" lay-skin=\"primary\" title=\"右边\"  >\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">边框粗细</label>\r\n                <div class=\"layui-input-inline input-short\" style=\"width:80px;\"><input name=\"bdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                <label class=\"layui-form-label\">边框颜色</label>\r\n                <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                  <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                  <input name=\"bdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                  <span class=\"clear-color-button\"></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">边框样式</label>\r\n                <div class=\"layui-input-block\">\r\n                  <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                  <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"dotted\" title=\"细虚线\">\r\n                  <input type=\"radio\" name=\"bdStyle\" lay-filter=\"bdStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldset>\r\n          <fieldset class=\"layui-elem-field\" style=\"margin-top:20px;\">\r\n            <legend>\r\n              <span  style=\"margin-right:15px;  display:inline-block\"> 鼠标_移上边框 </span>\r\n              <button type=\"button\" class=\"layui-btn layui-btn-sm\">同步默认边框</button>\r\n            </legend>\r\n            <div class=\"layui-field-box\">\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">边框显示</label>\r\n                <div class=\"layui-input-block\">\r\n                  <input type=\"checkbox\" name=\"mbdT\" value=\"on\" lay-skin=\"primary\" title=\"上边\"  >\r\n                  <input type=\"checkbox\" name=\"mbdB\" value=\"on\" lay-skin=\"primary\" title=\"下边\">\r\n                  <input type=\"checkbox\" name=\"mbdL\" value=\"on\" lay-skin=\"primary\" title=\"左边\" >\r\n                  <input type=\"checkbox\" name=\"mbdR\" value=\"on\" lay-skin=\"primary\" title=\"右边\"  >\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">边框粗细</label>\r\n                <div class=\"layui-input-inline input-short\" style=\"width:80px;\"><input name=\"mbdWidth\" type=\"text\" class=\"layui-input\"></div>\r\n                <label class=\"layui-form-label\">边框颜色</label>\r\n                <div class=\"layui-input-inline pagecolorpanel input-short\"  >\r\n                  <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                  <input name=\"mbdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                  <span class=\"clear-color-button\"></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">边框样式</label>\r\n                <div class=\"layui-input-block\">\r\n                  <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"solid\" title=\"实线\" checked=\"\">\r\n                  <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"dotted\" title=\"细虚线\">\r\n                  <input type=\"radio\" name=\"mbdStyle\" lay-filter=\"mbdStyle\" value=\"dashed\" title=\"粗虚线\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n        <div class=\"layui-tab-item \">\r\n          <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n            <legend>\r\n              动画时长                      \r\n              <input class=\"input-short\"  type=\"text\" name=\"mbdTsDur\"  style=\"width:50px; height:23px; margin-left:10px; padding-left:5px;\" />\r\n              <label class=\"label-con\">秒</label>\r\n            </legend>\r\n            <div class=\"layui-field-box\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"linear\"  title=\"匀速\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease\"  title=\"逐渐变慢\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-in\"   title=\"减速\">\r\n              <div class=\"sepline\"></div>\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-out\"   title=\"加速\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n            </div>\r\n          </fieldset>\r\n          <fieldset  class=\"layui-elem-field\" style=\"margin-top:25px;\">\r\n            <legend>动画效果</legend>\r\n            <div class=\"layui-field-box\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx0\" title=\"直接切换\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx1\" title=\"渐隐渐显\" >\r\n              <div class=\"sepline\"></div>\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx4\"  title=\"左对角线切入\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx5\"  title=\"右对角线切入\">\r\n              <div class=\"sepline\"></div>\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx6\"  title=\"顺时针出现\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx7\"  title=\"逆时针出现\">\r\n              <div class=\"sepline\"></div>\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx8\"  title=\"由点到线\">\r\n              <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\"  value=\"bdtx9\"  title=\"由点到面\">\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n      </div>\r\n    </div> `\r\n  $select.append(html)\r\n}\r\n\r\n//更新样式\r\nexport function updateBorder($content,formData){\r\n    let oldTsAnt =$content.attr(\"mbdTsAnt\")\r\n    isEmpty(oldTsAnt) != true ? $content.removeClass(oldTsAnt) :''\r\n    $content.addClass(formData.mbdTsAnt)\r\n    $content.attr(\"mbdTsAnt\",formData.mbdTsAnt)\r\n\r\n    let $textPanel=$content;\r\n    let bRadius=formData.bRadius ?  parseInt(formData.bRadius) :''\r\n    let bdWidth=formData.bdWidth !=\"\" ? parseInt(formData.bdWidth) : '';\r\n    let bdColor=formData.bdColor !=\"\" ? formData.bdColor : 'transparent';\r\n  \r\n    let $alPanel=$content.find(\".bk-aline\")\r\n    if (formData.bdT===\"on\" || formData.bdB===\"on\" ||formData.bdL===\"on\"||formData.bdR===\"on\"){\r\n      if($alPanel.length <=0)\r\n        $textPanel.append(\"<div class='bk-aline'></div>\")\r\n      $alPanel=$content.find(\".bk-aline\")\r\n      $alPanel.css('border-radius',bRadius)\r\n\r\n      if(formData.bdT===\"on\"){\r\n        $alPanel.css('border-top-width', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-top-width', 0)\r\n      }\r\n      if(formData.bdB===\"on\"){\r\n        $alPanel.css('border-bottom-width', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-bottom-width', 0)\r\n      }\r\n      if(formData.bdL===\"on\"){\r\n        $alPanel.css('border-Left-width', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-Left-width', 0)\r\n      }\r\n      if(formData.bdR===\"on\"){\r\n        $alPanel.css('border-right-width', bdWidth)\r\n      }else{\r\n        $alPanel.css('border-right-width', 0)\r\n      }\r\n      $alPanel.css('border-style', formData.bdStyle)\r\n      $alPanel.css('border-color', bdColor)\r\n    }else{\r\n      $alPanel.remove()\r\n    }\r\n    \r\n    let $mlPanel=$content.find(\".bk-mline\")\r\n    let $ltPanel=$content.find(\".w-lt\")\r\n    let $lbPanel=$content.find(\".w-lb\")\r\n    let $llPanel=$content.find(\".w-ll\")\r\n    let $lrPanel=$content.find(\".w-lr\")\r\n\r\n    if(formData.mbdT ===\"on\" || formData.mbdB===\"on\" ||formData.mbdL===\"on\"||formData.mbdR===\"on\" ){\r\n      let mbdTsFunVal=formData.mbdTsFun==='cubic-bezier'  ? 'cubic-bezier(0.52, 1.64, 0.37, 0.66)' : formData.mbdTsFun\r\n      let mbdTsDurVal=formData.mbdTsDur+'s'\r\n      \r\n      const mbdWidth=formData.mbdWidth !=\"\" ? parseInt(formData.mbdWidth) : 0;\r\n      const mbdStyle=formData.mbdStyle\r\n      const mbdColor=formData.mbdColor !=\"\" ? formData.mbdColor : 'transparent';\r\n\r\n      if($mlPanel.length <=0) $textPanel.append(\"<div class='bk-mline'></div>\")\r\n      $mlPanel=$content.find(\".bk-mline\")\r\n      $mlPanel.css('border-radius',bRadius)\r\n      $mlPanel.css('border-color', mbdColor)\r\n      $mlPanel.css('border-style', mbdStyle)\r\n      $mlPanel.css('transition-timing-function',mbdTsFunVal)\r\n      $mlPanel.css('transition-duration',mbdTsDurVal)\r\n\r\n      \r\n      if(formData.mbdT===\"on\"){\r\n        if($ltPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lt'></div>\")\r\n          $ltPanel=$content.find(\".w-lt\")\r\n          $ltPanel.css('border-top-width',mbdWidth)\r\n          $ltPanel.css('border-top-style',mbdStyle)\r\n          $ltPanel.css('border-top-color',mbdColor)\r\n          $ltPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $ltPanel.css('transition-duration',mbdTsDurVal)\r\n          $mlPanel.css('border-top-width', mbdWidth)\r\n      }else{\r\n        $mlPanel.css('border-top-width', 0)\r\n        $ltPanel.remove()\r\n      }\r\n      \r\n      if(formData.mbdB===\"on\"){\r\n        if($lbPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lb'></div>\")\r\n          $lbPanel=$content.find(\".w-lb\")\r\n          $lbPanel.css('border-bottom-width',mbdWidth)\r\n          $lbPanel.css('border-bottom-style',mbdStyle)\r\n          $lbPanel.css('border-bottom-color',mbdColor)\r\n          $lbPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $lbPanel.css('transition-duration',mbdTsDurVal)\r\n          $mlPanel.css('border-bottom-width', mbdWidth)\r\n      }else{\r\n        $mlPanel.css('border-bottom-width', 0)\r\n        $lbPanel.remove()\r\n      }\r\n      \r\n      if(formData.mbdL===\"on\"){\r\n        if($llPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-ll'></div>\")\r\n          $llPanel=$content.find(\".w-ll\")\r\n          $llPanel.css('border-left-width',mbdWidth)\r\n          $llPanel.css('border-left-style',mbdStyle)\r\n          $llPanel.css('border-left-color',mbdColor)\r\n          $llPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $llPanel.css('transition-duration',mbdTsDurVal)\r\n          $mlPanel.css('border-left-width',mbdWidth)\r\n      }else{\r\n        $mlPanel.css('border-left-width',0)\r\n        $llPanel.remove()\r\n      }\r\n      \r\n      if(formData.mbdR===\"on\"){\r\n        if($lrPanel.length <=0)\r\n          $textPanel.append(\"<div class='bk-line  w-lr'></div>\")\r\n          $lrPanel=$content.find(\".w-lr\")\r\n          $lrPanel.css('border-right-width',mbdWidth)\r\n          $lrPanel.css('border-right-style',mbdStyle)\r\n          $lrPanel.css('border-right-color',mbdColor)\r\n          $lrPanel.css('transition-timing-function',mbdTsFunVal)\r\n          $lrPanel.css('transition-duration',mbdTsDurVal)\r\n          $mlPanel.css('border-right-width',mbdWidth)\r\n          \r\n      }else{\r\n        $mlPanel.css('border-right-width',0)\r\n        $lrPanel.remove()\r\n      }\r\n      //以上所有边框加上\r\n      if(formData.mbdTsAnt ===\"bdtx0\" || formData.mbdTsAnt ===\"bdtx1\"){\r\n        $ltPanel.remove()\r\n        $lbPanel.remove()\r\n        $llPanel.remove()\r\n        $lrPanel.remove()\r\n      }else{\r\n        $mlPanel.remove()\r\n      }\r\n    }else{\r\n      $mlPanel.remove()\r\n      $ltPanel.remove()\r\n      $lbPanel.remove()\r\n      $llPanel.remove()\r\n      $lrPanel.remove()\r\n    }\r\n}\r\n\r\n//右边编辑 边框 \r\nexport function editSideHtmlBorder($select) {\r\n  let htmlStr = $select.html().trim().replace(/\\s/g, '')\r\n  if (htmlStr !== '') {\r\n    return\r\n  }\r\n  let ranID=setRanDom()\r\n  let html= ` <h2 class=\"layui-colla-title\">边框设置</h2>\r\n                <div class=\"layui-colla-content\"  >\r\n                  <div class=\"layui-tab layui-tab-card\">\r\n                    <ul class=\"layui-tab-title\">\r\n                      <li class=\"layui-this\">边框样式</li>\r\n                      <li>鼠标划过动画</li>\r\n                    </ul>\r\n                    <div class=\"layui-tab-content\"  >\r\n                      <div class=\"layui-tab-item layui-show\">\r\n\r\n                        <fieldset  class=\"layui-elem-field\">\r\n                          <legend>默认边框</legend>\r\n                          <div class=\"layui-field-box\">\r\n                            <div class=\"nromal-wrap\"  >\r\n                              <label >边框显示</label>\r\n                              <div class=\"layui-input-inline\">\r\n                                <input type=\"checkbox\" name=\"bdT\" value=\"on\" id=\"border_bd1_${ranID}\" title=\"上边\"  >\r\n                                <label for=\"border_bd1_${ranID}\" >上边</label>\r\n                                <input type=\"checkbox\" name=\"bdB\" value=\"on\" id=\"border_bd2_${ranID}\" title=\"下边\" style=\"margin-left:5px;\">\r\n                                <label for=\"border_bd2_${ranID}\" >下边</label>\r\n                                <input type=\"checkbox\" name=\"bdL\" value=\"on\" id=\"border_bd3_${ranID}\" title=\"左边\" style=\"margin-left:5px;\">\r\n                                <label for=\"border_bd3_${ranID}\" >左边</label>\r\n                                <input type=\"checkbox\" name=\"bdR\" value=\"on\" id=\"border_bd4_${ranID}\" title=\"右边\"  style=\"margin-left:5px;\">\r\n                                <label for=\"border_bd4_${ranID}\" >右边</label>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"nromal-wrap\"  >\r\n                              <label class=\"label-con\">边框粗细</label>\r\n                              <input  class=\"input-short\" name=\"bdWidth\" type=\"text\" style=\"width:50px;\" >\r\n\r\n                              <label class=\"label-con\">边框颜色</label>\r\n                              <div class=\"pagecolorpanel\"  >\r\n                                <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                                <input name=\"bdColor\" type=\"text\" class=\"pagecolor\" style=\"width:85px;\" >\r\n                                <span class=\"clear-color-button\"></span>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div class=\"nromal-wrap\">\r\n                              <label >边框样式</label>\r\n                              <div class=\"layui-input-inline\">\r\n                                <input type=\"radio\" name=\"bdStyle\" id=\"border_bds1_${ranID}\" value=\"solid\" title=\"实线\"  >\r\n                                <label for=\"border_bds1_${ranID}\" >实线</label>\r\n                                <input type=\"radio\" name=\"bdStyle\" id=\"border_bds2_${ranID}\" value=\"dotted\" title=\"细虚线\">\r\n                                <label for=\"border_bds2_${ranID}\" >细虚线</label>\r\n                                <input type=\"radio\" name=\"bdStyle\" id=\"border_bds3_${ranID}\" value=\"dashed\" title=\"粗虚线\">\r\n                                <label for=\"border_bds3_${ranID}\" >粗虚线</label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </fieldset>\r\n\r\n                        <fieldset  class=\"layui-elem-field\">\r\n                          <legend>\r\n                            鼠标划过边框\r\n                            <button type=\"button\" class=\"layui-btn layui-btn-sm\" style=\"margin-left:10px;\">同步默认边框</button>\r\n                          </legend>\r\n                          <div class=\"layui-field-box\">\r\n                            <div class=\"nromal-wrap\"  >\r\n                              <label >边框显示</label>\r\n                              <div class=\"layui-input-inline\">\r\n                                <input type=\"checkbox\" name=\"mbdT\" value=\"on\" id=\"mborder_bd1_${ranID}\" title=\"上边\"  >\r\n                                <label for=\"mborder_bd1_${ranID}\" >上边</label>\r\n                                <input type=\"checkbox\" name=\"mbdB\" value=\"on\" id=\"mborder_bd2_${ranID}\" title=\"下边\" style=\"margin-left:5px;\">\r\n                                <label for=\"mborder_bd2_${ranID}\" >下边</label>\r\n                                <input type=\"checkbox\" name=\"mbdL\" value=\"on\" id=\"mborder_bd3_${ranID}\" title=\"左边\" style=\"margin-left:5px;\">\r\n                                <label for=\"mborder_bd3_${ranID}\" >左边</label>\r\n                                <input type=\"checkbox\" name=\"mbdR\" value=\"on\" id=\"mborder_bd4_${ranID}\" title=\"右边\"  style=\"margin-left:5px;\">\r\n                                <label for=\"mborder_bd4_${ranID}\" >右边</label>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"nromal-wrap\"  >\r\n                              <label class=\"label-con\">边框粗细</label>\r\n                              <input  class=\"input-short\" name=\"mbdWidth\" type=\"text\" style=\"width:50px;\" >\r\n                              <label class=\"label-con\">边框颜色</label>\r\n                              <div class=\"pagecolorpanel\"  >\r\n                                <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                                <input name=\"mbdColor\" type=\"text\" class=\"pagecolor\" style=\"width:85px;\" >\r\n                                <span class=\"clear-color-button\"></span>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div class=\"nromal-wrap\">\r\n                              <label >边框样式</label>\r\n                              <div class=\"layui-input-inline\">\r\n                                <input type=\"radio\" name=\"mbdStyle\" id=\"mborder_bds1_${ranID}\" value=\"solid\" title=\"实线\"  >\r\n                                <label for=\"mborder_bds1_${ranID}\" >实线</label>\r\n                                <input type=\"radio\" name=\"mbdStyle\" id=\"mborder_bds2_${ranID}\" value=\"dotted\" title=\"细虚线\">\r\n                                <label for=\"mborder_bds2_${ranID}\" >细虚线</label>\r\n                                <input type=\"radio\" name=\"mbdStyle\" id=\"mborder_bds3_${ranID}\" value=\"dashed\" title=\"粗虚线\">\r\n                                <label for=\"mborder_bds3_${ranID}\" >粗虚线</label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </fieldset>\r\n\r\n\r\n                      </div>\r\n                      <div class=\"layui-tab-item\">\r\n                        <fieldset  class=\"layui-elem-field\">\r\n                          <legend>\r\n                            动画时长\r\n                            <input class=\"input-short\"  type=\"text\" name=\"mbdTsDur\"  style=\"width:50px; height:20px; margin-left:10px; padding-left:5px;\" />\r\n                            <label  style=\"margin-right:10px;\">秒</label>\r\n                          </legend>\r\n                          <div class=\"layui-field-box\">\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" id=\"mbdTsDur_1_${ranID}\" value=\"linear\"  title=\"匀速\">\r\n                            <label for=\"mbdTsDur_1_${ranID}\" >匀速</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" id=\"mbdTsDur_2_${ranID}\" value=\"ease\"  title=\"逐渐变慢\">\r\n                            <label for=\"mbdTsDur_2_${ranID}\" >逐渐变慢</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" id=\"mbdTsDur_3_${ranID}\" value=\"ease-in\"   title=\"减速\" style=\"margin-left: 12px;\">\r\n                            <label for=\"mbdTsDur_3_${ranID}\" >减速</label>\r\n                            <div class=\"sepline\"></div>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" id=\"mbdTsDur_4_${ranID}\" value=\"ease-out\"   title=\"加速\">\r\n                            <label for=\"mbdTsDur_4_${ranID}\" >加速</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" id=\"mbdTsDur_5_${ranID}\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                            <label for=\"mbdTsDur_5_${ranID}\" >加速后减速</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsFun\" id=\"mbdTsDur_6_${ranID}\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                            <label for=\"mbdTsDur_6_${ranID}\" >动感弹跳</label>\r\n                          </div>\r\n                        </fieldset>\r\n                        <fieldset  class=\"layui-elem-field\">\r\n                          <legend>动画效果</legend>\r\n                          <div class=\"layui-field-box\">\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_1_${ranID}\"  value=\"bdtx0\" title=\"直接切换\" >\r\n                            <label for=\"mbdTsAnt_1_${ranID}\" >直接切换</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_2_${ranID}\"  value=\"bdtx1\" title=\"渐隐渐显\" style=\"margin-left: 24px;\">\r\n                            <label for=\"mbdTsAnt_2_${ranID}\" >渐隐渐显</label>\r\n                            <div class=\"sepline\"></div>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_3_${ranID}\" value=\"bdtx4\"  title=\"左对角线切入\">\r\n                            <label for=\"mbdTsAnt_3_${ranID}\" >左对角线切入</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_4_${ranID}\"  value=\"bdtx5\"  title=\"右对角线切入\">\r\n                            <label for=\"mbdTsAnt_4_${ranID}\" >右对角线切入</label>\r\n                            <div class=\"sepline\"></div>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_5_${ranID}\"  value=\"bdtx6\"  title=\"顺时针出现\">\r\n                            <label for=\"mbdTsAnt_5_${ranID}\" >顺时针出现</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_6_${ranID}\"  value=\"bdtx7\"  title=\"逆时针出现\" style=\"margin-left: 12px;\">\r\n                            <label for=\"mbdTsAnt_6_${ranID}\" >逆时针出现</label>\r\n                            <div class=\"sepline\"></div>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_7_${ranID}\"  value=\"bdtx8\"  title=\"由点到线\">\r\n                            <label for=\"mbdTsAnt_7_${ranID}\" >由点到线</label>\r\n                            <input class=\"radio-medium\" type=\"radio\" name=\"mbdTsAnt\" id=\"mbdTsAnt_8_${ranID}\"  value=\"bdtx9\"  title=\"由点到面\"  style=\"margin-left: 24px;\">\r\n                            <label for=\"mbdTsAnt_8_${ranID}\" >由点到面</label>\r\n                          </div>\r\n                        </fieldset>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>`\r\n\r\n  $select.append(html)\r\n}\r\n//更新侧边 边框 \r\nexport function updatePropBorder($propPanel,that) {\r\n    let $bdTCheckBox = $propPanel.find('input[type=checkbox][name=bdT]')\r\n    if (that.formData.bdT === 'on') {\r\n      $bdTCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdTCheckBox.prop('checked', false)\r\n    }\r\n    let $bdBCheckBox = $propPanel.find('input[type=checkbox][name=bdB]')\r\n    if (that.formData.bdB === 'on') {\r\n      $bdBCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdBCheckBox.prop('checked', false)\r\n    }\r\n    let $bdLCheckBox = $propPanel.find('input[type=checkbox][name=bdL]')\r\n    if (that.formData.bdL === 'on') {\r\n      $bdLCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdLCheckBox.prop('checked', false)\r\n    }\r\n    let $bdRCheckBox = $propPanel.find('input[type=checkbox][name=bdR]')\r\n    if (that.formData.bdR === 'on') {\r\n      $bdRCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]')\r\n    $bdWidthInput.val(that.formData.bdWidth)\r\n    let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n    $bdStyleRadio.filter(`[value=\"${that.formData.bdStyle}\"]`).prop('checked', true)\r\n    let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]')\r\n    $bdColorInput.val(that.formData.bdColor)\r\n    if (that.formData.bdColor) {\r\n      $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bdColor)\r\n    }else{\r\n      $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    //移上边框\r\n    let $mbdTCheckBox = $propPanel.find('input[type=checkbox][name=mbdT]')\r\n    if (that.formData.mbdT === 'on') {\r\n      $mbdTCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdTCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdBCheckBox = $propPanel.find('input[type=checkbox][name=mbdB]')\r\n    if (that.formData.mbdB === 'on') {\r\n      $mbdBCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdBCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdLCheckBox = $propPanel.find('input[type=checkbox][name=mbdL]')\r\n    if (that.formData.mbdL === 'on') {\r\n      $mbdLCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdLCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdRCheckBox = $propPanel.find('input[type=checkbox][name=mbdR]')\r\n    if (that.formData.mbdR === 'on') {\r\n      $mbdRCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $mbdWidthInput = $propPanel.find('input[type=text][name=mbdWidth]')\r\n    $mbdWidthInput.val(that.formData.mbdWidth)\r\n    let $mbdStyleRadio = $propPanel.find('input[type=radio][name=mbdStyle]')\r\n    $mbdStyleRadio.filter(`[value=\"${that.formData.mbdStyle}\"]`).prop('checked', true)\r\n    let $mbdColorInput = $propPanel.find('input[type=text][name=mbdColor]')\r\n    $mbdColorInput.val(that.formData.mbdColor)\r\n    if (that.formData.mbdColor) {\r\n      $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbdColor)\r\n    }else{\r\n      $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    let $mbdTsDurInput = $propPanel.find('input[type=text][name=mbdTsDur]')\r\n    $mbdTsDurInput.val(that.formData.mbdTsDur)\r\n    let $mbdTsFunRadio = $propPanel.find('input[type=radio][name=mbdTsFun]')\r\n    $mbdTsFunRadio.filter(`[value=\"${that.formData.mbdTsFun}\"]`).prop('checked', true)\r\n\r\n    let $mbdTsAntRadio = $propPanel.find('input[type=radio][name=mbdTsAnt]')\r\n    $mbdTsAntRadio.filter(`[value=\"${that.formData.mbdTsAnt}\"]`).prop('checked', true)\r\n}\r\n\r\n//绑定侧边 边框 \r\nexport function initPorpBorder($propPanel,that) {\r\n  // 以下是默认边框\r\n  let $bdTCheckBox = $propPanel.find('input[type=checkbox][name=bdT]')\r\n  $bdTCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({bdT: val ? 'on' : 'off'})\r\n  })\r\n  let $bdBCheckBox = $propPanel.find('input[type=checkbox][name=bdB]')\r\n  $bdBCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({bdB: val ? 'on' : 'off'})\r\n  })\r\n  let $bdLCheckBox = $propPanel.find('input[type=checkbox][name=bdL]')\r\n  $bdLCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({bdL: val ? 'on' : 'off'})\r\n  })\r\n  let $bdRCheckBox = $propPanel.find('input[type=checkbox][name=bdR]')\r\n  $bdRCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({bdR: val ? 'on' : 'off'})\r\n  })\r\n  let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]') \r\n  $bdWidthInput.keyup(function() {\r\n    let val = $(this).val()\r\n    that.update({bdWidth: val})\r\n  })\r\n  let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]') \r\n  $bdColorInput.change(function() {\r\n    let val = $(this).val()\r\n    that.update({bdColor: val})\r\n  })\r\n  let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n  $bdStyleRadio.change(function() {\r\n    let val = $(this).prop('value')\r\n    that.update({bdStyle: val})\r\n  })\r\n  // 以下是经过边框 \r\n  let $mbdTCheckBox = $propPanel.find('input[type=checkbox][name=mbdT]')\r\n  $mbdTCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({mbdT: val ? 'on' : 'off'})\r\n  })\r\n  let $mbdBCheckBox = $propPanel.find('input[type=checkbox][name=mbdB]')\r\n  $mbdBCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({mbdB: val ? 'on' : 'off'})\r\n  })\r\n  let $mbdLCheckBox = $propPanel.find('input[type=checkbox][name=mbdL]')\r\n  $mbdLCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({mbdL: val ? 'on' : 'off'})\r\n  })\r\n  let $mbdRCheckBox = $propPanel.find('input[type=checkbox][name=mbdR]')\r\n  $mbdRCheckBox.change(function() {\r\n    let val = $(this).is(':checked')\r\n    that.update({mbdR: val ? 'on' : 'off'})\r\n  })\r\n  let $mbdWidthInput = $propPanel.find('input[type=text][name=mbdWidth]') \r\n  $mbdWidthInput.keyup(function() {\r\n    let val = $(this).val()\r\n    that.update({mbdWidth: val})\r\n  })\r\n  let $mbdColorInput = $propPanel.find('input[type=text][name=mbdColor]') \r\n  $mbdColorInput.change(function() {\r\n    let val = $(this).val()\r\n    that.update({mbdColor: val})\r\n  })\r\n  let $mbdStyleRadio = $propPanel.find('input[type=radio][name=mbdStyle]')\r\n  $mbdStyleRadio.change(function() {\r\n    let val = $(this).prop('value')\r\n    that.update({mbdStyle: val})\r\n  })\r\n  //边框动画\r\n  let $mbdTsDurInput = $propPanel.find('input[type=text][name=mbdTsDur]') \r\n  $mbdTsDurInput.keyup(function() {\r\n    let val = $(this).val()\r\n    that.update({mbdTsDur: val})\r\n  })\r\n  let $mbdTsFunRadio = $propPanel.find('input[type=radio][name=mbdTsFun]')\r\n  $mbdTsFunRadio.change(function() {\r\n    let val = $(this).prop('value')\r\n    that.update({mbdTsFun: val})\r\n  })\r\n  let $mbdTsAntRadio = $propPanel.find('input[type=radio][name=mbdTsAnt]')\r\n  $mbdTsAntRadio.change(function() {\r\n    let val = $(this).prop('value')\r\n    that.update({mbdTsAnt: val})\r\n  })\r\n  //同步默文\r\n  $propPanel.find('.layui-btn-sm').on('click', function() {\r\n    let layer = layui.layer\r\n    layer.msg('你确定  同步默文 边框样式么？', {\r\n      time: 0 //不自动关闭\r\n      ,btn: ['同步', '取消']\r\n      ,yes: function(index){\r\n        tongBuBorder($propPanel,true,that);\r\n        that.update(that.formData)\r\n        layer.close(index)\r\n      }\r\n    });\r\n  })\r\n}\r\n/*同步边框信息*/\r\nexport function tongBuBorder($layerElem,$isVal,that) {\r\n  let $bdWidthVal = $layerElem.find('input[type=text][name=bdWidth]').val()\r\n  let $mbdWidthInput = $layerElem.find('input[type=text][name=mbdWidth]')\r\n  $mbdWidthInput.val($bdWidthVal)\r\n\r\n  let $bdStyleRadio = $layerElem.find('input[type=radio][name=bdStyle]:checked')\r\n  let $bdStyleVal=$bdStyleRadio.val()\r\n  $layerElem.find('input[type=radio][name=mbdStyle][value='+$bdStyleVal+']').prop('checked', true)\r\n\r\n  let $bdColorVal = $layerElem.find('input[type=text][name=bdColor]').val()\r\n  let $mbdColorInput = $layerElem.find('input[type=text][name=mbdColor]')\r\n  $mbdColorInput.val($bdColorVal)\r\n  $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$bdColorVal)\r\n\r\n  let $bdTCheckBox = $layerElem.find('input[type=checkbox][name=bdT]')\r\n  let $mbdTCheckBox = $layerElem.find('input[type=checkbox][name=mbdT]')\r\n  let $bdTVal=$bdTCheckBox.is(':checked')\r\n  $mbdTCheckBox.prop('checked',$bdTVal);\r\n\r\n  let $bdBCheckBox = $layerElem.find('input[type=checkbox][name=bdB]')\r\n  let $mbdBCheckBox = $layerElem.find('input[type=checkbox][name=mbdB]')\r\n  let $bdBVal=$bdBCheckBox.is(':checked')\r\n  $mbdBCheckBox.prop('checked',$bdBVal);\r\n\r\n  let $bdLCheckBox = $layerElem.find('input[type=checkbox][name=bdL]')\r\n  let $mbdLCheckBox = $layerElem.find('input[type=checkbox][name=mbdL]')\r\n  let $bdLVal=$bdLCheckBox.is(':checked')\r\n  $mbdLCheckBox.prop('checked',$bdLVal);\r\n\r\n  let $bdRCheckBox = $layerElem.find('input[type=checkbox][name=bdR]')\r\n  let $mbdRCheckBox = $layerElem.find('input[type=checkbox][name=mbdR]')\r\n  let $bdRVal=$bdRCheckBox.is(':checked')\r\n  $mbdRCheckBox.prop('checked',$bdRVal);\r\n  if($isVal){\r\n   that.formData.mbdT=$layerElem.find('input[type=checkbox][name=mbdT]:checked').val();\r\n   that.formData.mbdB=$layerElem.find('input[type=checkbox][name=mbdB]:checked').val();\r\n   that.formData.mbdL=$layerElem.find('input[type=checkbox][name=mbdL]:checked').val();\r\n   that.formData.mbdR=$layerElem.find('input[type=checkbox][name=mbdR]:checked').val();\r\n   that.formData.mbdWidth=$bdWidthVal;\r\n   that.formData.mbdColor=$bdColorVal;\r\n   that.formData.mbdStyle=$bdStyleVal;\r\n  }\r\n}\r\n\r\n//生成边框样式\r\nexport function toHtmlBorder(formData) {\r\n  var jsonData={ 'bdpdStyle':'','mbdpdStyle':'','Html':'' }\r\n  let bRadius=valEmpty(formData.bRadius)\r\n  let radiusStyle=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n\r\n  let bdT,bdB,bdL,bdR,bdWidth,bdColor,bdStyle\r\n  bdT=valEmpty(formData.bdT)\r\n  bdB=valEmpty(formData.bdB)\r\n  bdL=valEmpty(formData.bdL)\r\n  bdR=valEmpty(formData.bdR)\r\n  \r\n  bdWidth=valInt(formData.bdWidth)\r\n  bdColor=valEmpty(formData.bdColor) !=\"\" ? formData.bdColor : 'transparent';\r\n  bdStyle=valEmpty(formData.bdStyle)\r\n\r\n  //移上边框\r\n  let mbdT,mbdB,mbdL,mbdR,mbdWidth,mbdColor,mbdStyle\r\n  mbdT=valEmpty(formData.mbdT)\r\n  mbdB=valEmpty(formData.mbdB)\r\n  mbdL=valEmpty(formData.mbdL)\r\n  mbdR=valEmpty(formData.mbdR)\r\n  \r\n  mbdWidth=valInt(formData.mbdWidth)\r\n  mbdColor=valEmpty(formData.mbdColor) !=\"\" ? formData.mbdColor : 'transparent';\r\n  mbdStyle=valEmpty(formData.mbdStyle)\r\n\r\n  //鼠标经过 边框 样式 动画\r\n  let mbdTsDur,mbdTsFun,mbdTsAnt,mbdTsFunVal,mbdTsDurVal,mbdTsAntStyle\r\n  mbdTsDur=valEmpty(formData.mbdTsDur)\r\n  mbdTsFun=valEmpty(formData.mbdTsFun)\r\n  mbdTsAnt=valEmpty(formData.mbdTsAnt)\r\n\r\n  mbdTsFunVal=mbdTsFun==='cubic-bezier' ? 'cubic-bezier(0.52, 1.64, 0.37, 0.66)' : mbdTsFun\r\n  mbdTsDurVal=mbdTsDur !=\"\" ? 'transition-duration:'+mbdTsDur+'s;' : ''\r\n  mbdTsAntStyle='transition-timing-function:'+mbdTsFunVal+';'+mbdTsDurVal\r\n  \r\n  let btw,bbw,blw,brw,pdOnStyle='' \r\n  btw=0\r\n  bbw=0\r\n  blw=0\r\n  brw=0\r\n\r\n   \r\n  if(bdT===\"on\"){\r\n    btw=bdWidth\r\n    pdOnStyle+='padding-top:'+btw+'px;'\r\n  }\r\n  if(bdB===\"on\"){\r\n    bbw=bdWidth\r\n    pdOnStyle+='padding-bottom:'+bbw+'px;'\r\n  }\r\n  if(bdL===\"on\"){\r\n    blw=bdWidth\r\n    pdOnStyle+='padding-left:'+blw+'px;'\r\n  }\r\n  if(bdR===\"on\"){\r\n    brw=bdWidth\r\n    pdOnStyle+='padding-right:'+brw+'px;'\r\n  }\r\n  let mbtw,mbbw,mblw,mbrw,pdOffStyle\r\n  mbtw=0\r\n  mbbw=0\r\n  mblw=0\r\n  mbrw=0\r\n  if(mbdT===\"on\"){\r\n    mbtw=mbdWidth\r\n    pdOffStyle+='padding-top:'+btw+'px;'\r\n  }\r\n  if(mbdB===\"on\"){\r\n    mbbw=mbdWidth\r\n    pdOffStyle+='padding-bottom:'+bbw+'px;'\r\n  }\r\n  if(mbdL===\"on\"){\r\n    mblw=mbdWidth\r\n    pdOffStyle+='padding-left:'+blw+'px;'\r\n  }\r\n  if(mbdR===\"on\"){\r\n    mbrw=mbdWidth\r\n    pdOffStyle+='padding-right:'+brw+'px;'\r\n  }\r\n  let alHtml='',almHtml,ltHtml,lbHtml,llHtml,lrHtml\r\n  let htmlList=[]\r\n  \r\n  if(bdT===\"on\" || bdB===\"on\" || bdL===\"on\" || bdR===\"on\"){\r\n    alHtml='<div class=\"bk-aline\" style=\"'+mbdTsAntStyle+radiusStyle+'border-color:'+bdColor+';border-style:'+bdStyle+';border-top-width:'+btw+'px;border-bottom-width:'+bbw+'px;border-left-width:'+blw+'px;border-right-width:'+brw+'px;\" ></div>' //所有\r\n    htmlList.push(alHtml)\r\n  }\r\n\r\n  almHtml='<div class=\"bk-mline\" style=\"'+mbdTsAntStyle+radiusStyle+'border-color:'+mbdColor+';border-style:'+mbdStyle+';border-top-width:'+mbtw+'px;border-bottom-width:'+mbbw+'px;border-left-width:'+mblw+'px;border-right-width:'+mbrw+'px;\" ></div>'  //移上所有\r\n\r\n  ltHtml='<div class=\"bk-line w-lt\" style=\"'+mbdTsAntStyle+'border-top-style:'+mbdStyle+';border-top-color:'+mbdColor+';border-top-width:'+mbdWidth+'px;\"></div>'\r\n  lbHtml='<div class=\"bk-line w-lb\" style=\"'+mbdTsAntStyle+'border-bottom-style:'+mbdStyle+';border-bottom-color:'+mbdColor+';border-bottom-width:'+mbdWidth+'px;\"></div>'\r\n  llHtml='<div class=\"bk-line w-ll\" style=\"'+mbdTsAntStyle+'border-left-style:'+mbdStyle+';border-left-color:'+mbdColor+';border-left-width:'+mbdWidth+'px;\"></div>'\r\n  lrHtml='<div class=\"bk-line w-lr\" style=\"'+mbdTsAntStyle+'border-right-style:'+mbdStyle+';border-right-color:'+mbdColor+';border-right-width:'+mbdWidth+'px;\"></div>'\r\n\r\n  if(mbdTsAnt=='bdtx0' || mbdTsAnt=='bdtx1'){\r\n    if(mbdT===\"on\" || mbdB===\"on\" || mbdL===\"on\" || mbdR===\"on\"){\r\n     htmlList.push(almHtml)\r\n    }\r\n  }else{\r\n    if(mbdT===\"on\"){\r\n      htmlList.push(ltHtml)\r\n    }\r\n    if(mbdB===\"on\"){\r\n      htmlList.push(lbHtml)\r\n    }\r\n    if(mbdL===\"on\"){\r\n      htmlList.push(llHtml)\r\n    }\r\n    if(mbdR===\"on\"){\r\n      htmlList.push(lrHtml)\r\n    }\r\n  }\r\n  jsonData.bdpdStyle=pdOnStyle\r\n  jsonData.mbdpdStyle=pdOffStyle\r\n  jsonData.Html=htmlList.join('')\r\n\r\n  return jsonData\r\n\r\n}\r\n ","\r\nimport {valInt,valEmpty } from './common';\r\nimport {boxShadow} from './commonCss'\r\n\r\n//弹出编辑 属性设置\r\nexport function setPopHtmlShadow($layerElem,that) {\r\n  if (that.formData.sdColor) {\r\n   let $sdColorInput=$layerElem.find('input[type=text][name=sdColor]')\r\n   $sdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.sdColor)\r\n  } \r\n  if (that.formData.msdColor) {\r\n   let $msdColorInput=$layerElem.find('input[type=text][name=msdColor]')\r\n   $msdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.msdColor)\r\n  } \r\n}\r\n\r\n//弹出编辑 边框 \r\nexport function editPopHtmlShadow($select) {\r\n  let html= `<div class=\"layui-tab layui-side-card\">\r\n                <ul class=\"layui-tab-title\"  >\r\n                  <li class=\"layui-this\" style=\"margin-top: 110px;\">默认阴影</li>\r\n                  <li class=\"\">鼠标划过阴影</li>\r\n                </ul>\r\n                <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n                  <div class=\"layui-tab-item layui-show\">\r\n                       \r\n                    <div class=\"layui-form-item\" style=\"margin-top:30px;\">\r\n                      <label class=\"layui-form-label\">阴影</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"shadow\" value=\"on\"  title=\"显示\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"shadow\" value=\"off\"  title=\"隐藏\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">阴影大小</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"sdSize\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                     <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">模糊距离</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"sdBlur\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">水平阴影距离</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"sdX\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">垂直阴影距离</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"sdY\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\"  >\r\n                      <label class=\"layui-form-label\">阴影颜色</label>\r\n                      <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                        <input name=\"sdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                        <span class=\"clear-color-button\"></span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-tab-item\">\r\n                       \r\n                    <div class=\"layui-form-item\" style=\"margin-top:30px;\">\r\n                      <label class=\"layui-form-label\">阴影</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mshadow\" value=\"on\"  title=\"显示\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"mshadow\" value=\"off\"  title=\"隐藏\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">阴影大小</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"msdSize\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                     <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">模糊距离</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"msdBlur\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">水平阴影距离</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"msdX\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">垂直阴影距离</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"msdY\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\"  >\r\n                      <label class=\"layui-form-label\">阴影颜色</label>\r\n                      <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                        <input name=\"msdColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                        <span class=\"clear-color-button\"></span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">划过显示速度</label>\r\n                      <div class=\"layui-input-inline\" style=\"width:230px;\">\r\n                        <input type=\"text\" name=\"msdTsDur\" class=\"layui-input input-short\"  style=\"width:105px;display:inline-block;\">\r\n                        <span style=\"color:red;\">单位 秒   可以小数点</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div> `\r\n  $select.append(html)\r\n}\r\n\r\n//更新样式\r\nexport function updateShadow($content,formData){\r\n    let bRadius=formData.bRadius ?  parseInt(formData.bRadius) :''\r\n    if(formData.shadow ===\"on\"){\r\n      let sdX=formData.sdX ? formData.sdX: 0\r\n      let sdY=formData.sdY ? formData.sdY: 0\r\n      let bShadow=boxShadow(sdX,sdY,formData.sdBlur,formData.sdSize,formData.sdColor)\r\n      $content.css('box-shadow', bShadow)\r\n    }else{\r\n     $content.css('box-shadow','none')\r\n    }\r\n    \r\n    let $mchildPanel=$content.find(\".mchild\")\r\n    if(formData.mshadow ===\"on\"){\r\n      let sdX=formData.msdX ? formData.msdX: 0\r\n      let sdY=formData.msdY ? formData.msdY: 0\r\n      let mbShadow=boxShadow(sdX,sdY,formData.msdBlur,formData.msdSize,formData.msdColor)\r\n      \r\n      if($mchildPanel.length <=0)\r\n        $content.append(\"<div class='abs mchild xins-box-fadein'></div>\")\r\n\r\n      $mchildPanel=$content.find(\".mchild\")\r\n\r\n      $mchildPanel.css('box-shadow', mbShadow)\r\n      $mchildPanel.css('border-radius', bRadius)\r\n\r\n      let msdTsDur=formData.msdTsDur ? formData.msdTsDur+'s linear': 0\r\n      $mchildPanel.css('transition', msdTsDur)\r\n    }else{\r\n      $mchildPanel.remove()\r\n    } \r\n}\r\n//生成阴影样式\r\nexport function toHtmlShadow(formData) {\r\n  var jsonData={ 'onShadow':'','offShadow':'' }\r\n  let bRadius=valEmpty(formData.bRadius)\r\n  let radiusStyle=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n  if(valEmpty(formData.shadow)===\"on\"){\r\n    const sdX=valEmpty(formData.sdX) !=\"\" ? formData.sdX: 0\r\n    const sdY=valEmpty(formData.sdY) !=\"\" ? formData.sdY: 0 \r\n    const bShadow=boxShadow(sdX,sdY,valEmpty(formData.sdBlur),valEmpty(formData.sdSize),valEmpty(formData.sdColor))\r\n    jsonData.onShadow= bShadow !=\"\" ? 'box-shadow:'+bShadow+';' :''\r\n  }\r\n  if(valEmpty(formData.mshadow)===\"on\"){\r\n    const msdX=valEmpty(formData.msdX) !=\"\" ? formData.msdX: 0\r\n    const msdY=valEmpty(formData.msdY) !=\"\" ? formData.msdY: 0 \r\n    let mbShadow=boxShadow(msdX,msdY,valEmpty(formData.msdBlur),valEmpty(formData.msdSize),valEmpty(formData.msdColor))\r\n        mbShadow= mbShadow !=\"\" ? 'box-shadow:'+mbShadow+';' :''\r\n    const msdTsDur=valEmpty(formData.msdTsDur) ? formData.msdTsDur+'s linear': ''\r\n    const msdTsDurStyle=msdTsDur !=\"\" ?  'transition:'+msdTsDur+';':''\r\n    jsonData.offShadow='<div class=\"abs mchild xins-box-fadein\" style=\"'+msdTsDurStyle+mbShadow+radiusStyle+'\" ></div>'\r\n  }\r\n  return jsonData\r\n}\r\n\r\n ","export default class Draggable {\r\n  EVENTS: Array<string> = []\r\n  snapFlags = [\r\n    'top_tt', 'top_bt', 'top_cc','top_bb', 'top_tb',\r\n    'left_ll', 'left_rl', 'left_cc', 'left_rr', 'left_lr',\r\n    'top_tc', 'top_bc', 'left_lc', 'left_rc'\r\n  ]\r\n  el: any\r\n  isDragging: boolean = false\r\n  onStart: Function\r\n  onStop: Function\r\n  onSnap: Function\r\n  onDrag: Function\r\n  onMultiDrag: Function\r\n  onMultiStop: Function\r\n  cursor: string = 'move'\r\n  containment: any = null\r\n  disabled: boolean = false\r\n  handle: any = null\r\n  snapTolerance: number = 10\r\n  snap: any = false\r\n  static snapLineColor: string = '#FF4AFF'\r\n  static snapLineSize: number = 1\r\n  snapAnchor: any = null\r\n  snapLine: boolean = true\r\n  snapDist: boolean = true\r\n  isMulti: boolean = false\r\n  multiClass: string = '.ui-selected'\r\n  axis: any = false\r\n  minLeft: number = 0\r\n  minTop: number = 0\r\n  dragStatus: number = 0\r\n  isMock: boolean = false\r\n  constructor(el: any, opt = {}) {\r\n    this.el = el\r\n    this.EVENTS = this.isTouch() ?\r\n      ['touchstart', 'touchmove', 'touchend'] : ['mousedown', 'mousemove', 'mouseup']\r\n    this.init(opt)\r\n  }\r\n\r\n  init(opt) {\r\n    if (typeof this.el === 'string') {\r\n      this.el = document.querySelector(this.el)\r\n    }\r\n    this.el.style.position = 'absolute'\r\n    this.el.dragRef = this\r\n    let classArr = this.el.className.split(' ');\r\n    classArr.push('draggable')\r\n    this.el.className = classArr.join(' ')\r\n    this.handle = this.el;\r\n    for (let k in opt) {\r\n      this.option(k, opt[k]);\r\n    }\r\n    this.setupEvent()\r\n  }\r\n\r\n  option(prop: string, val: any) {\r\n    if (prop === 'containment') {\r\n      if (typeof val !== 'undefined') {\r\n        if (val === 'parent') {\r\n          this.containment = this.el.offsetParent\r\n        } else {\r\n          this.containment = val\r\n        }\r\n      }\r\n    } else if (prop === 'handle') {\r\n      if (typeof val === 'undefined') {\r\n        this.handle = this.el\r\n      } else {\r\n        if (typeof val === 'string') {\r\n          this.handle = document.querySelector(val)\r\n        } else {\r\n          this.handle = val\r\n        }\r\n      }\r\n    } else {\r\n      if (typeof val !== 'undefined') {\r\n        this[prop] = val\r\n      }\r\n    }\r\n  }\r\n\r\n  isTouch() {\r\n    return 'ontouchstart' in window\r\n  }\r\n\r\n  stopPropagation(event) {\r\n    window.event? window.event.cancelBubble = true : event.stopPropagation()\r\n  }\r\n\r\n  getEventInfo(event) {\r\n    if (event.type === 'mock') {\r\n      return event;\r\n    }\r\n    return this.isTouch() ? event.targetTouches[0] : event\r\n  }\r\n\r\n  drag(event) {\r\n    let _this = this\r\n    const EVENTS = this.EVENTS\r\n    let diffX = 0, diffY = 0\r\n    let elemWidth = 0, elemHeight = 0\r\n    let windowWidth = 0, windowHeight = 0, parentWidth = 0, parentHeight = 0\r\n    let eventInfo = _this.getEventInfo(event)\r\n    _this.isDragging = true\r\n    diffX = eventInfo.clientX - _this.el.offsetLeft\r\n    diffY = eventInfo.clientY - _this.el.offsetTop\r\n    elemWidth = _this.el.offsetWidth\r\n    elemHeight = _this.el.offsetHeight\r\n    windowWidth = document.documentElement.clientWidth\r\n    windowHeight = document.documentElement.clientHeight\r\n    parentWidth = this.containment ? this.containment.clientWidth : windowWidth\r\n    parentHeight = this.containment ? this.containment.clientHeight : windowHeight\r\n    document.addEventListener(EVENTS[1], move)\r\n    document.addEventListener(EVENTS[2], end)\r\n    function move(event) {\r\n      let eventInfo = _this.getEventInfo(event)\r\n      let left = eventInfo.clientX - diffX\r\n      let top = eventInfo.clientY - diffY\r\n      let minLeft = _this.minLeft\r\n      let minTop = _this.minTop\r\n      if (_this.containment) {\r\n        if (left < minLeft) {\r\n          left = minLeft\r\n        }\r\n        if (top < minTop) {\r\n          top = minTop\r\n        }\r\n        if (left + elemWidth > parentWidth) {\r\n          left = parentWidth - elemWidth\r\n        }\r\n        if (top + elemHeight > parentHeight) {\r\n          top = parentHeight - elemHeight\r\n        }\r\n      }\r\n\r\n      let l = _this.el.offsetLeft;\r\n      let t = _this.el.offsetTop;\r\n      if (_this.axis !== 'y') {\r\n        _this.el.style.left = `${left}px`\r\n      }\r\n\r\n      if (_this.axis !== 'x') {\r\n        _this.el.style.top = `${top}px`\r\n      }\r\n      if (_this.isMock) {\r\n        _this.moveSelectedDraggable(_this.el.offsetLeft - l, _this.el.offsetTop - t);\r\n      }\r\n\r\n      if (_this.snap) {\r\n        _this.doSnap()\r\n      }\r\n      if (_this.onDrag) _this.onDrag(eventInfo)\r\n    }\r\n    function end(event) {\r\n      let eventInfo = _this.getEventInfo(event)\r\n      _this.isDragging = false\r\n      if (_this.isMock) {\r\n        _this.el.remove();\r\n      }\r\n      document.removeEventListener(EVENTS[1], move)\r\n      document.removeEventListener(EVENTS[2], end)\r\n      if (_this.onStop) _this.onStop(eventInfo)\r\n      _this.clearSnapLine()\r\n    }\r\n  }\r\n  getSelectedDraggable() {\r\n    return Array.prototype.slice.call(document.querySelectorAll('.draggable' + this.multiClass));\r\n  }\r\n  moveSelectedDraggable(diffX, diffY) {\r\n    let elems = this.getSelectedDraggable();\r\n    if (elems.length > 0) {\r\n      elems.map((elem) => {\r\n        if (elem !== this.el) {\r\n          elem.style.left = (elem.offsetLeft + diffX) + 'px';\r\n          elem.style.top = (elem.offsetTop + diffY) + 'px';\r\n        }\r\n      });\r\n    }\r\n  }\r\n  createMultiDraggable() {\r\n    let elems = this.getSelectedDraggable();\r\n    if (elems.length > 0) {\r\n      let left = elems[0].offsetLeft, top = elems[0].offsetTop,\r\n        right = left + elems[0].offsetWidth, bottom = top + elems[0].offsetHeight;\r\n      for (let i = 1; i < elems.length; i++) {\r\n        let l = elems[i].offsetLeft, t = elems[i].offsetTop,\r\n          r = l + elems[i].offsetWidth, b = t + elems[i].offsetHeight;\r\n        left = Math.min(left, l);\r\n        top = Math.min(top, t);\r\n        right = Math.max(right, r);\r\n        bottom = Math.max(bottom, b);\r\n      }\r\n      let elem = document.createElement('div');\r\n      elem.style.left = left + 'px';\r\n      elem.style.top = top + 'px';\r\n      elem.style.width = (right - left) + 'px';\r\n      elem.style.height = (bottom - top) + 'px';\r\n      elem.style.outline = '1px dashed #cccccc';\r\n      this.containment.appendChild(elem);\r\n      let multiDraggable = new Draggable(elem, {\r\n        snap: true,\r\n        isMock: true,\r\n        containment: 'parent'\r\n      });\r\n      return multiDraggable;\r\n    }\r\n  }\r\n\r\n  start(event) {\r\n    if (event.type !== 'mock') {\r\n      event.preventDefault()\r\n      this.stopPropagation(event)\r\n    }\r\n    if (this.disabled) return\r\n    if (this.isMulti && this.getSelectedDraggable().length > 1) {\r\n      setTimeout(() => {\r\n        let multiDraggable = this.createMultiDraggable();\r\n        this.disable();\r\n        multiDraggable.drag(event);\r\n        this.enable();\r\n        this.onMultiDrag && this.onMultiDrag();\r\n        let that = this;\r\n        // @ts-ignore\r\n        function end() {\r\n          that.onMultiStop && that.onMultiStop();\r\n          document.removeEventListener(that.EVENTS[2], end)\r\n        }\r\n        document.addEventListener(this.EVENTS[2], end)\r\n      }, 10)\r\n      return;\r\n    }\r\n    if (this.onStart) this.onStart(event)\r\n    this.drag(event)\r\n  }\r\n\r\n  setupEvent() {\r\n    let EVENTS = this.EVENTS\r\n    let _this = this\r\n    let handle = this.handle\r\n    if (!this.disabled) {\r\n      handle.style.cursor = this.cursor\r\n      handle.addEventListener(EVENTS[0], this.start.bind(this))\r\n    }\r\n  }\r\n\r\n  enable() {\r\n    this.disabled = false\r\n  }\r\n  disable() {\r\n    this.disabled = true\r\n  }\r\n  getStyle(el, styleProp) {\r\n    if(window.getComputedStyle) {\r\n      return document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp)\r\n    }\r\n    if (el.currentStyle) {\r\n      return el.currentStyle[styleProp]\r\n    }\r\n    return null\r\n  }\r\n\r\n  getClientRect(el) {\r\n    let elemRect = el.getBoundingClientRect()\r\n    let $parent = this.containment ? this.containment : this.el.offsetParent\r\n    let clientRect: any = {}\r\n    let leftBorderWidth = parseInt(this.getStyle($parent, 'border-left-width'))\r\n    let topBorderWidth = parseInt(this.getStyle($parent, 'border-top-width'))\r\n    let parentRect: any = $parent.getBoundingClientRect();\r\n    clientRect.left = elemRect.left - parentRect.left - leftBorderWidth;\r\n    clientRect.top = elemRect.top - parentRect.top - topBorderWidth;\r\n    clientRect.right = clientRect.left + elemRect.width;\r\n    clientRect.bottom = clientRect.top + elemRect.height;\r\n    clientRect.width = elemRect.width;\r\n    clientRect.height = elemRect.height;\r\n    return clientRect\r\n  }\r\n\r\n  isSnap(srcValue, destValue) {\r\n    let snapTolerance = this.snapTolerance\r\n    return Math.abs(srcValue - destValue) <= snapTolerance\r\n  }\r\n\r\n  clearSnapLine() {\r\n    let lines = Array.apply(null, document.querySelectorAll('.snap-line'))\r\n    lines.forEach(item => {\r\n      item.offsetParent.removeChild(item)\r\n    })\r\n  }\r\n\r\n\r\n  createDistText(flag, dragElemRect, snapElemRect) {\r\n    let { top, bottom, left, right, width, height } = snapElemRect\r\n    let itemWidthHalf = width / 2\r\n    let itemHeightHalf = height / 2\r\n    let dragWidthHalf = dragElemRect.width / 2\r\n    let dragHeightHalf = dragElemRect.height / 2\r\n\r\n    let textBox = document.createElement('div')\r\n    textBox.style.position = 'absolute'\r\n    // textBox.style.background = '#000000'\r\n    textBox.style.textAlign = 'center'\r\n\r\n    let text = document.createElement('span')\r\n    let distance = 0\r\n    let textHeight = 14\r\n    text.style.background = Draggable.snapLineColor\r\n    text.style.borderRadius = '2px'\r\n    text.style.lineHeight = '14px'\r\n    text.style.padding = '0 2px'\r\n    text.style.fontSize = '10px'\r\n    text.style.color = '#ffffff'\r\n    text.style.userSelect='none'\r\n    textBox.appendChild(text)\r\n    let snapFlags = this.snapFlags\r\n    //'top_tt', 'top_bt','top_bb', 'top_tb',\r\n    if (flag === snapFlags[0] || flag === snapFlags[1] ||\r\n      flag === snapFlags[3] || flag === snapFlags[4]) {\r\n      textBox.style.bottom = '0px'\r\n      if (left < dragElemRect.left) {\r\n        distance = dragElemRect.left - right\r\n        textBox.style.left = width + 'px'\r\n      } else {\r\n        distance = left - dragElemRect.right\r\n        textBox.style.left = dragElemRect.width + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      textBox.style.width = distance + 'px'\r\n      textBox.style.paddingBottom = '2px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n    // 'top_cc' 'top_tc' 'top_bc'\r\n    else if (flag === snapFlags[2] || flag === snapFlags[10] || flag === snapFlags[11]) {\r\n      textBox.style.bottom = '0px'\r\n      if (left < dragElemRect.left) {\r\n        distance = dragElemRect.left - right\r\n        textBox.style.left = itemWidthHalf + 'px'\r\n      } else {\r\n        distance = left - dragElemRect.right\r\n        textBox.style.left = dragWidthHalf + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      textBox.style.paddingBottom = '2px'\r\n      textBox.style.width = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n\r\n    else if (flag === snapFlags[5] || flag === snapFlags[6] ||\r\n      flag === snapFlags[8] || flag === snapFlags[9]) {\r\n      textBox.style.left = '0px'\r\n      if (top < dragElemRect.top) {\r\n        distance = dragElemRect.top - bottom\r\n        textBox.style.top = height + 'px'\r\n      } else {\r\n        distance = top - dragElemRect.bottom\r\n        textBox.style.top = dragElemRect.height + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      text.style.position = 'absolute'\r\n      text.style.top = '50%'\r\n      text.style.marginTop = -(textHeight / 2) + 'px'\r\n      text.style.left = '2px'\r\n      textBox.style.height = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n    //'left_cc' 'left_lc' 'top_rc'\r\n    else if (flag === snapFlags[7] || flag === snapFlags[12] || flag === snapFlags[13]) {\r\n      textBox.style.left = '0px'\r\n      if (top < dragElemRect.top) {\r\n        distance = dragElemRect.top - bottom\r\n        textBox.style.top = itemHeightHalf + 'px'\r\n      } else {\r\n        distance = top - dragElemRect.bottom\r\n        textBox.style.top = dragHeightHalf + 'px'\r\n      }\r\n      distance = Math.round(distance)\r\n      if (distance < 0) return null\r\n      text.style.position = 'absolute'\r\n      text.style.top = '50%'\r\n      text.style.marginTop = -(textHeight / 2) + 'px'\r\n      text.style.left = '2px'\r\n      textBox.style.height = distance + 'px'\r\n      text.innerText = distance + 'px'\r\n    }\r\n\r\n    return textBox\r\n\r\n  }\r\n\r\n  showSnapLine($parent, { flag, dragElemRect, snapElemRect, snapDrag }) {\r\n    let snapLineSize = Draggable.snapLineSize\r\n    let snapLineColor = Draggable.snapLineColor\r\n    let { top, bottom, left, right, width, height } = snapElemRect\r\n    let itemWidthHalf = width / 2\r\n    let itemHeightHalf = height / 2\r\n    let dragWidthHalf = dragElemRect.width / 2\r\n    let dragHeightHalf = dragElemRect.height / 2\r\n    let lineRect: any = {}\r\n\r\n    let snapFlags = this.snapFlags\r\n    if (flag === snapFlags[0] || flag === snapFlags[1]) {\r\n      lineRect.left = left < dragElemRect.left ? left : dragElemRect.left\r\n      lineRect.top = top\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n\r\n    } else if (flag === snapFlags[2]) {\r\n      lineRect.top = top + itemHeightHalf\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      if (left === dragElemRect.left && right === dragElemRect.right) {\r\n        lineRect.left = left\r\n        lineRect.right = right\r\n      } else if (left > dragElemRect.left && right < dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left\r\n        lineRect.right = dragElemRect.right\r\n      } else if (left < dragElemRect.left && right > dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right\r\n      } else {\r\n        lineRect.left = left < dragElemRect.left ? left + itemWidthHalf : dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right > dragElemRect.right ? right - itemWidthHalf : dragElemRect.right - dragWidthHalf\r\n      }\r\n\r\n    } else if (flag === snapFlags[3] || flag === snapFlags[4]) {\r\n      lineRect.left = left < dragElemRect.left ? left : dragElemRect.left\r\n      lineRect.top = bottom\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n    } else if (flag === snapFlags[5] || flag === snapFlags[6]) {\r\n      lineRect.left = left\r\n      lineRect.top = top < dragElemRect.top ? top : dragElemRect.top\r\n      lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    } else if (flag === snapFlags[7]) {\r\n      lineRect.left = left + itemWidthHalf\r\n      if (top === dragElemRect.top && bottom === dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = bottom\r\n      } else if (top > dragElemRect.top && bottom < dragElemRect.bottom) {\r\n        lineRect.top = dragElemRect.top\r\n        lineRect.bottom = dragElemRect.bottom\r\n      } else if (top < dragElemRect.top && bottom > dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = dragElemRect.top + dragHeightHalf\r\n      } else {\r\n        lineRect.top = top < dragElemRect.top ? top + itemHeightHalf : dragElemRect.top + dragHeightHalf\r\n        lineRect.bottom = bottom > dragElemRect.bottom ? bottom - itemHeightHalf : dragElemRect.bottom - dragHeightHalf\r\n      }\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    } else if (flag === snapFlags[8] || flag === snapFlags[9]) {\r\n      lineRect.left = right\r\n      lineRect.top = top < dragElemRect.top ? top : dragElemRect.top\r\n      lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    }\r\n\r\n    else if (flag === snapFlags[10] || flag === snapFlags[11]) {\r\n      lineRect.top = top + itemHeightHalf\r\n      lineRect.bottom = lineRect.top + snapLineSize\r\n      if (left === dragElemRect.left && right === dragElemRect.right) {\r\n        lineRect.left = left\r\n        lineRect.right = right\r\n      } else if (left > dragElemRect.left && right < dragElemRect.right) {\r\n        lineRect.left = dragElemRect.left\r\n        lineRect.right = dragElemRect.right\r\n      } else {\r\n        lineRect.left = left < dragElemRect.left ? left + itemWidthHalf : dragElemRect.left + dragWidthHalf\r\n        lineRect.right = right > dragElemRect.right ? right : dragElemRect.right\r\n      }\r\n    }\r\n\r\n    else if (flag === snapFlags[12] || flag === snapFlags[13]) {\r\n      lineRect.left = left + itemWidthHalf\r\n      if (top === dragElemRect.top && bottom === dragElemRect.bottom) {\r\n        lineRect.top = top\r\n        lineRect.bottom = bottom\r\n      } else if (top > dragElemRect.top && bottom < dragElemRect.bottom) {\r\n        lineRect.top = dragElemRect.top\r\n        lineRect.bottom = dragElemRect.bottom\r\n      } else {\r\n        lineRect.top = top < dragElemRect.top ? top + itemHeightHalf : dragElemRect.top + dragHeightHalf\r\n        lineRect.bottom = bottom > dragElemRect.bottom ? bottom : dragElemRect.bottom\r\n      }\r\n      lineRect.right = lineRect.left + snapLineSize\r\n    }\r\n\r\n    let line = document.createElement('div')\r\n    line.style.position = 'absolute'\r\n    line.style.top = `${lineRect.top}px`\r\n    line.style.left = `${lineRect.left}px`\r\n    let lineWidth = lineRect.right - lineRect.left\r\n    lineWidth = lineWidth === 1 ? lineWidth : lineWidth\r\n    let lineHeight = lineRect.bottom - lineRect.top\r\n    lineHeight = lineHeight === 1 ? lineHeight : lineHeight\r\n    line.style.width = `${lineWidth}px`\r\n    line.style.height = `${lineHeight}px`\r\n    line.style.background =  snapLineColor\r\n    line.style.zIndex = '9999999999999'\r\n    line.className = 'snap-line'\r\n    let distText = this.createDistText(flag, dragElemRect, snapElemRect)\r\n    if (this.snapDist && distText) {\r\n      line.appendChild(distText)\r\n    }\r\n    $parent.appendChild(line)\r\n  }\r\n  doSnap() {\r\n    let dragElem = this.el\r\n    let snapElems = []\r\n    if (typeof this.snap === 'boolean') {\r\n      snapElems = [].slice.call(document.querySelectorAll(`.draggable:not(${this.multiClass})`))\r\n    }\r\n    else if (typeof this.snap === 'string') {\r\n      snapElems = [].slice.call(document.querySelectorAll(this.snap))\r\n    } else if (typeof this.snap === 'object' && this.snap.length) {\r\n      snapElems = this.snap\r\n    }\r\n\r\n    let dragElemRect = this.getClientRect(this.snapAnchor ? this.snapAnchor : dragElem)\r\n    let snapInfos = []\r\n    this.clearSnapLine()\r\n    let snapFlags = this.snapFlags\r\n    snapElems.forEach(item => {\r\n      if (item === dragElem) {\r\n        return\r\n      }\r\n      let itemElem = item//.el\r\n      let snapElemRect: any = this.getClientRect(item.dragRef.snapAnchor ? item.dragRef.snapAnchor : itemElem)\r\n      let { top, height, bottom, left, width, right } = snapElemRect\r\n      let dragWidthHalf = dragElemRect.width / 2\r\n      let itemWidthHalf = width / 2\r\n      let dragHeightHalf = dragElemRect.height / 2\r\n      let itemHeightHalf = height / 2\r\n\r\n      // y c\r\n      if (this.isSnap(dragElemRect.top + dragHeightHalf, top + itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[2],\r\n          snapDrag: item,\r\n          dragValue: top + itemHeightHalf - dragHeightHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-top\r\n      else if (this.isSnap(dragElemRect.top, top)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[0],\r\n          dragValue: top,\r\n          snapDrag: item,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y b-top\r\n      else if (this.isSnap(dragElemRect.bottom, top)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[1],\r\n          snapDrag: item,\r\n          dragValue: top - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // y b-bottom\r\n      else if (this.isSnap(dragElemRect.bottom, bottom)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[3],\r\n          snapDrag: item,\r\n          dragValue: bottom - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-bottom\r\n      else if (this.isSnap(dragElemRect.top, bottom)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[4],\r\n          snapDrag: item,\r\n          dragValue: bottom,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y t-center\r\n      else if (this.isSnap(dragElemRect.top, top + itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[10],\r\n          snapDrag: item,\r\n          dragValue: top + itemHeightHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y b_center\r\n      else if (this.isSnap(dragElemRect.bottom, bottom - itemHeightHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[11],\r\n          snapDrag: item,\r\n          dragValue: bottom - itemHeightHalf - dragElemRect.height,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n\r\n      // x c\r\n      if (this.isSnap(dragElemRect.left + dragWidthHalf, left + itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[7],\r\n          snapDrag: item,\r\n          dragValue: left + itemWidthHalf - dragWidthHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // x l-left\r\n      else if (this.isSnap(dragElemRect.left, left)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[5],\r\n          snapDrag: item,\r\n          dragValue: left,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // x r-left\r\n      else if (this.isSnap(dragElemRect.right, left)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[6],\r\n          snapDrag: item,\r\n          dragValue: left - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n      // x r-right\r\n      else if (this.isSnap(dragElemRect.right, right)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[8],\r\n          snapDrag: item,\r\n          dragValue: right - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // x l-right\r\n      else if (this.isSnap(dragElemRect.left, right)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[9],\r\n          snapDrag: item,\r\n          dragValue: right,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y l-center\r\n      else if (this.isSnap(dragElemRect.left, left + itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[12],\r\n          snapDrag: item,\r\n          dragValue: left + itemWidthHalf,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n      // y r_center\r\n      else if (this.isSnap(dragElemRect.right, right - itemWidthHalf)) {\r\n        let snapInfo = {\r\n          flag: snapFlags[13],\r\n          snapDrag: item,\r\n          dragValue: right - itemWidthHalf - dragElemRect.width,\r\n          snapElemRect: snapElemRect,\r\n          dragElemRect: dragElemRect\r\n        }\r\n        snapInfos.push(snapInfo)\r\n      }\r\n\r\n    })\r\n    snapInfos.forEach(snapInfo => {\r\n      let flags = snapInfo.flag.split('_')\r\n      let pos = flags[0]\r\n      let l = dragElem.offsetLeft;\r\n      let t = dragElem.offsetTop;\r\n      if (dragElem.dragRef.snapAnchor) {\r\n        let d = 0\r\n        if (pos === 'left') {\r\n          d = dragElem.dragRef.snapAnchor.offsetLeft\r\n        } else if (pos === 'top') {\r\n          d = dragElem.dragRef.snapAnchor.offsetTop\r\n        }\r\n        dragElem.style[pos] = `${snapInfo.dragValue - d}px`\r\n      } else {\r\n        dragElem.style[pos] = `${snapInfo.dragValue}px`\r\n      }\r\n      if (this.isMock) {\r\n        this.moveSelectedDraggable(dragElem.offsetLeft - l, dragElem.offsetTop - t);\r\n      }\r\n      // || snapInfo.snapDrag.isShowDist\r\n      if (this.snapLine) {\r\n        this.showSnapLine(this.containment ? this.containment : dragElem.offsetParent, snapInfo)\r\n      }\r\n    })\r\n\r\n    if (this.onSnap && snapInfos.length > 0) {\r\n      this.onSnap(snapInfos)\r\n    }\r\n  }\r\n\r\n}\r\n","import Component from './Component';\r\nimport { wwUrl,onLinkModeChanged,bgImage,ImgBgHtml} from './commonCss'\r\nimport { compareForm,valInt,valEmpty} from \"./common\"\r\nimport { initPorpBorder,updateBorder,updatePropBorder,editPopHtmlBorder,setPopHtmlBorder,editSideHtmlBorder,toHtmlBorder} from './borderComponent';\r\nimport { updateShadow,editPopHtmlShadow,setPopHtmlShadow,toHtmlShadow} from './shadowComponent';\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\n\r\nexport default class ImgComponent extends Component {\r\n  $content: JQuery\r\n  $img: JQuery\r\n  constructor() {\r\n    super('img-component')\r\n    this.$content = $('<a class=\"xdtb ywimg-box\"><img src=\"\" style=\"display:none\"></a>')\r\n    this.$img = this.$content.find('img')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height,bRadius,tipText,linkMode,hrefMode,wangID,url,href\r\n    let htmlList=[]\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    tipText=valEmpty(this.formData.tipText) !=\"\" ? ' title=\"'+this.formData.tipText+'\" ' : '';\r\n\r\n    bRadius=valEmpty(this.formData.bRadius)\r\n    href=valEmpty(this.formData.href)\r\n    hrefMode=valEmpty(this.formData.hrefMode) ==\"_blank\" ? ' target=\"_blank\"' :''\r\n\r\n    linkMode=valEmpty(this.formData.linkMode)\r\n    wangID=valEmpty(this.formData.wangID)\r\n    url=wwUrl(href,linkMode,wangID,22) !=\"\" ? ' href=\"'+url+'\"' :''\r\n\r\n    let radiusStyle=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n     //图片处理\r\n    let ImgBgData = ImgBgHtml(this.formData)\r\n    let imgBgStyle=ImgBgData.imgBgStyle\r\n    htmlList.push(ImgBgData.Html)\r\n\r\n    //阴影处理\r\n    let shadowData = toHtmlShadow(this.formData)\r\n    let onShadowStyle=shadowData.onShadow\r\n    htmlList.push(shadowData.offShadow)\r\n\r\n    //处理 边框\r\n    let mbdTsAnt= valEmpty(this.formData.mbdTsAnt)\r\n    let BorderData = toHtmlBorder(this.formData)\r\n    htmlList.push(BorderData.Html)\r\n\r\n    //特效动画处理\r\n    let shakeCss=\"\";\r\n    let animCss=\"\";;\r\n    let animStyle=\"\";\r\n    if(valEmpty(this.formData.animType) !=\"\"){\r\n      let animTsDur=valEmpty(this.formData.animTsDur) !=\"\"  ? this.formData.animTsDur+'s ':''\r\n      animTsDur=animTsDur+'cubic-bezier(0.5,3,0.5,0)';\r\n      animStyle=animTsDur !=\"\" ? 'transition:'+animTsDur+';' :''\r\n      shakeCss=' mshake';\r\n      animCss=valEmpty(this.formData.animType)+valEmpty(this.formData.animRange)+' ';\r\n    }\r\n    let htmlLink=htmlList.join('')\r\n\r\n\r\n\r\n    return '<div class=\"abs xdtb '+animCss+' '+mbdTsAnt+'\" style=\"top: '+top+'; left:'+left+'; width:'+width+'px; height:'+height+'px;'+animStyle+radiusStyle+'\" ><a '+tipText+' class=\"ywlink '+shakeCss+'\" '+url+hrefMode+' style=\"'+imgBgStyle+onShadowStyle+'\">'+htmlLink+'</a></div>'\r\n\r\n/*\r\n    return `\r\n      <a  href=\"${this.formData.href}\" target=\"${this.formData.hrefMode || ''}\" style=\"position: absolute; top: ${top}; left: ${left}; width: ${width}px; height: ${height}px;background: ${background}\">\r\n        ${img}\r\n      </a>\r\n    `*/\r\n  }\r\n\r\n  initFormData() {\r\n    this.formData.bgImg = 'https://img.alicdn.com/imgextra/i2/280837244/TB2orubcrJmpuFjSZFwXXaE4VXa-280837244.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.appLabel = ''\r\n    this.formData.imgMode = 'cut'\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.href = ''\r\n    this.formData.tipText = ''\r\n    this.formData.animType = ''\r\n    this.formData.hrefMode = '_blank'\r\n    this.formData.bgImgSize = 'true'\r\n    this.formData.animTsDur = '0.5'\r\n    this.formData.animRange = '-s'\r\n    this.formData.wangID = ''\r\n    this.formData.bdRadius= ''\r\n    this.formData.bdStyle= 'solid'\r\n\r\n    this.formData.shadow= 'off'//box-shadow: h-shadow v-shadow blur spread color inset;\r\n    this.formData.sdColor= '#666666'\r\n    this.formData.sdSize= ''  //spread  可选。阴影的大小\r\n    this.formData.sdBlur= '5'  //可选。模糊距离\r\n    this.formData.sdX= ''     //必需的。水平阴影的位置\r\n    this.formData.sdY= ''     //必需的。垂直阴影的位置。\r\n\r\n    this.formData.mshadow= 'on'\r\n    this.formData.msdColor= '#E93030'\r\n    this.formData.msdSize= ''\r\n    this.formData.msdBlur= '5'\r\n    this.formData.msdX= ''\r\n    this.formData.msdY= ''\r\n    this.formData.msdTsDur= '0.5'\r\n\r\n    this.formData.bdWidth =5\r\n    this.formData.bdStyle ='solid'\r\n\r\n    this.formData.mbdWidth =5\r\n    this.formData.mbdStyle ='solid'\r\n\r\n    this.formData.mbdTsDur ='0.5'\r\n    this.formData.mbdTsFun ='ease-out'\r\n    this.formData.mbdTsAnt ='bdtx1'\r\n\r\n    this.$content.attr(\"mbdTsAnt\",this.formData.mbdTsAnt)\r\n    this.doUpdate(this.formData)\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '单图设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        if (typeof that.formData.animType === 'undefined') {\r\n          that.formData.animType = ''\r\n        }\r\n        $layerElem.find(`.animselect > div[data-val=\"${that.formData.animType}\"]`).addClass('active')\r\n        $layerElem.find('.animselect > div').on('click', function() {\r\n          $layerElem.find('.animselect > div.active').removeClass('active')\r\n          $(this).addClass('active')\r\n        })\r\n        editPopHtmlBorder($layerElem.find('.pop-item-border'))\r\n        editPopHtmlShadow($layerElem.find('.pop-item-shadow'))\r\n\r\n        $layerElem.find(\".sp-preview-inner\").css(\"background-color\",'')\r\n        //边框\r\n        setPopHtmlBorder($layerElem,that)\r\n        setPopHtmlShadow($layerElem,that)\r\n\r\n        if (that.formData.bgColor) {\r\n          let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n          $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        }\r\n\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        onLinkModeChanged($layerElem, that.formData.linkMode)\r\n\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"text\" name=\"appLabel\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n\r\n                </div>\r\n                <div><input name=\"bgImgSize\" value=\"true\" type=\"checkbox\" lay-skin=\"primary\" title=\"自动宽高\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片显示方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select name=\"imgMode\">\r\n                    <option value=\"cut\">保持原图尺寸</option>\r\n                    <option value=\"full\">自由拉伸</option>\r\n                    <option value=\"scaleX\">保持比例(只裁剪宽度)</option>\r\n                    <option value=\"scaleY\">保持比例(只裁剪高度)</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景颜色</label>\r\n                <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                  <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                  <input name=\"bgColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                  <span class=\"clear-color-button\"></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接类型</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"urlink\" title=\"普通\" checked=\"\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"wwlink\" title=\"旺旺\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item link-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"href\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item wang-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">旺旺ID</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"wangID\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">提示文字</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"tipText\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div  class=\"layui-tab-item pop-item-border\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item pop-item-shadow\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\"  >\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画效果</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <div class=\"animselect ui-buttonset\">\r\n                    <div class=\"none\" data-val=\"\"><i><em></em></i>无效果</div>\r\n                    <div class=\"shakex\" data-val=\"xins-x-shake\"><i><em></em></i>左右抖动</div>\r\n                    <div class=\"shakey\" data-val=\"xins-y-shake\"><i><em></em></i>上下抖动</div>\r\n                    <div class=\"shaker\" data-val=\"xins-r-shake\"><i><em></em></i>旋转摆动</div>\r\n                    <div class=\"shakes\" data-val=\"xins-s-shake\"><i><em></em></i>弹性缩放</div>\r\n                    <div class=\"shaken\" data-val=\"xins-n-shake\"><i><em></em></i>弹性果冻</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画幅度</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-s\" title=\"弱\" checked=\"\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-m\" title=\"中\">\r\n                  <input type=\"radio\" name=\"animRange\" value=\"-l\" title=\"强\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">动画时间</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"text\" name=\"animTsDur\" class=\"layui-input input-short\"  style=\"width:120px;display:inline-block;\">\r\n                  <label style=\"color:red;\">单位 秒   可以小数点</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"imgComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n\r\n    form.on('radio(linkMode)', function(data){\r\n      console.log(data)\r\n      onLinkModeChanged($layerElem, data.value)\r\n    })\r\n\r\n    form.on('submit(imgComponentForm)', function(data) {\r\n      // that.formData = data.field;\r\n      that.update(data.field);\r\n      that.updatePropPanel()\r\n      that.formData.animType = $layerElem.find('.animselect > div.active').data('val')\r\n      console.log(that.formData)\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('imgComponentForm', that.formData)\r\n  }\r\n  doUpdate(formData) {\r\n    let that = this\r\n    let bRadius=formData.bRadius ?  parseInt(formData.bRadius) :''\r\n\r\n    updateShadow(this.$content,formData)\r\n    //处理边框\r\n    updateBorder(this.$content,formData)\r\n\r\n    that.$content.css('border-radius', bRadius)\r\n\r\n    that.$img.bind('load', function() {\r\n      if (formData.bgImgSize === 'true') {\r\n        that.$el.width(that.$img.width())\r\n        that.$el.height(that.$img.height())\r\n      }\r\n    })\r\n    let imgMode = formData.imgMode\r\n    if (imgMode === 'cut') {\r\n      let bground=bgImage(formData.bgImg,formData.bgColor,'','','')\r\n      that.$content.css('background', bground)\r\n      if(that.$img.is(':visible')) {\r\n        that.$img.hide()\r\n      }\r\n      that.$img.attr('src', formData.bgImg)\r\n      that.$img.css('width', '')\r\n      that.$img.css('height', '')\r\n    } else {\r\n      that.$img.attr('src', formData.bgImg)\r\n      that.$content.css('background', 'none')\r\n      that.$content.css('background-color', formData.bgColor)\r\n      if (imgMode === 'full') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '100%')\r\n      } else if (imgMode === 'scaleX') {\r\n        that.$img.css('height', '100%')\r\n        that.$img.css('width', '')\r\n      } else if (imgMode === 'scaleY') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '')\r\n      }\r\n      that.$img.show()\r\n    }\r\n  }\r\n\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    if (this.formData.bgImgSize === 'true') {\r\n      $bgImgSizeCheckBox.prop('checked', true)\r\n    } else {\r\n      $bgImgSizeCheckBox.prop('checked', false)\r\n    }\r\n    let $imgModeSelect = $propPanel.find('#imgMode')\r\n    $imgModeSelect.val(this.formData.imgMode)\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    onLinkModeChanged($propPanel, this.formData.linkMode)\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.val(this.formData.bRadius)\r\n\r\n    //边框处理\r\n    updatePropBorder($propPanel,this)\r\n\r\n  }\r\n\r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.img-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    editSideHtmlBorder($propPanel.find('.side-item-border'))\r\n    this.updatePropPanel()\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.keyup((function() {\r\n      that.update({bgImg: $bgImgInput.val()})\r\n    }))\r\n\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    $bgImgSizeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.update({bgImgSize: val ? 'true' : 'false'})\r\n    })\r\n\r\n    let $imgMode = $propPanel.find('#imgMode')\r\n    $imgMode.change(function() {\r\n      that.update({imgMode: $(this).val()})\r\n    })\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({linkMode: val})\r\n      onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.keyup(function() {\r\n      let val = $(this).val()\r\n      // that.formData.href = val\r\n      that.update({href: val})\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      // that.formData.hrefMode = val ? '_blank' : ''\r\n      that.update({hrefMode: val ? '_blank' : ''})\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.keyup(function() {\r\n      let val = $(this).val()\r\n      // that.formData.wangID = val\r\n      that.update({wangID: val})\r\n    })\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.keyup(function() {\r\n      // that.formData.bRadius = $(this).val()\r\n      // that.update(that.formData)\r\n      that.update({bRadius: $(this).val()})\r\n    })\r\n    //边框初始化\r\n    initPorpBorder($propPanel,that)\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xdtb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Component from './Component';\r\nimport {compareForm,valInt,valEmpty } from './common';\r\nimport { setFontOption} from './commonOption';\r\nimport {bgImage,textLine} from './commonCss'\r\nimport { initPorpBorder,updateBorder,updatePropBorder,editPopHtmlBorder,setPopHtmlBorder,editSideHtmlBorder,toHtmlBorder} from './borderComponent';\r\nimport { updateShadow,editPopHtmlShadow,setPopHtmlShadow,toHtmlShadow} from './shadowComponent';\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\n\r\nexport default class TextComponent extends Component {\r\n　$content: JQuery\r\n  constructor() {\r\n    super('text-component')\r\n    let content = `\r\n    <div class=\"ant-text xdtb\" ><a class=\"ywlink\"   mTsAnt=\"\"  mbdTsAnt=\"\"><div class=\"on\">请设置文本内容</div></a></div>\r\n      `\r\n    this.$contentBox.append(content)\r\n    this.$content = this.$contentBox.find('.ywlink')\r\n    this.initFormData()\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    \r\n    this.formData.scrlY = 'off' \r\n    this.formData.family = 'arial' //字体\r\n    this.formData.fSize = 12\r\n    this.formData.color = '#000'\r\n    this.formData.bgColor = ''\r\n    this.formData.lHeight =''  //行距 line-height\r\n    this.formData.spacing =''  //letterSpacing // 字  距\r\n    this.formData.indent =''  //textIndent 缩进\r\n\r\n    this.formData.weight = 600 //加粗\r\n    this.formData.fStyle = 'normal' //斜体\r\n    this.formData.oLine = '' //文字上边线 overline\r\n    this.formData.through = '' //文字中间线 line-through\r\n    this.formData.uLine = '' //文字下边线 underline\r\n    this.formData.align = 'center' //对齐\r\n    this.formData.content = '请设置文件内容' //反面内容\r\n\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'  //是否新窗口\r\n\r\n    this.formData.bgImg = ''\r\n    this.formData.bgRep ='no-repeat'  //背景平铺方式\r\n    this.formData.bgPos ='' //背景对齐位置\r\n    this.formData.bRadius ='' //圆角\r\n\r\n    this.formData.hoverMode ='off' //鼠标移上开启 off 关  on  开\r\n\r\n\r\n    this.formData.mfamily = 'arial' //字体\r\n    this.formData.mfSize = 12\r\n    this.formData.mcolor = '#fff'\r\n    this.formData.mbgColor = '#000'\r\n    this.formData.mlHeight =''  //行距\r\n    this.formData.mspacing =''  //letterSpacing // 字  距\r\n    this.formData.mindent =''  //textIndent 缩进\r\n\r\n    this.formData.mweight = 600 //加粗\r\n    this.formData.mfStyle = 'normal' //斜体\r\n    this.formData.moLine = '' //文字上边线 overline\r\n    this.formData.mthrough = '' //文字中间线 line-through\r\n    this.formData.muLine = '' //文字下边线 underline\r\n    this.formData.malign = 'left' //对齐\r\n    this.formData.mcontent = '' //反面内容\r\n\r\n    this.formData.mbgImg = ''\r\n    this.formData.mbgRep ='no-repeat'  //背景平铺方式\r\n    this.formData.mbgPos ='' //背景对齐位置\r\n\r\n    this.formData.mTsDur ='0.4'   //动画时长\r\n    this.formData.mTsFun ='ease'  //速度曲线\r\n    this.formData.mTsAnt ='atrans5'  //动画效果\r\n\r\n    this.formData.bdT ='off'\r\n    this.formData.bdB ='off'\r\n    this.formData.bdL ='off'\r\n    this.formData.bdR ='off'\r\n    this.formData.sdSize =5\r\n    this.formData.bdWidth =5\r\n    this.formData.bdColor ='#FFFF00'\r\n    this.formData.bdStyle ='solid'\r\n\r\n\r\n    this.formData.mbdT ='off'\r\n    this.formData.mbdB ='off'\r\n    this.formData.mbdL ='off'\r\n    this.formData.mbdR ='off'\r\n    this.formData.msdSize =5\r\n    this.formData.mbdWidth =5\r\n    this.formData.mbdStyle ='solid'\r\n\r\n\r\n    this.formData.mbdTsDur ='0.5'\r\n    this.formData.mbdTsFun ='ease-out'\r\n    this.formData.mbdColor ='#00FFFF'\r\n    this.formData.mbdTsAnt ='bdtx1'\r\n\r\n    this.doUpdate(this.formData)\r\n\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xwzb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n  toHtml() {\r\n    let top, left, width, height,bRadius,tipText,hrefMode,href,hoverMode,scrlY,scrlCss='',scrlStyle=''\r\n    let htmlList=[]\r\n\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    bRadius=valEmpty(this.formData.bRadius)\r\n    hoverMode=valEmpty(this.formData.hoverMode)\r\n    scrlY=valEmpty(this.formData.scrlY)\r\n    if(scrlY===\"on\"){\r\n    scrlCss=' scrly-box'\r\n    scrlStyle='padding-right:5px;'\r\n    }\r\n\r\n    \r\n\r\n    href=valEmpty(this.formData.href) !=\"\" ?  ' href=\"'+this.formData.href+'\"':''\r\n    hrefMode=valEmpty(this.formData.hrefMode) ===\"_blank\" ?  ' target=\"'+this.formData.hrefMode+'\"':''\r\n    tipText=valEmpty(this.formData.tipText) !=\"\" ? ' title=\"'+this.formData.tipText+'\" ' : ''\r\n    let radiusStyle='word-wrap: break-word;word-break: normal;'\r\n        radiusStyle+=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n \r\n\r\n    //处理 阴影\r\n    let shadowData = toHtmlShadow(this.formData)\r\n    let onShadowStyle=shadowData.onShadow\r\n    let offShadowHtml= shadowData.offShadow\r\n    //处理 边框\r\n    let mbdTsAnt=valEmpty(this.formData.mbdTsAnt)\r\n    let BorderData = toHtmlBorder(this.formData)\r\n    let bdpdStyle=BorderData.bdpdStyle\r\n    let mbdpdStyle=BorderData.mbdpdStyle\r\n    let bdHtml=BorderData.Html\r\n\r\n\r\n    let family, fSize, color, bgColor,lHeight,spacing,indent,weight,fStyle,oLine,through,uLine,align,content,bgImg,bgRep,bgPos,onBgStyle,onlineStyle,onHtml\r\n    content=valEmpty(this.formData.content)  !=\"\" ? this.formData.content :''\r\n    family=valEmpty(this.formData.family) !=\"\" ? 'font-family:'+this.formData.family+';' :''\r\n    fSize=valEmpty(this.formData.fSize) !=\"\" ? 'font-size:'+this.formData.fSize+'px;' :''\r\n    color=valEmpty(this.formData.color) !=\"\" ? 'color:'+this.formData.color+';' :''\r\n    lHeight=valEmpty(this.formData.lHeight) !=\"\" ? 'line-height:'+this.formData.lHeight+'px;' :''\r\n    spacing=valEmpty(this.formData.spacing) !=\"\" ? 'letter-spacing:'+this.formData.spacing+'px;' :''\r\n    indent=valEmpty(this.formData.indent) !=\"\" ? 'text-indent:'+this.formData.indent+'px;' :''\r\n    weight=valEmpty(this.formData.weight) !=\"\" ? 'font-weight:'+this.formData.weight+';' :''\r\n    fStyle=valEmpty(this.formData.fStyle) !=\"\" ? 'font-style:'+this.formData.fStyle+';' :''\r\n    align=valEmpty(this.formData.align) !=\"\" ? 'text-align:'+this.formData.align+';' :''\r\n\r\n    bgColor=valEmpty(this.formData.bgColor)\r\n    bgImg=valEmpty(this.formData.bgImg)\r\n    bgRep=valEmpty(this.formData.bgRep)\r\n    bgPos=valEmpty(this.formData.bgPos)\r\n    onBgStyle=bgImage(bgImg,bgColor,bgRep,bgPos,'')\r\n    onBgStyle=onBgStyle !=\"\" ?  'background:'+onBgStyle+';' : ''\r\n\r\n    oLine=valEmpty(this.formData.oLine)\r\n    through=valEmpty(this.formData.through)\r\n    uLine=valEmpty(this.formData.uLine)\r\n    onlineStyle=textLine(oLine,through,uLine) //处理线\r\n    onlineStyle=onlineStyle !=\"\" ?  'text-decoration:'+onlineStyle+';' : ''\r\n\r\n\r\n    //鼠标经过\r\n    let mTsDur,mTsFun,mTsAnt,mTsFunVal,mTsDurVal,mTsAntStyle\r\n    mTsDur=valEmpty(this.formData.mTsDur)\r\n    mTsFun=valEmpty(this.formData.mTsFun)\r\n\r\n    mTsFunVal=mTsFun==='cubic-bezier'?  'cubic-bezier(0.52, 1.64, 0.37, 0.66)' :mTsFun\r\n    mTsDurVal=mTsDur !=\"\" ? 'transition-duration:'+mTsDur+'s;':''\r\n    //鼠标经过样式\r\n    mTsAntStyle='transition-timing-function:'+mTsFunVal+';'+mTsDurVal\r\n\r\n    onHtml='<div class=\"on\" style=\"'+radiusStyle+scrlStyle+onBgStyle+onlineStyle+mTsAntStyle+bdpdStyle+family+fSize+color+lHeight+spacing+indent+weight+align+fStyle+'\" >'+content+'</div>'\r\n\r\n    //反面\r\n    if(hoverMode===\"on\"){\r\n      mTsAnt=valEmpty(this.formData.mTsAnt)\r\n      let mfamily, mfSize, mcolor, mbgColor,mlHeight,mspacing,mindent,mweight,mfStyle,moLine,mthrough,muLine,malign,mcontent,mbgImg,mbgRep,mbgPos,offBgStyle,offlineStyle,offHtml\r\n      mcontent=valEmpty(this.formData.mcontent)  !=\"\" ? this.formData.mcontent :''\r\n      mfamily=valEmpty(this.formData.mfamily) !=\"\" ? 'font-family:'+this.formData.mfamily+';' :''\r\n      mfSize=valEmpty(this.formData.mfSize) !=\"\" ? 'font-size:'+this.formData.mfSize+'px;' :''\r\n      mcolor=valEmpty(this.formData.mcolor) !=\"\" ? 'color:'+this.formData.mcolor+';' :''\r\n      mlHeight=valEmpty(this.formData.mlHeight) !=\"\" ? 'line-height:'+this.formData.mlHeight+'px;' :''\r\n      mspacing=valEmpty(this.formData.mspacing) !=\"\" ? 'letter-spacing:'+this.formData.mspacing+'px;' :''\r\n      mindent=valEmpty(this.formData.mindent) !=\"\" ? 'text-indent:'+this.formData.mindent+'px;' :''\r\n      mweight=valEmpty(this.formData.mweight) !=\"\" ? 'font-weight:'+this.formData.mweight+';' :''\r\n      mfStyle=valEmpty(this.formData.mfStyle) !=\"\" ? 'font-style:'+this.formData.mfStyle+';' :''\r\n      malign=valEmpty(this.formData.malign) !=\"\" ? 'text-align:'+this.formData.malign+';' :''\r\n\r\n      mbgColor=valEmpty(this.formData.mbgColor)\r\n      mbgImg=valEmpty(this.formData.mbgImg)\r\n      mbgRep=valEmpty(this.formData.mbgRep)\r\n      mbgPos=valEmpty(this.formData.mbgPos)\r\n      offBgStyle=bgImage(mbgImg,mbgColor,mbgRep,mbgPos,'')\r\n      offBgStyle=offBgStyle !=\"\" ?  'background:'+offBgStyle+';' : ''\r\n\r\n      moLine=valEmpty(this.formData.moLine)\r\n      mthrough=valEmpty(this.formData.mthrough)\r\n      muLine=valEmpty(this.formData.muLine)\r\n      offlineStyle=textLine(moLine,mthrough,muLine) //处理线\r\n      offlineStyle=offlineStyle !=\"\" ?  'text-decoration:'+offlineStyle+';' : ''\r\n\r\n      offHtml='<div class=\"off\" style=\"'+radiusStyle+offBgStyle+offlineStyle+mTsAntStyle+mbdpdStyle+mfamily+mfSize+mcolor+mlHeight+mspacing+mindent+mweight+malign+mfStyle+'\" >'+mcontent+'</div>'\r\n\r\n      if(mTsAnt=='atrans5' || mTsAnt=='atrans6' || mTsAnt==='atrans7' || mTsAnt==='atrans8' || mTsAnt==='atrans9' || mTsAnt==='atrans19' ){\r\n        htmlList.push(offHtml)\r\n        htmlList.push(onHtml)\r\n      }else{\r\n        htmlList.push(onHtml)\r\n        htmlList.push(offHtml)\r\n      }\r\n    }else{\r\n      htmlList.push(onHtml)\r\n    }\r\n    //边框\r\n    htmlList.push(bdHtml)\r\n    let htmlLink=htmlList.join('')\r\n    if(hoverMode ===\"on\"){\r\n      htmlLink='<a '+tipText+' class=\"ywlink '+mTsAnt+' '+mbdTsAnt+'\" '+href+hrefMode+' style=\"'+radiusStyle+'\">'+htmlLink+'</a>'\r\n    }\r\n    return '<div class=\"abs xdtb ant-text '+scrlCss+'\" style=\"top: '+top+'; left:'+left+'; width:'+width+'px; height:'+height+'px;'+onShadowStyle+radiusStyle+'\" >'+offShadowHtml+htmlLink+'</div>'\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  //弹出来同步\r\n  onTongBu($layerElem,$isVal,that) {\r\n    let $familySelect = $layerElem.find('select[name=family] option:selected')\r\n    let $familyVal=$familySelect.val()\r\n    $layerElem.find('select[name=mfamily] option[value='+$familyVal+']').attr(\"selected\",true);\r\n\r\n    let $colorVal = $layerElem.find('input[type=text][name=color]').val()\r\n\r\n    let $mcolorInput = $layerElem.find('input[type=text][name=mcolor]')\r\n    $mcolorInput.val($colorVal)\r\n    $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$colorVal)\r\n\r\n    let $bgColorVal = $layerElem.find('input[type=text][name=bgColor]').val()\r\n    let $mbgColorInput = $layerElem.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.val($bgColorVal)\r\n    $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",$bgColorVal)\r\n\r\n    let $fSizeVal = $layerElem.find('input[type=text][name=fSize]').val()\r\n    let $mfSizeInput = $layerElem.find('input[type=text][name=mfSize]')\r\n    $mfSizeInput.val($fSizeVal)\r\n\r\n    let $lHeightVal = $layerElem.find('input[type=text][name=lHeight]').val()\r\n    let $mlHeightInput = $layerElem.find('input[type=text][name=mlHeight]')\r\n    $mlHeightInput.val($lHeightVal)\r\n\r\n    let $spacingVal = $layerElem.find('input[type=text][name=spacing]').val()\r\n    let $mspacingInput = $layerElem.find('input[type=text][name=mspacing]')\r\n    $mspacingInput.val($spacingVal)\r\n\r\n    let $indentVal = $layerElem.find('input[type=text][name=indent]').val()\r\n    let $mindentInput = $layerElem.find('input[type=text][name=mindent]')\r\n    $mindentInput.val($indentVal)\r\n\r\n    //对齐\r\n    let $alignRadioActive = $layerElem.find('.font-z .font-item-radio.active')\r\n    let $malignRadio = $layerElem.find('.font-f .font-item-radio')\r\n    let $alignVal=$alignRadioActive.attr('data-val')\r\n    $malignRadio.removeClass(\"active\")\r\n    $layerElem.find('.font-f .font-item-radio[data-val='+$alignVal+']').addClass('active')\r\n\r\n\r\n    let $weightVal= $layerElem.find('.font-z input[type=hidden][name=weight]').val()\r\n    let $mweightInput = $layerElem.find('.font-f input[type=hidden][name=mweight]')\r\n    if($weightVal==\"600\"){\r\n      $mweightInput.val(\"600\")\r\n      $mweightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mweightInput.val(\"\")\r\n      $mweightInput.parent().removeClass(\"active\")\r\n    }\r\n    let $fStyleVal = $layerElem.find('.font-z input[type=hidden][name=fStyle]').val()\r\n    let $mfStyleInput = $layerElem.find('.font-f input[type=hidden][name=mfStyle]')\r\n    if($fStyleVal==\"italic\"){\r\n      $mfStyleInput.val('italic')\r\n      $mfStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mfStyleInput.val(\"normal\")\r\n      $mfStyleInput.parent().removeClass(\"active\")\r\n    }\r\n    let $oLineVal = $layerElem.find('.font-z input[type=hidden][name=oLine]').val()\r\n    let $moLineInput = $layerElem.find('.font-f input[type=hidden][name=moLine]')\r\n    if($oLineVal==\"overline\"){\r\n      $moLineInput.val('overline')\r\n      $moLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $moLineInput.val(\"\")\r\n      $moLineInput.parent().removeClass(\"active\")\r\n    }\r\n    let $throughVal = $layerElem.find('.font-z input[type=hidden][name=through]').val()\r\n    let $mthroughInput= $layerElem.find('.font-f input[type=hidden][name=mthrough]')\r\n    if($throughVal==\"line-through\"){\r\n      $mthroughInput.val('line-through')\r\n      $mthroughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mthroughInput.val(\"\")\r\n      $mthroughInput.parent().removeClass(\"active\")\r\n    }\r\n    let $uLineVal = $layerElem.find('.font-z input[type=hidden][name=uLine]').val()\r\n    let $muLineInput = $layerElem.find('.font-f input[type=hidden][name=muLine]')\r\n    if($uLineVal==\"underline\"){\r\n      $muLineInput.val('underline')\r\n      $muLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $muLineInput.val(\"\")\r\n      $muLineInput.parent().removeClass(\"active\")\r\n    }\r\n    // 右侧同步的时候 直接更新数据\r\n    if($isVal){\r\n     that.formData.family=$familyVal\r\n     that.formData.mcolor=$colorVal\r\n     that.formData.mbgColor=$bgColorVal\r\n     that.formData.mfSize=$fSizeVal\r\n     that.formData.mlHeight=$lHeightVal\r\n     that.formData.mspacing=$spacingVal\r\n     that.formData.mindent=$indentVal\r\n     that.formData.mweight=$weightVal\r\n     that.formData.mfStyle=$fStyleVal\r\n     that.formData.moLine=$oLineVal\r\n     that.formData.mthrough=$throughVal\r\n     that.formData.muLine=$uLineVal\r\n     that.formData.malign=$alignVal\r\n    }\r\n    console.log('onTongBu')\r\n\r\n  }\r\n  //文本框预览样式\r\n  updatePreviewStyle($objElem){\r\n    let $defElem=$objElem.parent().parent().parent().find('.font-textarea .multi-textarea')\r\n    if($objElem.parent().hasClass(\"nromal-wrap\")){\r\n       $defElem=$objElem.parent().parent().find('.font-textarea .multi-textarea')\r\n    }\r\n    let $fontElem=$defElem.parent().prev()  //查找上一个兄弟节点，不是所有的兄弟节点\r\n    let isfontF= $fontElem.hasClass(\"font-f\")  ? true :false\r\n\r\n    if($defElem.length>0){\r\n      if(isfontF){\r\n        let deline=this.formData.muLine\r\n        if(this.formData.moLine){\r\n          deline+=' '+this.formData.moLine\r\n        }else{\r\n          if(this.formData.mthrough){\r\n            deline+=' '+this.formData.mthrough\r\n          }\r\n          if(deline ===\"\") deline='none'\r\n\r\n          $defElem.css(\"font-family\",this.formData.mfamily)\r\n          $defElem.css('color', this.formData.mcolor)\r\n          $defElem.css('background-color', this.formData.mbgColor)\r\n          $defElem.css('font-size', parseInt(this.formData.mfSize))\r\n          $defElem.css('line-height', this.formData.mlHeight+'px')\r\n          $defElem.css('letter-spacing', parseInt(this.formData.mspacing))\r\n          $defElem.css('text-indent', parseInt(this.formData.mindent))\r\n\r\n          $defElem.css('text-align', this.formData.malign)\r\n          $defElem.css(\"font-weight\",this.formData.mweight)\r\n          $defElem.css(\"font-style\",this.formData.mfStyle)\r\n          $defElem.css(\"text-decoration\",deline)\r\n        }\r\n      }else{\r\n        let deline=this.formData.uLine\r\n        if(this.formData.oLine){\r\n          deline+=' '+this.formData.oLine\r\n        }else{\r\n          if(this.formData.through){\r\n            deline+=' '+this.formData.through\r\n          }\r\n          if(deline ===\"\") deline='none'\r\n\r\n          $defElem.css(\"font-family\",this.formData.family)\r\n          $defElem.css('color', this.formData.color)\r\n          $defElem.css('background-color', this.formData.bgColor)\r\n          $defElem.css('font-size', parseInt(this.formData.fSize))\r\n          $defElem.css('line-height', this.formData.lHeight+'px')\r\n          $defElem.css('letter-spacing', parseInt(this.formData.spacing))\r\n          $defElem.css('text-indent', parseInt(this.formData.indent))\r\n\r\n          $defElem.css('text-align', this.formData.align)\r\n          $defElem.css(\"font-weight\",this.formData.weight)\r\n          $defElem.css(\"font-style\",this.formData.fStyle)\r\n          $defElem.css(\"text-decoration\",deline)\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n //弹出来设置文字选中 转换成小写：toLowerCase()\r\n  getFontActive($objElem){\r\n    let $elemInput=$objElem.find('input[type=hidden]')\r\n    let $attrName=$elemInput.attr('name').toLowerCase()\r\n    if($objElem.parent().hasClass(\"font-f\")){\r\n      $attrName = $attrName.substr(1)\r\n    }\r\n    if($objElem.hasClass(\"active\")){\r\n      $objElem.removeClass(\"active\")\r\n      switch($attrName) {\r\n        case 'weight':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'fstyle':\r\n          $elemInput.val('normal')\r\n          break;\r\n        case 'oline':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'through':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'uline':\r\n          $elemInput.val('')\r\n          break;\r\n      }\r\n    }else{\r\n      $objElem.addClass(\"active\")\r\n      switch($attrName) {\r\n        case 'weight':\r\n          $elemInput.val(\"600\")\r\n          break;\r\n        case 'fstyle':\r\n          $elemInput.val('italic')\r\n          break;\r\n        case 'oline':\r\n          $elemInput.val('overline')\r\n          break;\r\n        case 'through':\r\n          $elemInput.val('line-through')\r\n          break;\r\n        case 'uline':\r\n          $elemInput.val('underline')\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  initPorpPanel() {\r\n    console.log('initTextPorpPanel')\r\n    let that = this\r\n\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.text-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    setFontOption($propPanel.find('.font-select'))\r\n    editSideHtmlBorder($propPanel.find('.side-item-border'))\r\n\r\n    this.updatePropPanel();\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.update({hrefMode: val ? '_blank' : ''})\r\n    })\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({href: val})\r\n    })\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({bRadius: val})\r\n    })\r\n    let $scrlYRadio = $propPanel.find('input[type=radio][name=scrlY]')\r\n    $scrlYRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({scrlY: val})\r\n    })\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({family: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({color: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({bgColor: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({fSize: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $lHeightInput = $propPanel.find('input[type=text][name=lHeight]')\r\n    $lHeightInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({lHeight: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]')\r\n    $spacingInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({spacing: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]')\r\n    $indentInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({indent: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]')\r\n    $contentTextarea.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({content: val})\r\n    })\r\n\r\n    let $hoverModeRadio = $propPanel.find('input[type=radio][name=hoverMode]')\r\n    $hoverModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({hoverMode: val})\r\n    })\r\n    let $mfamilySelect = $propPanel.find('select[name=mfamily]')\r\n    $mfamilySelect.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mfamily: val})\r\n    })\r\n\r\n    let $mcolorInput = $propPanel.find('input[type=text][name=mcolor]')\r\n    $mcolorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({mcolor: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mbgColorInput = $propPanel.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({mbgColor: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mfSizeInput = $propPanel.find('input[type=text][name=mfSize]')\r\n    $mfSizeInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mfSize: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mlHeightInput = $propPanel.find('input[type=text][name=mlHeight]')\r\n    $mlHeightInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mlHeight: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mspacingInput = $propPanel.find('input[type=text][name=mspacing]')\r\n    $mspacingInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mspacing: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mindentInput = $propPanel.find('input[type=text][name=mindent]')\r\n    $mindentInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mindent: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $mcontentTextarea = $propPanel.find('textarea[name=mcontent]')\r\n    $mcontentTextarea.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mcontent: val})\r\n    })\r\n\r\n\r\n    //以下是动画\r\n    let $mTsDurInput = $propPanel.find('input[type=text][name=mTsDur]')\r\n    $mTsDurInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mTsDur: val})\r\n    })\r\n    let $mTsFunRadio = $propPanel.find('input[type=radio][name=mTsFun]')\r\n    $mTsFunRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mTsFun: val})\r\n    })\r\n    let $mTsAntRadio = $propPanel.find('input[type=radio][name=mTsAnt]')\r\n    $mTsAntRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mTsAnt: val})\r\n    })\r\n\r\n\r\n\r\n    //正反  文字对齐 事件\r\n    let $alignRadio = $propPanel.find('.font-setting .font-item-radio')\r\n    $alignRadio.click(function() {\r\n      let val = $(this).attr('data-val')\r\n      let $alignParent=$(this).parent()\r\n      let isOff= $alignParent.hasClass(\"font-f\")  ? true :false\r\n      if(isOff){\r\n        that.update({malign: val})\r\n      }else{\r\n        that.update({align: val})\r\n      }\r\n      $alignParent.find('.font-item-radio').removeClass(\"active\")\r\n      $(this).addClass(\"active\")\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    //转换成小写：toLowerCase()\r\n    let $fontCheckbox = $propPanel.find('.font-z .font-item-checkbox')\r\n    $fontCheckbox.click(function() {\r\n      let $elemInput=$(this).find('input[type=hidden]')\r\n      let $attrName = $elemInput.attr('name').toLowerCase()\r\n      if($(this).hasClass(\"active\")){\r\n        $(this).removeClass(\"active\")\r\n        switch($attrName) {\r\n          case 'weight':\r\n            that.update({weight: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'fstyle':\r\n            that.update({fStyle: 'normal'})\r\n            $elemInput.val(\"normal\")\r\n            break;\r\n          case 'oline':\r\n            that.update({oLine: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'through':\r\n            that.update({through: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'uline':\r\n            that.update({uLine: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n        }\r\n      }else{\r\n        $(this).addClass(\"active\")\r\n        switch($attrName) {\r\n          case 'weight':\r\n            that.update({weight: '600'})\r\n            $elemInput.val(\"600\")\r\n            break;\r\n          case 'fstyle':\r\n            that.update({fStyle: 'italic'})\r\n            $elemInput.val(\"italic\")\r\n            break;\r\n          case 'oline':\r\n            that.update({oLine: 'overline'})\r\n            $elemInput.val(\"overline\")\r\n            break;\r\n          case 'through':\r\n            that.update({through: 'line-through'})\r\n            $elemInput.val(\"line-through\")\r\n            break;\r\n          case 'uline':\r\n            that.update({uLine: 'underline'})\r\n            $elemInput.val(\"underline\")\r\n            break;\r\n        }\r\n      }\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n    let $ffontCheckbox = $propPanel.find('.font-f .font-item-checkbox')\r\n    $ffontCheckbox.click(function() {\r\n      let $elemInput=$(this).find('input[type=hidden]')\r\n      let $attrName = $elemInput.attr('name').toLowerCase()\r\n      if($(this).hasClass(\"active\")){\r\n        $(this).removeClass(\"active\")\r\n        switch($attrName) {\r\n          case 'mweight':\r\n            that.update({mweight: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'mfstyle':\r\n            that.update({mfStyle: 'normal'})\r\n            $elemInput.val(\"normal\")\r\n            break;\r\n          case 'moLine':\r\n            that.update({moLine: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'mthrough':\r\n            that.update({mthrough: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'muLine':\r\n            that.update({muLine: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n        }\r\n      }else{\r\n        $(this).addClass(\"active\")\r\n        switch($attrName) {\r\n          case 'mweight':\r\n            that.update({mweight: '600'})\r\n            $elemInput.val(\"600\")\r\n            break;\r\n          case 'mfstyle':\r\n            that.update({mfStyle: 'italic'})\r\n            $elemInput.val(\"italic\")\r\n            break;\r\n          case 'moline':\r\n            that.update({moLine: 'overline'})\r\n            $elemInput.val(\"overline\")\r\n            break;\r\n          case 'mthrough':\r\n            that.update({mthrough: 'line-through'})\r\n            $elemInput.val(\"line-through\")\r\n            break;\r\n          case 'muline':\r\n            that.update({muLine: 'underline'})\r\n            $elemInput.val(\"underline\")\r\n            break;\r\n        }\r\n      }\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n    //边框初始化\r\n    initPorpBorder($propPanel,that)\r\n\r\n\r\n    //同步文字样式\r\n    $propPanel.find('.font-synchronous').on('click', function() {\r\n      let mthat=$(this)\r\n      let layer = layui.layer\r\n      layer.msg('你确定  同步默文 文字样式么？', {\r\n        time: 0 //不自动关闭\r\n        ,btn: ['同步', '取消']\r\n        ,yes: function(index){\r\n          that.onTongBu($propPanel,true,that)\r\n          that.update(that.formData)\r\n          that.updatePreviewStyle(mthat)\r\n          layer.close(index)\r\n        }\r\n      })\r\n    })\r\n\r\n\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '文字设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        setFontOption($layerElem.find('.font-select'))\r\n\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        editPopHtmlBorder($layerElem.find('.pop-item-border'))\r\n        editPopHtmlShadow($layerElem.find('.pop-item-shadow'))\r\n\r\n        $layerElem.find(\".sp-preview-inner\").css(\"background-color\",'')\r\n        //边框\r\n        setPopHtmlBorder($layerElem,that)\r\n        setPopHtmlShadow($layerElem,that)\r\n\r\n        if (that.formData.color) {\r\n         let $colorInput=$layerElem.find('input[type=text][name=color]')\r\n         $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.color)\r\n        }\r\n        if (that.formData.bgColor) {\r\n         let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n         $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        }\r\n        if (that.formData.mcolor) {\r\n         let $mcolorInput=$layerElem.find('input[type=text][name=mcolor]')\r\n         $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mcolor)\r\n        }\r\n        if (that.formData.mbgColor) {\r\n         let $mbgColorInput=$layerElem.find('input[type=text][name=mbgColor]')\r\n         $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbgColor)\r\n        }\r\n\r\n        if(that.formData.weight==\"600\"){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(0)').addClass('active')\r\n        }\r\n\r\n        if(that.formData.fStyle=='italic'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(1)').addClass('active')\r\n        }\r\n        if(that.formData.oLine=='overline'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(2)').addClass('active')\r\n        }\r\n        if(that.formData.through=='line-through'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(3)').addClass('active')\r\n        }\r\n        if(that.formData.uLine=='underline'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(4)').addClass('active')\r\n        }\r\n\r\n        $layerElem.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n        $layerElem.find(`.font-f .font-item-radio[data-val=\"${that.formData.malign}\"]`).addClass('active')\r\n\r\n        if(that.formData.mfStyle=='italic'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(1)').addClass('active')\r\n        }\r\n        if(that.formData.moLine=='overline'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(2)').addClass('active')\r\n        }\r\n        if(that.formData.mthrough=='line-through'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(3)').addClass('active')\r\n        }\r\n        if(that.formData.muLine=='underline'){\r\n          $layerElem.find('.font-f .font-item-checkbox:eq(4)').addClass('active')\r\n        }\r\n\r\n        $layerElem.find('.font-setting .font-item-checkbox').on('click', function() {\r\n           that.getFontActive($(this));\r\n        })\r\n\r\n        $layerElem.find('.font-setting .font-item-radio').on('click', function() {\r\n          let $objElem=$(this)\r\n          $objElem.parent().find('.font-item-radio').removeClass(\"active\")\r\n          $objElem.addClass(\"active\")\r\n        })\r\n\r\n\r\n        $layerElem.find('.font-synchronous').on('click', function() {\r\n          let form = layui.form\r\n          layer.msg('你确定  同步默文 文字样式么？', {\r\n            time: 0 //不自动关闭\r\n            ,btn: ['同步', '取消']\r\n            ,yes: function(index){\r\n              that.onTongBu($layerElem,false,that)\r\n              form.render('select');\r\n              layer.close(index)\r\n            }\r\n          });\r\n        })\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"textComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">默认设置</li>\r\n            <li>鼠标经过</li>\r\n            <li>边框设置</li>\r\n            <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"appLabel\" class=\"layui-input\"></div>\r\n              </div>\r\n\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">样式及内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; height: 36px;\">\r\n                      <select class=\"font-select\"   name=\"family\" >\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"color\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"fSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"bgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"lHeight\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"spacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"indent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting font-z\">\r\n                      <span  title=\"加粗\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕅ</icon><input name=\"weight\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"斜体\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕆ</icon><input name=\"fStyle\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"上划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꔣ</icon><input name=\"oLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"中划线\" class=\"font-item-checkbox\" data-val=\"\"><icon>ꕇ</icon><input name=\"through\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"下划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕈ</icon><input name=\"uLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item-radio\" data-val=\"left\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item-radio\"  data-val=\"center\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item-radio\"  data-val=\"right\" ><icon>ꕑ</icon></span>\r\n                    </div>\r\n                    <textarea   name=\"content\"  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"href\" class=\"layui-input\"></div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">超出滚动条</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"scrlY\" lay-filter=\"scrlY\" value=\"on\" title=\"显示\" >\r\n                  <input type=\"radio\" name=\"scrlY\" lay-filter=\"scrlY\" value=\"off\" title=\"隐藏\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景图片</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">对齐方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"bgPos\" >\r\n                    <option value=\"0% 0%\">左上</option>\r\n                    <option value=\"0% 50%\">左中</option>\r\n                    <option value=\"0% 100%\">左下</option>\r\n                    <option value=\"50% 0%\">中上</option>\r\n                    <option value=\"50% 50%\">正中</option>\r\n                    <option value=\"50% 100%\">中下</option>\r\n                    <option value=\"100% 0%\">右上</option>\r\n                    <option value=\"100% 50%\">右中</option>\r\n                    <option value=\"100% 100%\">右下</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">鼠标经过状态</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"hoverMode\" lay-filter=\"hoverMode\" value=\"on\" title=\"开启\" >\r\n                  <input type=\"radio\" name=\"hoverMode\" lay-filter=\"hoverMode\" value=\"off\" title=\"关闭\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">样式及内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px;\">\r\n                      <select class=\"font-select\"   name=\"mfamily\" >\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"mcolor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"mfSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"mbgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"mlHeight\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"mspacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"mindent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting font-f\">\r\n                      <span  title=\"加粗\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕅ</icon><input name=\"mweight\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"斜体\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕆ</icon><input name=\"mfStyle\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"上划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꔣ</icon><input name=\"moLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"中划线\" class=\"font-item-checkbox\" data-val=\"\"><icon>ꕇ</icon><input name=\"mthrough\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"下划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕈ</icon><input name=\"muLine\" type=\"hidden\"   value=\"\" /></span>\r\n\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item-radio\" data-val=\"left\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item-radio\"  data-val=\"center\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item-radio\"  data-val=\"right\" ><icon>ꕑ</icon></span>\r\n\r\n                    </div>\r\n                    <textarea   name=\"mcontent\"  ></textarea>\r\n                    <div class=\"font-synchronous\">\r\n                      <icon>ꕦ</icon><span>同步默认文字样式</span>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景图片</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"mbgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景平铺</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"mbgRep\" >\r\n                    <option value=\"repeat\" >纵横向</option>\r\n                    <option value=\"repeat-x\" >横向</option>\r\n                    <option value=\"repeat-y\" >纵向</option>\r\n                    <option value=\"no-repeat\" >不平铺</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">对齐方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"mbgPos\" >\r\n                    <option value=\"0% 0%\">左上</option>\r\n                    <option value=\"0% 50%\">左中</option>\r\n                    <option value=\"0% 100%\">左下</option>\r\n                    <option value=\"50% 0%\">中上</option>\r\n                    <option value=\"50% 50%\">正中</option>\r\n                    <option value=\"50% 100%\">中下</option>\r\n                    <option value=\"100% 0%\">右上</option>\r\n                    <option value=\"100% 50%\">右中</option>\r\n                    <option value=\"100% 100%\">右下</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div  class=\"layui-tab-item pop-item-border\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item pop-item-shadow\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <fieldset  class=\"layui-elem-field\">\r\n                <legend>\r\n                  动画时长\r\n                  <input class=\"input-short\"  type=\"text\" name=\"mTsDur\"  style=\"width:50px; height:20px; margin-left:10px; padding-left:5px;\" />\r\n                  <label class=\"label-con\">秒</label>\r\n                </legend>\r\n                <div class=\"layui-field-box\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"linear\"  title=\"匀速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease\"  title=\"逐渐变慢\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease-in\"   title=\"减速\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease-out\"   title=\"加速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"ease-in-out\"   title=\"加速后减速\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsFun\" value=\"cubic-bezier\"   title=\"动感弹跳\">\r\n                </div>\r\n              </fieldset>\r\n              <fieldset  class=\"layui-elem-field\" style=\"margin-top:15px;\">\r\n                <legend>动画效果</legend>\r\n                <div class=\"layui-field-box\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans0\" title=\"无效果\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans1\" title=\"右切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans2\"  title=\"下切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans3\"  title=\"左切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans4\"  title=\"上切入\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans5\"  title=\"右切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans6\"  title=\"下切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans7\"  title=\"左切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans8\"  title=\"上切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans9\"  title=\"右切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans10\"   title=\"下切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans11\"   title=\"左切入切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans12\"  title=\"上切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans13\"  title=\"放大出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans14\"  title=\"缩小出现\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans15\"  title=\"翻转出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans16\"  title=\"缩放出现1\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans17\"  title=\"缩放出现2\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans18\"  title=\"旋转放大\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans19\"  title=\"旋转缩小\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans20\"  title=\"渐隐渐显\">\r\n                </div>\r\n              </fieldset>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"textComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(textComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.formData.align = $layerElem.find('.font-z .font-item-radio.active').data('val')\r\n      that.formData.malign = $layerElem.find('.font-f .font-item-radio.active').data('val')\r\n\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('textComponentForm', that.formData)\r\n  }\r\n \r\n  doUpdate(formData) {\r\n    let that = this\r\n    let bRadius=this.formData.bRadius;\r\n\r\n    updateShadow(this.$content,formData)\r\n    //处理边框\r\n    updateBorder(this.$content,formData)\r\n\r\n    let deline=this.formData.uLine;\r\n    if(this.formData.oLine){\r\n      deline+=' '+this.formData.oLine\r\n    }\r\n    if(this.formData.through){\r\n      deline+=' '+this.formData.through\r\n    }\r\n    if(deline ===\"\") deline='none'\r\n    let $defPanel=this.$contentBox.find(\".on\")\r\n    let bgColor,bgImg,bgRep,bgPos,bgCss\r\n    bgImg=this.formData.bgImg\r\n    bgColor=this.formData.bgColor\r\n    bgRep=this.formData.bgRep\r\n    bgPos=this.formData.bgPos\r\n    bgCss=bgImage(bgImg,bgColor,bgRep,bgPos,'')\r\n    $defPanel.css('background', bgCss)\r\n    $defPanel.css(\"font-family\",this.formData.family)\r\n    $defPanel.css('color', this.formData.color)\r\n    $defPanel.css('font-size', parseInt(this.formData.fSize))\r\n    $defPanel.css('line-height', this.formData.lHeight+'px')\r\n    $defPanel.css('letter-spacing', parseInt(this.formData.spacing))\r\n    $defPanel.css('text-indent', parseInt(this.formData.indent))\r\n    $defPanel.css('border-radius',parseInt(bRadius))\r\n\r\n    $defPanel.css('text-align', this.formData.align)\r\n    $defPanel.css(\"font-weight\",this.formData.weight)\r\n    $defPanel.css(\"font-style\",this.formData.fStyle)\r\n    $defPanel.css(\"text-decoration\",deline)\r\n\r\n\r\n    $defPanel.text(formData.content)\r\n\r\n    let $offPanel=this.$contentBox.find(\".off\")\r\n    let _mTsAntAttr=this.$content.attr(\"mTsAnt\")\r\n    if(this.formData.hoverMode===\"on\"){\r\n      $offPanel.remove()\r\n\r\n      let offline=this.formData.muLine;\r\n      if(this.formData.moLine){\r\n        offline+=' '+this.formData.moLine\r\n      }\r\n      if(this.formData.mthrough){\r\n        offline+=' '+this.formData.mthrough\r\n      }\r\n      if(offline ===\"\") offline='none'\r\n\r\n      let $_mTsAnt=this.formData.mTsAnt\r\n\r\n      if($_mTsAnt=='atrans5' || $_mTsAnt=='atrans6' || $_mTsAnt==='atrans7' || $_mTsAnt==='atrans8' || $_mTsAnt==='atrans9' || $_mTsAnt==='atrans19' ){\r\n        this.$contentBox.find(\".on\").before(\"<div class='off'></div>\")\r\n      }else{\r\n        this.$contentBox.find(\".on\").after(\"<div class='off'></div>\")\r\n      }\r\n      let mbgColor,mbgImg,mbgRep,mbgPos,mbgCss\r\n      mbgImg=this.formData.mbgImg\r\n      mbgColor=this.formData.mbgColor\r\n      mbgRep=this.formData.mbgRep\r\n      mbgPos=this.formData.mbgPos\r\n      mbgCss=bgImage(mbgImg,mbgColor,mbgRep,mbgPos,'')\r\n\r\n      $offPanel=this.$contentBox.find(\".off\")\r\n      $offPanel.text(formData.mcontent)\r\n      $offPanel.css('background', mbgCss)\r\n      $offPanel.css(\"font-family\",this.formData.mfamily)\r\n      $offPanel.css('color', this.formData.mcolor)\r\n      $offPanel.css('font-size', parseInt(this.formData.mfSize))\r\n      $offPanel.css('line-height', this.formData.mlHeight+'px')\r\n      $offPanel.css('letter-spacing', parseInt(this.formData.mspacing))\r\n      $offPanel.css('text-indent', parseInt(this.formData.mindent))\r\n\r\n      $offPanel.css('border-radius', this.formData.bRadius)\r\n\r\n      $offPanel.css('text-align', this.formData.malign)\r\n      $offPanel.css(\"font-weight\",this.formData.mweight)\r\n      $offPanel.css(\"font-style\",this.formData.mfStyle)\r\n      $offPanel.css(\"text-decoration\",offline)\r\n\r\n\r\n      if(this.formData.mTsFun==='cubic-bezier'){\r\n        $defPanel.css('transition-timing-function', 'cubic-bezier(0.52, 1.64, 0.37, 0.66)')\r\n        $offPanel.css('transition-timing-function', 'cubic-bezier(0.52, 1.64, 0.37, 0.66)')\r\n      }else{\r\n        $defPanel.css('transition-timing-function', this.formData.mTsFun)\r\n        $offPanel.css('transition-timing-function', this.formData.mTsFun)\r\n      }\r\n      $defPanel.css('transition-duration', this.formData.mTsDur+'s')\r\n      $offPanel.css('transition-duration', this.formData.mTsDur+'s')\r\n\r\n\r\n      this.$content.removeClass(_mTsAntAttr);\r\n      this.$content.addClass(this.formData.mTsAnt)\r\n      this.$content.attr(\"mTsAnt\",this.formData.mTsAnt)\r\n    }else{\r\n      $offPanel.remove();\r\n      this.$content.removeClass(_mTsAntAttr);\r\n      this.$content.attr(\"mTsAnt\",'')\r\n    }\r\n    $offPanel=this.$contentBox.find(\".off\")\r\n\r\n\r\n\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n  updatePropPanel(){\r\n    let that = this\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.val(this.formData.family)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.val(this.formData.fSize)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $lHeightInput = $propPanel.find('input[type=text][name=lHeight]')\r\n    $lHeightInput.val(this.formData.lHeight)\r\n\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]')\r\n    $spacingInput.val(this.formData.spacing)\r\n\r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]')\r\n    $indentInput.val(this.formData.indent)\r\n\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]')\r\n    $contentTextarea.val(this.formData.content)\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.val(this.formData.bRadius)\r\n    let $scrlYRadio = $propPanel.find('input[type=radio][name=scrlY]')\r\n    $scrlYRadio.filter(`[value=\"${this.formData.scrlY}\"]`).prop('checked', true)\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n\r\n    //以下是移上信息\r\n    let $hoverModeRadio = $propPanel.find('input[type=radio][name=hoverMode]')\r\n    $hoverModeRadio.filter(`[value=\"${this.formData.hoverMode}\"]`).prop('checked', true)\r\n\r\n    let $mfamilySelect = $propPanel.find('select[name=mfamily]')\r\n    $mfamilySelect.val(this.formData.mfamily)\r\n\r\n    let $mcolorInput = $propPanel.find('input[type=text][name=mcolor]')\r\n    $mcolorInput.val(this.formData.mcolor)\r\n\r\n    let $mfSizeInput = $propPanel.find('input[type=text][name=mfSize]')\r\n    $mfSizeInput.val(this.formData.mfSize)\r\n\r\n    let $mbgColorInput = $propPanel.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.val(this.formData.mbgColor)\r\n\r\n    let $mlHeightInput = $propPanel.find('input[type=text][name=mlHeight]')\r\n    $mlHeightInput.val(this.formData.mlHeight)\r\n\r\n    let $mspacingInput = $propPanel.find('input[type=text][name=mspacing]')\r\n    $mspacingInput.val(this.formData.mspacing)\r\n\r\n    let $mindentInput = $propPanel.find('input[type=text][name=mindent]')\r\n    $mindentInput.val(this.formData.mindent)\r\n\r\n    let $mcontentTextarea = $propPanel.find('textarea[name=mcontent]')\r\n    $mcontentTextarea.val(this.formData.mcontent)\r\n    if (this.formData.mcolor) {\r\n       $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mcolor)\r\n    }else{\r\n      $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.mbgColor) {\r\n       $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mbgColor)\r\n    }else{\r\n      $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n   //右侧  正面字体样式设置\r\n    $propPanel.find(`.font-setting span`).removeClass('active')\r\n    let $weightInput = $propPanel.find('.font-z input[type=hidden][name=weight]')\r\n    if(that.formData.weight==\"600\"){\r\n      $weightInput.val(\"600\")\r\n      $weightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $weightInput.val(\"\")\r\n    }\r\n    let $fStyleInput = $propPanel.find('.font-z input[type=hidden][name=fStyle]')\r\n    if(that.formData.fStyle==\"italic\"){\r\n      $fStyleInput.val(\"italic\")\r\n      $fStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $fStyleInput.val(\"normal\")\r\n    }\r\n    let $oLineInput = $propPanel.find('.font-z input[type=hidden][name=oLine]')\r\n    if(that.formData.oLine==\"overline\"){\r\n      $oLineInput.val(\"overline\")\r\n      $oLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $oLineInput.val(\"\")\r\n    }\r\n\r\n    let $throughInput = $propPanel.find('.font-z input[type=hidden][name=through]')\r\n    if(that.formData.through==\"line-through\"){\r\n      $throughInput.val(\"line-through\")\r\n      $throughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $throughInput.val(\"\")\r\n    }\r\n    let $uLineInput = $propPanel.find('.font-z input[type=hidden][name=uLine]')\r\n    if(that.formData.uLine==\"underline\"){\r\n      $uLineInput.val(\"underline\")\r\n      $uLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $uLineInput.val(\"\")\r\n    }\r\n\r\n    //右侧 反面字体样式设置\r\n    let $mweightInput = $propPanel.find('.font-f input[type=hidden][name=mweight]')\r\n    if(that.formData.mweight==\"600\"){\r\n      $mweightInput.val(\"600\")\r\n      $mweightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mweightInput.val(\"\")\r\n    }\r\n    let $mfStyleInput = $propPanel.find('.font-f input[type=hidden][name=mfStyle]')\r\n    if(that.formData.mfStyle==\"italic\"){\r\n      $mfStyleInput.val(\"italic\")\r\n      $mfStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mfStyleInput.val(\"normal\")\r\n    }\r\n    let $moLineInput = $propPanel.find('.font-f input[type=hidden][name=moLine]')\r\n    if(that.formData.moLine==\"overline\"){\r\n      $moLineInput.val(\"overline\")\r\n      $moLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $moLineInput.val(\"\")\r\n    }\r\n\r\n    let $mthroughInput = $propPanel.find('.font-f input[type=hidden][name=mthrough]')\r\n    if(that.formData.mthrough==\"line-through\"){\r\n      $mthroughInput.val(\"line-through\")\r\n      $mthroughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $mthroughInput.val(\"\")\r\n    }\r\n    let $muLineInput = $propPanel.find('.font-z input[type=hidden][name=muLine]')\r\n    if(that.formData.uLine==\"underline\"){\r\n      $muLineInput.val(\"underline\")\r\n      $muLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $muLineInput.val(\"\")\r\n    }\r\n\r\n    $propPanel.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n    $propPanel.find(`.font-f .font-item-radio[data-val=\"${that.formData.malign}\"]`).addClass('active')\r\n\r\n    //移上动画信息\r\n    let $mTsDurInput = $propPanel.find('input[type=text][name=mTsDur]')\r\n    $mTsDurInput.val(this.formData.mTsDur)\r\n    let $mTsFunRadio = $propPanel.find('input[type=radio][name=mTsFun]')\r\n    $mTsFunRadio.filter(`[value=\"${this.formData.mTsFun}\"]`).prop('checked', true)\r\n    let $mTsAntRadio = $propPanel.find('input[type=radio][name=mTsAnt]')\r\n    $mTsAntRadio.filter(`[value=\"${this.formData.mTsAnt}\"]`).prop('checked', true)\r\n\r\n    //边框信息\r\n    let $bdTCheckBox = $propPanel.find('input[type=checkbox][name=bdT]')\r\n    if (this.formData.bdT === 'on') {\r\n      $bdTCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdTCheckBox.prop('checked', false)\r\n    }\r\n    let $bdBCheckBox = $propPanel.find('input[type=checkbox][name=bdB]')\r\n    if (this.formData.bdB === 'on') {\r\n      $bdBCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdBCheckBox.prop('checked', false)\r\n    }\r\n    let $bdLCheckBox = $propPanel.find('input[type=checkbox][name=bdL]')\r\n    if (this.formData.bdL === 'on') {\r\n      $bdLCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdLCheckBox.prop('checked', false)\r\n    }\r\n    let $bdRCheckBox = $propPanel.find('input[type=checkbox][name=bdR]')\r\n    if (this.formData.bdR === 'on') {\r\n      $bdRCheckBox.prop('checked', true)\r\n    } else {\r\n      $bdRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $bdWidthInput = $propPanel.find('input[type=text][name=bdWidth]')\r\n    $bdWidthInput.val(this.formData.bdWidth)\r\n    let $bdStyleRadio = $propPanel.find('input[type=radio][name=bdStyle]')\r\n    $bdStyleRadio.filter(`[value=\"${this.formData.bdStyle}\"]`).prop('checked', true)\r\n    let $bdColorInput = $propPanel.find('input[type=text][name=bdColor]')\r\n    $bdColorInput.val(this.formData.bdColor)\r\n    if (this.formData.bdColor) {\r\n      $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bdColor)\r\n    }else{\r\n      $bdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    //移上边框\r\n    let $mbdTCheckBox = $propPanel.find('input[type=checkbox][name=mbdT]')\r\n    if (this.formData.mbdT === 'on') {\r\n      $mbdTCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdTCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdBCheckBox = $propPanel.find('input[type=checkbox][name=mbdB]')\r\n    if (this.formData.mbdB === 'on') {\r\n      $mbdBCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdBCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdLCheckBox = $propPanel.find('input[type=checkbox][name=mbdL]')\r\n    if (this.formData.mbdL === 'on') {\r\n      $mbdLCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdLCheckBox.prop('checked', false)\r\n    }\r\n    let $mbdRCheckBox = $propPanel.find('input[type=checkbox][name=mbdR]')\r\n    if (this.formData.mbdR === 'on') {\r\n      $mbdRCheckBox.prop('checked', true)\r\n    } else {\r\n      $mbdRCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $mbdWidthInput = $propPanel.find('input[type=text][name=mbdWidth]')\r\n    $mbdWidthInput.val(this.formData.mbdWidth)\r\n    let $mbdStyleRadio = $propPanel.find('input[type=radio][name=mbdStyle]')\r\n    $mbdStyleRadio.filter(`[value=\"${this.formData.mbdStyle}\"]`).prop('checked', true)\r\n    let $mbdColorInput = $propPanel.find('input[type=text][name=mbdColor]')\r\n    $mbdColorInput.val(this.formData.mbdColor)\r\n    if (this.formData.mbdColor) {\r\n      $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mbdColor)\r\n    }else{\r\n      $mbdColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    let $mbdTsDurInput = $propPanel.find('input[type=text][name=mbdTsDur]')\r\n    $mbdTsDurInput.val(this.formData.mbdTsDur)\r\n    let $mbdTsFunRadio = $propPanel.find('input[type=radio][name=mbdTsFun]')\r\n    $mbdTsFunRadio.filter(`[value=\"${this.formData.mbdTsFun}\"]`).prop('checked', true)\r\n\r\n    let $mbdTsAntRadio = $propPanel.find('input[type=radio][name=mbdTsAnt]')\r\n    $mbdTsAntRadio.filter(`[value=\"${this.formData.mbdTsAnt}\"]`).prop('checked', true)\r\n  }\r\n}\r\n\r\n\r\n","import Component from './Component'\r\nimport {compareForm,valEmpty} from './common'\r\nimport {setFontOption} from './commonOption';\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\n\r\nrequire('./assets/wang2.gif')\r\nrequire('./assets/wang1.gif')\r\nexport default class WangComponent extends Component {\r\n  $content: JQuery\r\n  $wangImg: JQuery\r\n  constructor() {\r\n    super('wang-component', {enableResize: false, isEditPopup: false})\r\n   /* let content = `\r\n        <a class=\"wang-box\"><img src=\"./assets/wang1.gif\"><span>璇子</span></a>\r\n      `\r\n   // this.$contentBox.append(content) */\r\n   this.$content = $('<a class=\"wang-box\"><img class=\"cphoto\" src=\"//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg\"><div class=\"wang-info\" > <img class=\"wang-line\" src=\"./assets/wang1.gif\"><span>John Deao</span></div></a>')\r\n    this.$wangImg = this.$content.find('.wang-line')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height,bgImg,bgColor,eName,color,fSize,family,weight,fStyle,tipText,nameMl,nameMt,wangMode,wangID,url,wimg,wangCss,bgImgHtml,nameHtml\r\n    let htmlList=[]\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    tipText=valEmpty(this.formData.tipText) !=\"\" ? ' title=\"'+this.formData.tipText+'\" ' : '';\r\n    bgColor=valEmpty(this.formData.bgColor) !=\"\" ? 'background-color:'+this.formData.bgColor+';' : '';\r\n    bgImg=valEmpty(this.formData.bgImg)\r\n    eName=valEmpty(this.formData.eName)\r\n    color=valEmpty(this.formData.color)\r\n    fSize=valEmpty(this.formData.fSize)\r\n    family=valEmpty(this.formData.family)\r\n    weight=valEmpty(this.formData.weight)\r\n    fStyle=valEmpty(this.formData.fStyle)\r\n    nameMl=valEmpty(this.formData.nameMl)\r\n    nameMt=valEmpty(this.formData.nameMt)\r\n\r\n    wangID=valEmpty(this.formData.wangID)\r\n    wangMode=valEmpty(this.formData.wangMode)\r\n    wangCss=''\r\n    if(wangMode===\"88\"){\r\n      wangMode=\"24\"\r\n      wangCss=' w-mid';\r\n    }\r\n    if(bgImg !=\"\"){\r\n      bgImgHtml='<img  src=\"'+bgImg+'\" />'\r\n    }\r\n    url='//amos.alicdn.com/msg.aw?&v=2&uid='+wangID+'&site=enaliint&s='+wangMode+'&charset=UTF-8'\r\n    wimg= '//amos.alicdn.com/online.aw?v=2&uid='+wangID+'&site=enaliint&s='+wangMode+'&charset=UTF-8';\r\n    wimg='<img class=\"wang-line'+wangCss+'\" src=\"'+wimg+'\" />'\r\n    if(eName !=\"\"){\r\n      nameHtml='<span style=\"color:'+color+';font-size:'+fSize+';font-family:'+family+';font-weight:'+weight+';font-style:'+fStyle+';margin-left:'+nameMl+'px;\">'+eName+'</span>'\r\n    }\r\n\r\n    return '<a class=\"abs wang-box\"  href=\"'+url+'\" target=\"_blank\" '+tipText+' style=\"'+bgColor+'top:'+top+';left:'+left+';width:'+width+'px; height:'+height+'px;display:inline-block;\">'+bgImgHtml+'<div class=\"wang-info\" style=\"margin-top:'+nameMt+'px;\">'+wimg+nameHtml+'</div></a>'\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.wangMode = '22'\r\n    this.formData.wangID = ''\r\n    this.formData.bgImg = '//sc01.alicdn.com/kf/HTB1gXlQXDjxK1Rjy0Fnq6yBaFXao.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.eName = 'John Deao'\r\n    this.formData.color = ''\r\n    this.formData.fSize = 12\r\n    this.formData.family = 'arial'\r\n    this.formData.weight = ''\r\n    this.formData.fStyle = 'normal'\r\n    this.formData.tipText = '24Hours Service Online'\r\n    this.formData.nameMl = 5\r\n    this.formData.nameMt = 5 //\r\n    this.doUpdate(this.formData)\r\n\r\n  }\r\n  initPorpPanel() {\r\n    console.log('initPorpPanel')\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.ww-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    setFontOption($propPanel.find('.font-select'))\r\n    this.updatePropPanel()\r\n\r\n    let $wangModeRadio = $propPanel.find('input[type=radio][name=wangMode]')\r\n    $wangModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({wangMode: val})\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({wangID: val})\r\n    })\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({bgImg: val})\r\n    })\r\n    let $nameMtInput = $propPanel.find('input[type=text][name=nameMt]')\r\n    $nameMtInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({nameMt: val})\r\n    })\r\n    let $eNameInput = $propPanel.find('input[type=text][name=eName]')\r\n    $eNameInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({eName: val})\r\n    })\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({color: val})\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({bgColor: val})\r\n    })\r\n    let $nameMlInput= $propPanel.find('input[type=text][name=nameMl]')\r\n    $nameMlInput.keyup(function() {\r\n      let val =$(this).val()\r\n      that.update({nameMl: val})\r\n    })\r\n    let $fSizeInput= $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.keyup(function() {\r\n      let val =$(this).val()\r\n      that.update({fSize: val})\r\n    })\r\n\r\n    let $weightSelect = $propPanel.find('select[name=weight]')\r\n    $weightSelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({weight: val})\r\n    })\r\n    let $fStyleSelect = $propPanel.find('select[name=fStyle]')\r\n    $fStyleSelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({fStyle: val})\r\n    })\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({family: val})\r\n    })\r\n    let $tipTextInput= $propPanel.find('input[type=text][name=tipText]')\r\n    $tipTextInput.keyup(function() {\r\n      let val =$(this).val()\r\n      that.update({tipText: val})\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '旺旺设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"wangComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"wangComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(wangComponentForm)', function(data) {\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n  }\r\n  doUpdate(formData) {\r\n    let that = this\r\n    let $cphoto=this.$content.find(\".cphoto\");\r\n    let $spanName=this.$content.find(\".wang-info span\");\r\n    this.$content.css('background-color', this.formData.bgColor)\r\n    this.$content.find(\".wang-info\").css(\"margin-top\",parseInt(this.formData.nameMt))\r\n    this.$content.attr('title', this.formData.tipText)\r\n\r\n    let lineImg=this.formData.wangMode ==\"22\" ?  './assets/wang1.gif': './assets/wang2.gif';\r\n    that.$wangImg.attr('src', lineImg)\r\n    if(this.formData.wangMode==\"88\"){\r\n      that.$wangImg.addClass(\"w-mid\")\r\n    }else{\r\n      that.$wangImg.removeClass(\"w-mid\")\r\n    }\r\n\r\n\r\n\r\n    if(this.formData.bgImg){\r\n      if($cphoto.length<=0){\r\n         this.$content.find(\".wang-info\").before(\"<img class='cphoto' >\")\r\n      }\r\n      $cphoto=this.$content.find(\".cphoto\");\r\n      $cphoto.attr('src', this.formData.bgImg)\r\n    }else{\r\n      $cphoto.remove();\r\n    }\r\n    if(this.formData.eName){\r\n      if($spanName.length<=0){\r\n        $spanName=this.$content.find(\".wang-line\").after(\"<span>\"+formData.eName+\"</span>\")\r\n      }\r\n      $spanName=this.$content.find(\".wang-info span\");\r\n      $spanName.text(formData.eName)\r\n      $spanName.css(\"color\",this.formData.color)\r\n      $spanName.css('font-size', parseInt(this.formData.fSize))\r\n      $spanName.css(\"font-family\",this.formData.family)\r\n      $spanName.css(\"font-weight\",this.formData.weight)\r\n      $spanName.css(\"font-style\",this.formData.fStyle)\r\n      $spanName.css(\"margin-left\",parseInt(this.formData.nameMl))\r\n\r\n    }else{\r\n       $spanName.remove();\r\n    }\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n\r\n    let $wangModeRadio = $propPanel.find('input[type=radio][name=wangMode]')\r\n    $wangModeRadio.filter(`[value=\"${this.formData.wangMode}\"]`).prop('checked', true)\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n\r\n\r\n    let $nameMtInput = $propPanel.find('input[type=text][name=nameMt]')\r\n    $nameMtInput.val(this.formData.nameMt)\r\n    let $eNameInput = $propPanel.find('input[type=text][name=eName]')\r\n    $eNameInput.val(this.formData.eName)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $nameMlInput = $propPanel.find('input[type=text][name=nameMl]')\r\n    $nameMlInput.val(this.formData.nameMl)\r\n\r\n\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.val(this.formData.fSize)\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.val(this.formData.family)\r\n\r\n    let $weightSelect = $propPanel.find('input[type=text][name=weight]')\r\n    $weightSelect.val(this.formData.weight)\r\n\r\n    let $fStyleSelect = $propPanel.find('select[name=fStyle]')\r\n    $fStyleSelect.val(this.formData.fStyle)\r\n\r\n    let $tipTextInput = $propPanel.find('input[type=text][name=tipText]')\r\n    $tipTextInput.val(this.formData.tipText)\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'wangh',\r\n      'config': config,\r\n      'pos': {\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import Component from './Component'\r\nimport {compareForm,valInt,valEmpty} from './common'\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\nimport {wwUrl} from './commonCss'\r\n\r\n\r\nexport default class VideoComponent extends Component {\r\n  $content: JQuery\r\n  $wangImg: JQuery\r\n  constructor() {\r\n    super('video-component', {isEditPopup: false})\r\n    this.$content = $('<div class=\"video-box\"><Video style=\"width:100%;height:100%\"  width=\"100%\" height=\"100%\"  src=\"https://cloud.video.taobao.com/play/u/2780279213/p/1/e/6/t/1/d/ld/36255062.mp4\" /><div class=\"yw-overlay\"></div></div>')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height,isAutopaly,isMuted,isControls,isAutoControls,isloop,coverImg\r\n\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    isAutopaly=valEmpty(this.formData.autoplay) ===\"true\" ? ' autoplay=\"autoplay\"' : '';\r\n    isMuted=valEmpty(this.formData.muted) ===\"true\" || valEmpty(this.formData.autoplay) ===\"true\" ? ' muted' : '';\r\n    isControls=valEmpty(this.formData.controls) ===\"true\" ? ' controls' : '';\r\n    coverImg=valEmpty(this.formData.coverImg) !=\"\" ? ' poster=\"'+this.formData.coverImg+'\"' : '';\r\n    isloop=valEmpty(this.formData.loop) ===\"true\" ? ' loop=\"loop\"' : '';\r\n\r\n\r\n    return '<div class=\"abs video-box\"  style=\"top:'+top+';left:'+left+';width:'+width+'px; height:'+height+'px;\"><Video '+isAutopaly+isMuted+isControls+isloop+coverImg+' style=\"width:100%;height:100%;\"   src=\"https://cloud.video.taobao.com/play/u/2780279213/p/1/e/6/t/1/d/ld/36255062.mp4\"  /></div>'\r\n  }\r\n\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.width = 640\r\n    this.formData.height = 363\r\n    this.formData.videoID = ''         //视频地址(ID)\r\n    this.formData.autoplay = 'false'     //是否自动播放\r\n    this.formData.muted = 'false'        //是否静音\r\n    this.formData.controls = 'true'        // 是否显示播放器控制条\r\n    this.formData.loop = 'false'           //是否 循环播\r\n    this.formData.autoControls = 'false'    //鼠标移动到视频上才展示控制条\r\n\r\n    this.formData.coverImg = '' //封面\r\n\r\n\r\n    this.doUpdate(this.formData)\r\n  }\r\n\r\n  initPorpPanel() {\r\n    console.log('initPorpPanel')\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.video-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    this.updatePropPanel()\r\n\r\n    let $wInput = $propPanel.find('input[type=text][name=width]')\r\n    $wInput.keyup(function() {\r\n      let val = $(this).val()\r\n      let part=that.$el\r\n      part.width(valInt(val))\r\n    })\r\n    let $hInput = $propPanel.find('input[type=text][name=height]')\r\n    $hInput.keyup(function() {\r\n      let val = $(this).val()\r\n      let part=that.$el\r\n      part.height(valInt(val))\r\n\r\n    })\r\n    let $videoIDInput = $propPanel.find('input[type=text][name=videoID]')\r\n    $videoIDInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({videoID: val})\r\n    })\r\n    let $coverImgInput = $propPanel.find('input[type=text][name=coverImg]')\r\n    $coverImgInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({coverImg: val})\r\n    })\r\n    let $autoplayRadio = $propPanel.find('input[type=radio][name=autoplay]')\r\n    $autoplayRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({autoplay: val})\r\n    })\r\n    let $mutedRadio = $propPanel.find('input[type=radio][name=muted]')\r\n    $mutedRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({muted: val})\r\n    })\r\n    let $controlsRadio = $propPanel.find('input[type=radio][name=controls]')\r\n    $controlsRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({controls: val})\r\n    })\r\n    let $autoControlsRadio = $propPanel.find('input[type=radio][name=autoControls]')\r\n    $autoControlsRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({autoControls: val})\r\n    })\r\n    let $loopRadio = $propPanel.find('input[type=radio][name=loop]')\r\n    $loopRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({loop: val})\r\n    })\r\n\r\n  }\r\n  openEditDialog() {\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '视频设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"videoComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n            <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"videoComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('submit(videoComponentForm)', function(data) {\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n  }\r\n  doUpdate(formData) {\r\n    let that = this\r\n    let $Video=this.$content.find(\"Video\");\r\n    let _autoplay=this.formData.autoplay===\"true\" ? true :false;\r\n    let _muted=this.formData.muted===\"true\" ? true :false;\r\n    let _controls=this.formData.controls===\"true\" ? true :false;\r\n    let _loop=this.formData.loop===\"true\" ? true :false;\r\n\r\n    if(_autoplay){\r\n      $Video.attr(\"autoplay\",\"autoplay\")\r\n    }else{\r\n      $Video.removeAttr(\"autoplay\")\r\n    }\r\n    if(_muted){\r\n      $Video.removeAttr(\"muted\")\r\n    }else{\r\n      $Video.attr(\"muted\",\"muted\")\r\n    }\r\n    if(_controls){\r\n      $Video.attr(\"controls\",\"controls\")\r\n    }else{\r\n      $Video.removeAttr(\"controls\")\r\n    }\r\n    if(_loop){\r\n      $Video.attr(\"loop\",\"loop\")\r\n    }else{\r\n      $Video.removeAttr(\"loop\")\r\n    }\r\n\r\n    let  dd= $Video.attr(\"autoplay\")\r\n    let  cc= $Video.attr(\"muted\")\r\n    let  bb= $Video.attr(\"controls\")\r\n\r\n\r\n    let coverUrl=''\r\n    if(this.formData.coverMode==\"diy\"){\r\n      coverUrl=this.formData.coverImg\r\n    }\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $wInput = $propPanel.find('input[type=text][name=width]')\r\n    $wInput.val(this.formData.width)\r\n\r\n    let $hInput = $propPanel.find('input[type=text][name=height]')\r\n    $hInput.val(this.formData.height)\r\n\r\n    let $videoIDInput = $propPanel.find('input[type=text][name=videoID]')\r\n    $videoIDInput.val(this.formData.videoID)\r\n\r\n    let $coverImgInput = $propPanel.find('input[type=text][name=coverImg]')\r\n    $coverImgInput.val(this.formData.coverImg)\r\n\r\n    let $autoplayRadio = $propPanel.find('input[type=radio][name=autoplay]')\r\n    $autoplayRadio.filter(`[value=\"${this.formData.autoplay}\"]`).prop('checked', true)\r\n\r\n    let $mutedRadio = $propPanel.find('input[type=radio][name=muted]')\r\n    $mutedRadio.filter(`[value=\"${this.formData.muted}\"]`).prop('checked', true)\r\n\r\n    let $controlsRadio = $propPanel.find('input[type=radio][name=controls]')\r\n    $controlsRadio.filter(`[value=\"${this.formData.controls}\"]`).prop('checked', true)\r\n\r\n    let $autoControlsRadio = $propPanel.find('input[type=radio][name=autoControls]')\r\n    $autoControlsRadio.filter(`[value=\"${this.formData.autoControls}\"]`).prop('checked', true)\r\n    let $loopRadio = $propPanel.find('input[type=radio][name=loop]')\r\n    $loopRadio.filter(`[value=\"${this.formData.loop}\"]`).prop('checked', true)\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xvb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import Component from './Component';\r\nimport { compareForm,valEmpty,isEmpty} from './common';\r\nimport { setAntSpinvOption,setAntBezierOption,setAntMrZoomOption,setAntMvZoomOption,setAntMovevOption} from './commonOption';\r\nimport {onLinkModeChanged,bgImage,onDisabledChanged,wwUrl,BezierCss,ImgBgHtml} from './commonCss'\r\nimport { initPorpBorder,updateBorder,updatePropBorder,editPopHtmlBorder,setPopHtmlBorder,editSideHtmlBorder,toHtmlBorder} from './borderComponent';\r\nimport { updateShadow,editPopHtmlShadow,setPopHtmlShadow,toHtmlShadow} from './shadowComponent';\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\n\r\nexport default class ImgAntComponent extends Component {\r\n  $content: JQuery\r\n  $img: JQuery\r\n  constructor() {\r\n    super('img-ant-component')\r\n    this.$content = $('<a class=\"xdtb ywimg-box\"><img src=\"\" style=\"display:none\"></a>')\r\n    this.$img = this.$content.find('img')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height,overMode,overVal,overCss,bRadius,tipText,linkMode,hrefMode,wangID,url,href\r\n    let htmlList=[]\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    overMode=valEmpty(this.formData.overMode);\r\n\r\n    bRadius=valEmpty(this.formData.bRadius)\r\n    tipText=valEmpty(this.formData.tipText)\r\n    href=valEmpty(this.formData.href)\r\n    hrefMode=valEmpty(this.formData.hrefMode)\r\n\r\n    linkMode=valEmpty(this.formData.linkMode)\r\n    wangID=valEmpty(this.formData.wangID)\r\n    url=wwUrl(href,linkMode,wangID,22)\r\n    overCss='';\r\n    overVal=overMode;\r\n    if(overMode===\"mover\"){\r\n      overCss=' u-a';\r\n      overVal='';\r\n    }\r\n\r\n\r\n    let radiusStyle=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n\r\n     //图片处理\r\n    let ImgBgData = ImgBgHtml(this.formData)\r\n    let imgBgStyle=ImgBgData.imgBgStyle\r\n    htmlList.push(ImgBgData.Html)\r\n\r\n    //阴影处理\r\n    let shadowData = toHtmlShadow(this.formData)\r\n    let onShadowStyle=shadowData.onShadow\r\n    htmlList.push(shadowData.offShadow)\r\n\r\n    //处理 边框\r\n    let mbdTsAnt=valEmpty(this.formData.mbdTsAnt)\r\n    let BorderData = toHtmlBorder(this.formData)\r\n\r\n    htmlList.push(BorderData.Html)\r\n\r\n    //处理动画\r\n    let disMode,mvTsDur,mvTsDelay,mvTsBezier,mvTsBezierv,Bezier,linkhtml\r\n\r\n    disMode=valEmpty(this.formData.disMode)\r\n    mvTsDur=valEmpty(this.formData.mvTsDur) !=\"\"  ? this.formData.mvTsDur+'s ':''\r\n    mvTsDelay=valEmpty(this.formData.mvTsDelay) !=\"\"  ?  this.formData.mvTsDelay+'s ':''\r\n    Bezier=mvTsDur+BezierCss(this.formData.mvTsBezier,this.formData.mvTsBezierv)+mvTsDelay\r\n    Bezier=  Bezier !=\"\"  ? 'transition:'+Bezier+';' : ''\r\n\r\n    linkhtml=' <a '+tipText+' class=\"abs ywlink '+disMode+' '+mbdTsAnt+'\" href=\"'+url+'\" target=\"'+hrefMode+'\" style=\"'+imgBgStyle+onShadowStyle+radiusStyle+Bezier+'\">'+htmlList.join('')+'</a>'\r\n\r\n    let whStyle,mrxz,mrxzv,mrsf,mrxzCss,mrCss\r\n\r\n    whStyle='width:'+width+'px; height:'+height+'px;'+Bezier\r\n    mrxz=valEmpty(this.formData.mrxz)\r\n    mrxzv=valEmpty(this.formData.mrxzv)\r\n    mrsf=valEmpty(this.formData.mrsf)\r\n    mrxzCss='';\r\n    mrCss='';\r\n    if(mrxz !=\"\" && mrxzv !=\"\"){\r\n      mrxzCss=' '+mrxz+mrxzv\r\n      mrCss=' mr'\r\n    }\r\n    let mvTsModeX,mvTsModeXv,mvTsModeY,mvTsModeYv,mvxz,mvxzv,mvsf,mvfz,mvXcss,mvYcss,mvxzCss\r\n\r\n    mvTsModeX=valEmpty(this.formData.mvTsModeX)\r\n    mvTsModeXv=valEmpty(this.formData.mvTsModeXv)\r\n    mvTsModeY=valEmpty(this.formData.mvTsModeY)\r\n    mvTsModeYv=valEmpty(this.formData.mvTsModeYv)\r\n    mvxz=valEmpty(this.formData.mvxz)\r\n    mvxzv=valEmpty(this.formData.mvxzv)\r\n    mvsf=valEmpty(this.formData.mvsf)\r\n    mvfz=valEmpty(this.formData.mvfz)\r\n\r\n    mvXcss=mvTsModeX !=\"\" ? mvTsModeX+mvTsModeXv :'';\r\n    mvYcss=mvTsModeY !=\"\" ? mvTsModeY+mvTsModeYv :'';\r\n    mvxzCss=mvxz !=\"\" && mvxzv !=\"\" ? ' '+mvxz+mvxzv :'';\r\n    if(mvTsModeX.indexOf(\"from\") != -1){\r\n       mvXcss=mvTsModeX;\r\n    }\r\n    if(mvTsModeY.indexOf(\"from\") != -1){\r\n       mvYcss=mvTsModeY;\r\n    }\r\n    if(mvfz !=\"\"){\r\n      linkhtml='<div class=\"abs '+mvfz+'\" style=\"'+whStyle+'\">'+linkhtml+'</div>'\r\n    }\r\n\r\n    if(mvsf !=\"\" || mrsf !=\"\"){\r\n      linkhtml='<div class=\"abs '+mrsf+' '+mvsf+'\" style=\"'+whStyle+'\">'+linkhtml+'</div>'\r\n    }\r\n    if(mvxz !=\"\"|| mrxz !=\"\"){\r\n      linkhtml='<div class=\"abs '+mrxzCss+' '+mvxzCss+'\" style=\"'+whStyle+'\">'+linkhtml+'</div>'\r\n    }\r\n    if(mvTsModeX !=\"\" || mvTsModeY !=\"\"){\r\n      linkhtml='<div class=\"abs '+mvXcss+' '+mvYcss+'\" style=\"'+whStyle+'\">'+linkhtml+'</div>'\r\n    }\r\n\r\n    return '<div class=\"abs xdtb xtxc '+mrCss+overCss+'\" style=\"top: '+top+'; left:'+left+'; width:'+width+'px; height:'+height+'px;overflow:'+overVal+';'+radiusStyle+'\" > '+linkhtml+'</div>'\r\n  }\r\n\r\n  initFormData() {\r\n    this.formData.bgImg = 'http://image.suning.cn/uimg/sop/commodity/192796024482525085891100_x.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.appLabel = ''\r\n    this.formData.imgMode = 'cut'\r\n    this.formData.linkMode = 'urlink'\r\n\r\n\r\n    this.formData.href = ''\r\n    this.formData.tipText = ''\r\n    this.formData.animType = ''\r\n    this.formData.hrefMode = '_blank'\r\n    this.formData.bgImgSize = 'true'\r\n    this.formData.animTsDur = '0.5'\r\n    this.formData.animRange = '-s'\r\n    this.formData.wangID = ''\r\n    this.formData.bdRadius= ''\r\n    this.formData.bdStyle= 'solid'\r\n    this.formData.overMode='visible'\r\n\r\n    this.formData.shadow= 'off'//box-shadow: h-shadow v-shadow blur spread color inset;\r\n    this.formData.sdColor= '#666666'\r\n    this.formData.sdSize= ''  //spread  可选。阴影的大小\r\n    this.formData.sdBlur= '5'  //可选。模糊距离\r\n    this.formData.sdX= ''     //必需的。水平阴影的位置\r\n    this.formData.sdY= ''     //必需的。垂直阴影的位置。\r\n\r\n    this.formData.mshadow= 'on'\r\n    this.formData.msdColor= '#E93030'\r\n    this.formData.msdSize= ''\r\n    this.formData.msdBlur= '5'\r\n    this.formData.msdX= ''\r\n    this.formData.msdY= ''\r\n    this.formData.msdTsDur= '0.5'\r\n\r\n    this.formData.bdWidth =5\r\n    this.formData.bdStyle ='solid'\r\n\r\n    this.formData.mbdWidth =5\r\n    this.formData.mbdStyle ='solid'\r\n\r\n    this.formData.mbdTsDur ='0.5'\r\n    this.formData.mbdTsFun ='ease-out'\r\n    this.formData.mbdTsAnt ='bdtx1'\r\n    this.formData.mrxz=''\r\n    this.formData.mrxzv='20'\r\n    this.formData.mvTsDur='0.5'\r\n    this.formData.mvTsDelay=''\r\n    this.formData.mvTsModeX='xins-box-lx'\r\n    this.formData.mvTsModeXv='20'\r\n    this.formData.mvTsModeY=''\r\n    this.formData.mvTsModeYv='30'\r\n\r\n    this.formData.mvfz=''\r\n    this.formData.disMode=''\r\n\r\n    this.$content.attr(\"mbdTsAnt\",this.formData.mbdTsAnt)\r\n    this.doUpdate(this.formData)\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '炫图层设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n         $layerElem = $(layerElem)\r\n        setAntSpinvOption($layerElem.find('.ant-spin-v'))\r\n        setAntBezierOption($layerElem.find('.ant-bezier'))\r\n\r\n        setAntMrZoomOption($layerElem.find('.ant-mr-zoom'))\r\n        setAntMvZoomOption($layerElem.find('.ant-mv-zoom'))\r\n        setAntMovevOption($layerElem.find('.ant-move-v'))\r\n\r\n\r\n\r\n        $layerElem.find(`.animselect > div[data-val=\"${that.formData.animType}\"]`).addClass('active')\r\n        $layerElem.find('.animselect > div').on('click', function() {\r\n          $layerElem.find('.animselect > div.active').removeClass('active')\r\n          $(this).addClass('active')\r\n        })\r\n        editPopHtmlBorder($layerElem.find('.pop-item-border'))\r\n        editPopHtmlShadow($layerElem.find('.pop-item-shadow'))\r\n\r\n        $layerElem.find(\".sp-preview-inner\").css(\"background-color\",'')\r\n        //边框\r\n        setPopHtmlBorder($layerElem,that)\r\n        setPopHtmlShadow($layerElem,that)\r\n\r\n        if (that.formData.bgColor) {\r\n          let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n          $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        }\r\n\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n        onLinkModeChanged($layerElem, that.formData.linkMode)\r\n\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgAntComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n             <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"text\" name=\"appLabel\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n\r\n                </div>\r\n                <div><input name=\"bgImgSize\" value=\"true\" type=\"checkbox\" lay-skin=\"primary\" title=\"自动宽高\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">图片显示方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select name=\"imgMode\">\r\n                    <option value=\"cut\">保持原图尺寸</option>\r\n                    <option value=\"full\">自由拉伸</option>\r\n                    <option value=\"scaleX\">保持比例(只裁剪宽度)</option>\r\n                    <option value=\"scaleY\">保持比例(只裁剪高度)</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">背景颜色</label>\r\n                <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                  <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                  <input name=\"bgColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                  <span class=\"clear-color-button\"></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">链接类型</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"urlink\" title=\"普通\" checked=\"\">\r\n                  <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"wwlink\" title=\"旺旺\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item link-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"href\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item wang-box\" style=\"display:none\">\r\n                <label class=\"layui-form-label\">旺旺ID</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"wangID\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">超出部分</label>\r\n                <div class=\"layui-input-inline\" style=\"width:300px;\">\r\n                  <input type=\"radio\" name=\"overMode\" lay-filter=\"overMode\" value=\"visible\" title=\"显示\" checked=\"\">\r\n                  <input type=\"radio\" name=\"overMode\" lay-filter=\"overMode\" value=\"mover\" title=\"鼠标经过显示\">\r\n                  <input type=\"radio\" name=\"overMode\" lay-filter=\"overMode\" value=\"hidden\" title=\"隐藏\">\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"layui-form-item\"  >\r\n                <label class=\"layui-form-label\">圆角度数</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bRadius\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">提示文字</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"tipText\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div  class=\"layui-tab-item pop-item-border\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item pop-item-shadow\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <div class=\"layui-tab layui-side-card\">\r\n                <ul class=\"layui-tab-title\"  >\r\n                  <li class=\"layui-this\" style=\"margin-top: 110px;\">默认动画</li>\r\n                  <li class=\"\">鼠标划过动画</li>\r\n                </ul>\r\n                <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n                  <div class=\"layui-tab-item layui-show\">\r\n\r\n                    <div class=\"layui-form-item\" style=\"margin-top:30px;\">\r\n                      <label class=\"layui-form-label\">显示方式</label>\r\n                      <div class=\"layui-input-inline\" style=\"width: 326px;\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"disMode\" value=\"\"  title=\"始终显示\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"disMode\" value=\"xins-box-fadein\"  title=\"淡入显示\">\r\n                        <input class=\"radio-medium\" type=\"radio\" name=\"disMode\" value=\"xins-box-fadeout\"  title=\"淡出消失\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">旋转特效</label>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select name=\"mrxz\">\r\n                            <option value=\"\" selected=\"selected\">无效果</option>\r\n                            <option value=\"xins-mr-r\">顺时针旋转</option>\r\n                            <option value=\"xins-mr-fr\">逆时针旋转</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select name=\"mrxzv\"  class=\"ant-spin-v\" >\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                     <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">缩放特效</label>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select name=\"mrsf\"  class=\"ant-mr-zoom\">\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                  <div class=\"layui-tab-item\">\r\n\r\n                    <div class=\"layui-form-item\" style=\"margin-top:30px;\">\r\n                      <label class=\"layui-form-label\">动画速度</label>\r\n                      <div class=\"layui-input-inline\" style=\"width: 148px;\">\r\n                        <input type=\"text\" name=\"mvTsDur\" class=\"layui-input\">\r\n                      </div>\r\n                      <label class=\"layui-form-label\" style=\"width: 65px;padding-left:0px;padding-right:5px\">动画延迟</label>\r\n                      <div class=\"layui-input-inline\" style=\"width: 65px;\">\r\n                        <input type=\"text\" name=\"mvTsDelay\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">动画特效</label>\r\n                      <div class=\"layui-input-inline\" style=\"width:150px;\">\r\n                        <select name=\"mvTsBezier\"  class=\"ant-bezier\">\r\n                        </select>\r\n                      </div>\r\n                      <label class=\"layui-form-label\" style=\"width:40px;padding-left:0px;padding-right:5px\">程度</label>\r\n                      <div class=\"layui-input-inline\" style=\"width:85px;\">\r\n                        <select  name=\"mvTsBezierv\" >\r\n                          <option value=\"b\" selected=\"selected\">强</option>\r\n                          <option value=\"m\">中</option>\r\n                          <option value=\"s\">弱</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">横向移动</label>\r\n                      <div class=\"layui-input-inline\" style=\"width:150px;\">\r\n                        <select name=\"mvTsModeX\" >\r\n                          <option value=\"\" selected=\"selected\">无效果</option>\r\n                          <option value=\"xins-box-lx\">向左移动</option>\r\n                          <option value=\"xins-box-rx\">向右移动</option>\r\n                          <option value=\"xins-box-fromleft\">从左进入</option>\r\n                          <option value=\"xins-box-fromright\">从右进入</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select  name=\"mvTsModeXv\"  class=\"ant-move-v\">\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">纵向移动</label>\r\n                      <div class=\"layui-input-inline\" style=\"width:150px;\">\r\n                        <select name=\"mvTsModeY\" >\r\n                          <option value=\"\" selected=\"selected\">无效果</option>\r\n                          <option value=\"xins-box-uy\">向上移动</option>\r\n                          <option value=\"xins-box-dy\">向下移动</option>\r\n                          <option value=\"xins-box-fromtop\">从上进入</option>\r\n                          <option value=\"xins-box-frombottom\">从下进入</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select  name=\"mvTsModeYv\"  class=\"ant-move-v\">\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">旋转特效</label>\r\n                      <div class=\"layui-input-inline\" style=\"width:150px;\">\r\n                        <select name=\"mvxz\" >\r\n                          <option value=\"\" selected=\"selected\">无效果</option>\r\n                          <option value=\"xins-box-r\">顺时针旋转</option>\r\n                          <option value=\"xins-box-fr\">逆时针旋转</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select  name=\"mvxzv\"  class=\"ant-spin-v\">\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">缩放特效</label>\r\n                      <div class=\"layui-input-inline\"  style=\"width: 150px;\">\r\n                        <select name=\"mvsf\" class=\"ant-mv-zoom\">\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">翻转特效</label>\r\n                      <div class=\"layui-input-inline\"  style=\"width: 150px;\">\r\n                        <select name=\"mvfz\">\r\n                          <option value=\"\" selected=\"selected\">无效果</option>\r\n                          <option value=\"xins-box-fx\">横向翻转</option>\r\n                          <option value=\"xins-box-fy\">纵向翻转</option>\r\n                          <option value=\"xins-box-fxy\">横向纵向同时翻转</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"imgAntComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n\r\n\r\n    form.render();\r\n\r\n\r\n\r\n    form.on('radio(linkMode)', function(data){\r\n      console.log(data)\r\n      onLinkModeChanged($layerElem, data.value)\r\n    })\r\n\r\n    form.on('submit(imgAntComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n      that.formData.animType = $layerElem.find('.animselect > div.active').data('val')\r\n      console.log(that.formData)\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('imgAntComponentForm', that.formData)\r\n  }\r\n  doUpdate(formData) {\r\n    let that = this\r\n    let bRadius=formData.bRadius ?  parseInt(formData.bRadius) :''\r\n    let $contentParnts= that.$content.parent().parent()\r\n    let $contentParnt= that.$content.parent()\r\n    let $mrCss=false\r\n    let mrxzOld= that.$content.attr(\"mrxz\")\r\n    if(formData.mrxz !=\"\"){\r\n      let mrxzCss =formData.mrxz+formData.mrxzv\r\n      isEmpty(mrxzOld) != true ? that.$content.removeClass(mrxzOld) :''\r\n      that.$content.addClass(mrxzCss)\r\n      that.$content.attr(\"mrxz\",mrxzCss)\r\n      $mrCss=true\r\n    }else{\r\n      if(isEmpty(mrxzOld) != true){\r\n        that.$content.removeClass(mrxzOld)\r\n        that.$content.removeAttr('mrxz')\r\n      }\r\n    }\r\n\r\n    let mrsfOld= that.$content.attr(\"mrsf\")\r\n    if(formData.mrsf !=\"\"){\r\n      let mrsfCss =formData.mrsf\r\n      isEmpty(mrsfOld) != true ?  $contentParnt.removeClass(mrsfOld) :''\r\n      $contentParnt.addClass(mrsfCss)\r\n      that.$content.attr(\"mrsf\",mrsfCss)\r\n      $mrCss=true\r\n    }else{\r\n      if(isEmpty(mrsfOld) != true){\r\n        $contentParnt.removeClass(mrsfOld)\r\n        that.$content.removeAttr('mrsf')\r\n      }\r\n    }\r\n    $mrCss ? $contentParnts.addClass(\"mr\") : $contentParnts.removeClass(\"mr\")\r\n\r\n    updateShadow(this.$content,formData)\r\n    //处理边框\r\n    updateBorder(this.$content,formData)\r\n\r\n    if(formData.bgImg) that.$img.attr('src', formData.bgImg)\r\n    that.$content.css('border-radius', bRadius)\r\n\r\n\r\n    that.$img.bind('load', function() {\r\n      if (formData.bgImgSize === 'true') {\r\n        that.$el.width(that.$img.width())\r\n        that.$el.height(that.$img.height())\r\n      }\r\n    })\r\n    let imgMode = formData.imgMode\r\n    if (imgMode === 'cut') {\r\n      let bground=bgImage(formData.bgImg,formData.bgColor,'','','')\r\n      that.$content.css('background', bground)\r\n      if (that.$img.is(':visible')) {\r\n        that.$img.hide()\r\n      }\r\n    } else {\r\n      that.$content.css('background', 'none')\r\n      that.$content.css('background-color', formData.bgColor)\r\n      if (imgMode === 'full') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '100%')\r\n      } else if (imgMode === 'scaleX') {\r\n        that.$img.css('height', '100%')\r\n        that.$img.css('width', '')\r\n      } else if (imgMode === 'scaleY') {\r\n        that.$img.css('width', '100%')\r\n        that.$img.css('height', '')\r\n      }\r\n      that.$img.show()\r\n    }\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $mrxzSelect = $propPanel.find('select[name=mrxz]')\r\n    $mrxzSelect.val(this.formData.mrxz)\r\n    let $mrxzvSelect = $propPanel.find('select[name=mrxzv]')\r\n    $mrxzvSelect.val(this.formData.mrxzv)\r\n    onDisabledChanged($propPanel,$mrxzSelect,this.formData.mrxz)\r\n\r\n    let $mrsfSelect = $propPanel.find('select[name=mrsf]')\r\n    $mrsfSelect.val(this.formData.mrsf)\r\n\r\n\r\n\r\n    let $mvTsModeXSelect = $propPanel.find('select[name=mvTsModeX]')\r\n    $mvTsModeXSelect.val(this.formData.mvTsModeX)\r\n    let $mvTsModeXvSelect = $propPanel.find('select[name=mvTsModeXv]')\r\n    $mvTsModeXvSelect.val(this.formData.mvTsModeXv)\r\n    onDisabledChanged($propPanel,$mvTsModeXSelect,this.formData.mvTsModeX)\r\n\r\n    let $mvTsModeYSelect = $propPanel.find('select[name=mvTsModeY]')\r\n    $mvTsModeYSelect.val(this.formData.mvTsModeY)\r\n    let $mvTsModeYvSelect = $propPanel.find('select[name=mvTsModeYv]')\r\n    $mvTsModeYvSelect.val(this.formData.mvTsModeYv)\r\n    onDisabledChanged($propPanel,$mvTsModeYSelect,this.formData.mvTsModeY)\r\n\r\n    let $mvxzSelect = $propPanel.find('select[name=mvxz]')\r\n    $mvxzSelect.val(this.formData.mvxz)\r\n    let $mvxzvSelect = $propPanel.find('select[name=mvxzv]')\r\n    $mvxzvSelect.val(this.formData.mvxzv)\r\n    onDisabledChanged($propPanel,$mvxzSelect,this.formData.mvxz)\r\n\r\n    let $mvsfSelect = $propPanel.find('select[name=mvsf]')\r\n    $mvsfSelect.val(this.formData.mvsf)\r\n\r\n\r\n    let $mvfzSelect = $propPanel.find('select[name=mvfz]')\r\n    $mvfzSelect.val(this.formData.mvfz)\r\n\r\n    let $mvTsDurInput = $propPanel.find('input[type=text][name=mvTsDur]')\r\n    $mvTsDurInput.val(this.formData.mvTsDur)\r\n    let $mvTsDelayInput = $propPanel.find('input[type=text][name=mvTsDelay]')\r\n    $mvTsDelayInput.val(this.formData.mvTsDelay)\r\n\r\n    let $mvTsBezierSelect = $propPanel.find('select[name=mvTsBezier]')\r\n    $mvTsBezierSelect.val(this.formData.mvTsBezier)\r\n\r\n    let $mvTsBeziervSelect = $propPanel.find('select[name=mvTsBezierv]')\r\n    $mvTsBeziervSelect.val(this.formData.mvTsBezierv)\r\n\r\n\r\n\r\n    let $disModeRadio = $propPanel.find('input[type=radio][name=disMode]')\r\n    $disModeRadio.filter(`[value=\"${this.formData.disMode}\"]`).prop('checked', true)\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    if (this.formData.bgImgSize === 'true') {\r\n      $bgImgSizeCheckBox.prop('checked', true)\r\n    } else {\r\n      $bgImgSizeCheckBox.prop('checked', false)\r\n    }\r\n    let $imgModeSelect = $propPanel.find('#imgMode')\r\n    $imgModeSelect.val(this.formData.imgMode)\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    onLinkModeChanged($propPanel, this.formData.linkMode)\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.val(this.formData.bRadius)\r\n    let $overModeRadio = $propPanel.find('input[type=radio][name=overMode]')\r\n    $overModeRadio.filter(`[value=\"${this.formData.overMode}\"]`).prop('checked', true)\r\n\r\n    //边框处理\r\n    updatePropBorder($propPanel,this)\r\n\r\n  }\r\n\r\n  initPorpPanel() {\r\n    let that = this\r\n\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.img-ant-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n    setAntSpinvOption($propPanel.find('.ant-spin-v'))\r\n    setAntBezierOption($propPanel.find('.ant-bezier'))\r\n\r\n    setAntMrZoomOption($propPanel.find('.ant-mr-zoom'))\r\n    setAntMvZoomOption($propPanel.find('.ant-mv-zoom'))\r\n    setAntMovevOption($propPanel.find('.ant-move-v'))\r\n    editSideHtmlBorder($propPanel.find('.side-item-border'))\r\n\r\n\r\n    this.updatePropPanel()\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n\r\n    let $mvTsDurInput = $propPanel.find('input[type=text][name=mvTsDur]')\r\n    $mvTsDurInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mvTsDur: val})\r\n    })\r\n\r\n    let $mvTsDelayInput = $propPanel.find('input[type=text][name=mvTsDelay]')\r\n    $mvTsDelayInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({mvTsDelay: val})\r\n    })\r\n\r\n    let $mvTsBezierSelect = $propPanel.find('select[name=mvTsBezier]')\r\n    $mvTsBezierSelect.change(function() {\r\n      that.update({mvTsBezier: $(this).prop('value')})\r\n    })\r\n    let $mvTsBeziervSelect = $propPanel.find('select[name=mvTsBezierv]')\r\n    $mvTsBeziervSelect.change(function() {\r\n      that.update({mvTsBezierv: $(this).prop('value')})\r\n    })\r\n\r\n    let $mrsfSelect = $propPanel.find('select[name=mrsf]')\r\n    $mrsfSelect.change(function() {\r\n      that.update({mrsf: $(this).prop('value')})\r\n    })\r\n    let $mrxzSelect = $propPanel.find('select[name=mrxz]')\r\n    $mrxzSelect.change(function() {\r\n      that.update({mrxz: $(this).prop('value')})\r\n      onDisabledChanged($propPanel,$(this),that.formData.mrxz)\r\n    })\r\n\r\n    let $mrxzvSelect = $propPanel.find('select[name=mrxzv]')\r\n    $mrxzvSelect.change(function() {\r\n      that.update({mrxzv: $(this).prop('value')})\r\n    })\r\n\r\n    let $mvTsModeXvSelect = $propPanel.find('select[name=mvTsModeXv]')\r\n    $mvTsModeXvSelect.change(function() {\r\n      that.update({mvTsModeXv: $(this).prop('value')})\r\n    })\r\n    let $mvTsModeXSelect = $propPanel.find('select[name=mvTsModeX]')\r\n    $mvTsModeXSelect.change(function() {\r\n      that.update({mvTsModeX: $(this).prop('value')})\r\n      onDisabledChanged($propPanel,$(this),that.formData.mvTsModeX)\r\n    })\r\n\r\n    let $mvTsModeYvSelect = $propPanel.find('select[name=mvTsModeYv]')\r\n    $mvTsModeYvSelect.change(function() {\r\n      that.update({mvTsModeYv: $(this).prop('value')})\r\n    })\r\n    let $mvTsModeYSelect = $propPanel.find('select[name=mvTsModeY]')\r\n    $mvTsModeYSelect.change(function() {\r\n      that.update({mvTsModeY: $(this).prop('value')})\r\n      onDisabledChanged($propPanel,$(this),that.formData.mvTsModeY)\r\n    })\r\n\r\n    let $mvxzvSelect = $propPanel.find('select[name=mvxzv]')\r\n    $mvxzvSelect.change(function() {\r\n      that.update({mvxzv: $(this).prop('value')})\r\n      that.update(that.formData)\r\n    })\r\n    let $mvxzSelect = $propPanel.find('select[name=mvxz]')\r\n    $mvxzSelect.change(function() {\r\n      that.update({mvxz: $(this).prop('value')})\r\n      onDisabledChanged($propPanel,$(this),that.formData.mvxz)\r\n    })\r\n\r\n    let $mvsfSelect = $propPanel.find('select[name=mvsf]')\r\n    $mvsfSelect.change(function() {\r\n      that.update({mvsf: $(this).prop('value')})\r\n    })\r\n\r\n\r\n    let $mvfzSelect = $propPanel.find('select[name=mvfz]')\r\n    $mvfzSelect.change(function() {\r\n      that.update({mvfz: $(this).prop('value')})\r\n    })\r\n\r\n    let $disModeRadio = $propPanel.find('input[type=radio][name=disMode]')\r\n    $disModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({disMode:val})\r\n    })\r\n    let $overModeRadio = $propPanel.find('input[type=radio][name=overMode]')\r\n    $overModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({overMode:val})\r\n    })\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.keyup((function() {\r\n      that.update({bgImg:$(this).val()})\r\n    }))\r\n\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    $bgImgSizeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.update({bgImgSize:val ? 'true' : 'false'})\r\n    });\r\n\r\n    let $imgMode = $propPanel.find('#imgMode')\r\n    $imgMode.change(function() {\r\n      that.update({imgMode:$(this).val()})\r\n    })\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({imgMode:val})\r\n      onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({href:val})\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n       that.update({hrefMode:val ? '_blank' : ''})\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({wangID:val})\r\n    })\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.keyup(function() {\r\n      let val= $(this).val()\r\n      that.update({bRadius:val})\r\n    })\r\n    //边框初始化\r\n    initPorpBorder($propPanel,that)\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xtcl',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Component from './Component';\r\nimport { compareForm,isEmpty,valEmpty} from './common';\r\nimport { setAntSpinvOption,setAntBezierOption} from './commonOption';\r\nimport { onLinkModeChanged,bgImage,onDisabledChanged,wwUrl,BezierCss,ImgBgHtml} from './commonCss'\r\nimport { initPorpBorder,updateBorder,updatePropBorder,editPopHtmlBorder,setPopHtmlBorder,editSideHtmlBorder,toHtmlBorder} from './borderComponent';\r\nimport { updateShadow,editPopHtmlShadow,setPopHtmlShadow,toHtmlShadow} from './shadowComponent';\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\n\r\nexport default class ImgAntComponent extends Component {\r\n  $content: JQuery\r\n  $img: JQuery\r\n  constructor() {\r\n    super('img-zf-component')\r\n    this.$content = $('<a class=\"xdtb ywimg-box ant-text yw-hidden yw-rel\"><div class=\"on\"></div><img  style=\"display: none;\"/></a>')\r\n    this.$img = this.$content.find('img')\r\n    this.$contentBox.append(this.$content)\r\n    this.initFormData()\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height,bRadius,linkMode,hrefMode,wangID,url,href\r\n    let htmlList=[]\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n\r\n    bRadius=valEmpty(this.formData.bRadius)\r\n    href=valEmpty(this.formData.href)\r\n    hrefMode=valEmpty(this.formData.hrefMode)\r\n\r\n\r\n    linkMode=valEmpty(this.formData.linkMode)\r\n    wangID=valEmpty(this.formData.wangID)\r\n    url=wwUrl(href,linkMode,wangID,22)\r\n\r\n\r\n    href= href !=\"\" ?  ' href=\"'+url+'\"' : '';\r\n    hrefMode= hrefMode ===\"_blank\" ?  ' target=\"_blank\"' : '';\r\n\r\n    let radiusStyle=bRadius !=\"\" ? 'border-radius:'+bRadius+'px;' :''\r\n    //处理动画\r\n    let mTsDur,mTsDelay,mTsBezier,mTsBezierv,Bezier,linkhtml,$mTsAnt\r\n    $mTsAnt=this.formData.mTsAnt\r\n    mTsDur=valEmpty(this.formData.mTsDur) !=\"\"  ? this.formData.mTsDur+'s ':''\r\n    mTsDelay=valEmpty(this.formData.mTsDelay) !=\"\"  ?  this.formData.mTsDelay+'s ':''\r\n    Bezier=mTsDur+BezierCss(this.formData.mTsBezier,this.formData.mTsBezierv)+mTsDelay\r\n    Bezier=  Bezier !=\"\"  ? 'transition:'+Bezier+';' : ''\r\n\r\n    let bgCss,bgImg,bgColor,bgPos,onHtml\r\n    bgImg=this.formData.bgImg\r\n    bgColor=this.formData.bgColor\r\n    bgPos=this.formData.bgPos\r\n\r\n    bgCss=bgImage(bgImg,bgColor,'',bgPos,'')\r\n    bgCss=bgCss !=\"\" ?  'background:'+bgCss+';' : ''\r\n\r\n    onHtml='<div class=\"on\" style=\"'+bgCss+Bezier+'\"></div>'\r\n\r\n    let mbgImg,mbgColor,offHtml=''\r\n    mbgImg=this.formData.mbgImg\r\n    mbgColor=this.formData.mbgColor\r\n    if(mbgImg !=\"\" ||mbgImg !=\"\" ){\r\n      let mbgCss,mbgPos\r\n      mbgPos=this.formData.mbgPos\r\n      mbgCss=bgImage(mbgImg,mbgColor,'',mbgPos,'')\r\n      mbgCss=mbgCss !=\"\" ?  'background:'+mbgCss+';' : ''\r\n      offHtml='<div class=\"off\" style=\"'+mbgCss+Bezier+'\"></div>'\r\n\r\n    }\r\n    if($mTsAnt=='atrans5' || $mTsAnt=='atrans6' || $mTsAnt==='atrans7' || $mTsAnt==='atrans8' || $mTsAnt==='atrans9' || $mTsAnt==='atrans19' ){\r\n      htmlList.push(offHtml)\r\n      htmlList.push(onHtml)\r\n    }else{\r\n      htmlList.push(onHtml)\r\n      htmlList.push(offHtml)\r\n     }\r\n    let mrxz,mrxzv,mrxzCss,mrCss\r\n\r\n    mrxz=valEmpty(this.formData.mrxz)\r\n    mrxzv=valEmpty(this.formData.mrxzv)\r\n    mrxzCss='';\r\n    mrCss='';\r\n    if(mrxz !=\"\" && mrxzv !=\"\"){\r\n      mrxzCss=' '+mrxz+mrxzv\r\n      mrCss=' mr'\r\n    }\r\n\r\n    //阴影处理\r\n    let shadowData = toHtmlShadow(this.formData)\r\n    let onShadowStyle=shadowData.onShadow\r\n    let offShadowStyle=shadowData.offShadow\r\n\r\n    //处理 边框\r\n    let mbdTsAnt=valEmpty(this.formData.mbdTsAnt)\r\n    let BorderData = toHtmlBorder(this.formData)\r\n\r\n    htmlList.push(BorderData.Html)\r\n\r\n    linkhtml='<a   class=\"ywlink  ant-text '+mbdTsAnt+' '+$mTsAnt+'\" '+href+hrefMode+'  style=\"'+radiusStyle+'overflow: hidden;position:relative;\">'+htmlList.join('')+'</a>'\r\n    linkhtml='<div class=\"yw-100'+mrxzCss+'\" style=\"'+onShadowStyle+radiusStyle+'\">'+offShadowStyle+linkhtml+'</div>'\r\n\r\n    return '<div class=\"abs xdtb xtxc '+mrCss+'\" style=\"top: '+top+'; left:'+left+'; width:'+width+'px; height:'+height+'px;'+radiusStyle+'\" > '+linkhtml+'</div>'\r\n  }\r\n\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.bgImgSize = 'true'\r\n    this.formData.bgImg = 'http://img04.taobaocdn.com/imgextra/i4/808048452/TB2bMZZcpXXXXb5XXXXXXXXXXXX-808048452.jpg'\r\n    this.formData.bgColor = ''\r\n    this.formData.bgPos = '50% 50%'\r\n    this.formData.mrxz=''\r\n    this.formData.mrxzv='20'\r\n\r\n    this.formData.mbgImg = 'http://img04.taobaocdn.com/imgextra/i4/808048452/TB2BLE3cpXXXXXIXXXXXXXXXXXX-808048452.jpg'\r\n    this.formData.mbgColor = ''\r\n    this.formData.mbgPos = '50% 50%'\r\n\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.hrefMode = '_blank'\r\n    this.formData.href = ''\r\n    this.formData.wangID = ''\r\n    this.formData.bdRadius= ''\r\n\r\n\r\n    this.formData.mTsDur='0.5'\r\n    this.formData.mTsAnt ='atrans16'  //动画效果\r\n\r\n\r\n    this.formData.shadow= 'off'//box-shadow: h-shadow v-shadow blur spread color inset;\r\n    this.formData.sdColor= '#666666'\r\n    this.formData.sdSize= ''  //spread  可选。阴影的大小\r\n    this.formData.sdBlur= '5'  //可选。模糊距离\r\n    this.formData.sdX= ''     //必需的。水平阴影的位置\r\n    this.formData.sdY= ''     //必需的。垂直阴影的位置。\r\n\r\n    this.formData.mshadow= 'on'\r\n    this.formData.msdColor= '#E93030'\r\n    this.formData.msdSize= ''\r\n    this.formData.msdBlur= '5'\r\n    this.formData.msdX= ''\r\n    this.formData.msdY= ''\r\n    this.formData.msdTsDur= '0.5'\r\n\r\n    this.formData.bdWidth =5\r\n    this.formData.bdStyle ='solid'\r\n\r\n    this.formData.mbdWidth =5\r\n    this.formData.mbdStyle ='solid'\r\n\r\n    this.formData.mbdTsDur ='0.5'\r\n    this.formData.mbdTsFun ='ease-out'\r\n    this.formData.mbdTsAnt ='bdtx1'\r\n\r\n\r\n    this.doUpdate(this.formData)\r\n  }\r\n\r\n\r\n\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '双面图片设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n\r\n        setAntSpinvOption($layerElem.find('.ant-spin-v'))\r\n        setAntBezierOption($layerElem.find('.ant-bezier'))\r\n        editPopHtmlBorder($layerElem.find('.pop-item-border'))\r\n        editPopHtmlShadow($layerElem.find('.pop-item-shadow'))\r\n\r\n        $layerElem.find(\".sp-preview-inner\").css(\"background-color\",'')\r\n        //边框\r\n        setPopHtmlBorder($layerElem,that)\r\n        setPopHtmlShadow($layerElem,that)\r\n\r\n\r\n\r\n        if (that.formData.bgColor) {\r\n          let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n          $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        }\r\n        if (that.formData.mbgColor) {\r\n          let $mbgColorInput=$layerElem.find('input[type=text][name=mbgColor]')\r\n          $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbgColor)\r\n        }\r\n\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n\r\n        let $mrxzSelect=$layerElem.find('select[name=mrxz]').parent()\r\n        onLinkModeChanged($layerElem, that.formData.linkMode)\r\n        onDisabledChanged($layerElem,$mrxzSelect,that.formData.mrxz)\r\n\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"imgZfComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">内容设置</li>\r\n             <li>边框设置</li>\r\n             <li>阴影外框</li>\r\n             <li>动画设置</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-tab layui-side-card\">\r\n                <ul class=\"layui-tab-title\"  >\r\n                  <li class=\"layui-this\" style=\"margin-top: 110px;\">默认图片</li>\r\n                  <li class=\"\">鼠标划过图片</li>\r\n                </ul>\r\n                <div class=\"layui-tab-content\" style=\"height: 400px;\">\r\n                  <div class=\"layui-tab-item layui-show\">\r\n                    <div class=\"layui-form-item\" style=\"margin-top:5px;\">\r\n                      <label class=\"layui-form-label\">应用名称</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"text\" name=\"appLabel\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">图片地址</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                      </div>\r\n                      <div><input name=\"bgImgSize\" value=\"true\" type=\"checkbox\" lay-skin=\"primary\" title=\"自动宽高\"></div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">对齐方式</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <select name=\"bgPos\">\r\n                          <option value=\"0% 0%\">左上</option>\r\n                          <option value=\"0% 50%\">左中</option>\r\n                          <option value=\"0% 100%\">左下</option>\r\n                          <option value=\"50% 0%\">中上</option>\r\n                          <option value=\"50% 50%\">正中</option>\r\n                          <option value=\"50% 100%\">中下</option>\r\n                          <option value=\"100% 0%\">右上</option>\r\n                          <option value=\"100% 50%\">右中</option>\r\n                          <option value=\"100% 100%\">右下</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">背景颜色</label>\r\n                      <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                        <input name=\"bgColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                        <span class=\"clear-color-button\"></span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">链接类型</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"urlink\" title=\"普通\" checked=\"\">\r\n                        <input type=\"radio\" name=\"linkMode\" lay-filter=\"linkMode\" value=\"wwlink\" title=\"旺旺\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item link-box\" style=\"display:none\">\r\n                      <label class=\"layui-form-label\">链接地址</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input name=\"href\" type=\"text\" class=\"layui-input\">\r\n                      </div>\r\n                      <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n                    </div>\r\n                    <div class=\"layui-form-item wang-box\" style=\"display:none\">\r\n                      <label class=\"layui-form-label\">旺旺ID</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input name=\"wangID\" type=\"text\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">旋转特效</label>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select name=\"mrxz\">\r\n                            <option value=\"\" selected=\"selected\">无效果</option>\r\n                            <option value=\"xins-mr-r\">顺时针旋转</option>\r\n                            <option value=\"xins-mr-fr\">逆时针旋转</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"layui-input-inline\" style=\"width: 126px;\">\r\n                        <select name=\"mrxzv\"  class=\"ant-spin-v\" >\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\"  >\r\n                      <label class=\"layui-form-label\">圆角度数</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input name=\"bRadius\" type=\"text\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-tab-item\">\r\n                    <div class=\"layui-form-item\" style=\"margin-top:10px;\">\r\n                      <label class=\"layui-form-label\">图片地址</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <input name=\"mbgImg\" type=\"text\" class=\"layui-input\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">对齐方式</label>\r\n                      <div class=\"layui-input-inline\">\r\n                        <select name=\"mbgPos\">\r\n                          <option value=\"0% 0%\">左上</option>\r\n                          <option value=\"0% 50%\">左中</option>\r\n                          <option value=\"0% 100%\">左下</option>\r\n                          <option value=\"50% 0%\">中上</option>\r\n                          <option value=\"50% 50%\">正中</option>\r\n                          <option value=\"50% 100%\">中下</option>\r\n                          <option value=\"100% 0%\">右上</option>\r\n                          <option value=\"100% 50%\">右中</option>\r\n                          <option value=\"100% 100%\">右下</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"layui-form-item\">\r\n                      <label class=\"layui-form-label\">背景颜色</label>\r\n                      <div class=\"layui-input-inline pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\"></div></div></div>\r\n                        <input name=\"mbgColor\" type=\"text\" class=\"layui-input pagecolor\">\r\n                        <span class=\"clear-color-button\"></span>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div  class=\"layui-tab-item pop-item-border\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item pop-item-shadow\">\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n\r\n\r\n              <fieldset  class=\"layui-elem-field\"  >\r\n\r\n                <div class=\"layui-field-box\">\r\n                  <div class=\"layui-form-item\" >\r\n                    <label class=\"layui-form-label\">动画速度</label>\r\n                    <div class=\"layui-input-inline\" style=\"width: 148px;\">\r\n                      <input type=\"text\" name=\"mTsDur\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"layui-form-label\" style=\"width: 65px;padding-left:0px;padding-right:5px\">动画延迟</label>\r\n                    <div class=\"layui-input-inline\" style=\"width: 65px;\">\r\n                      <input type=\"text\" name=\"mTsDelay\" class=\"layui-input\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"layui-form-item\">\r\n                    <label class=\"layui-form-label\">动画特效</label>\r\n                    <div class=\"layui-input-inline\" style=\"width:150px;\">\r\n                      <select name=\"mTsBezier\"  class=\"ant-bezier\">\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"layui-form-label\" style=\"width:40px;padding-left:0px;padding-right:5px\">程度</label>\r\n                    <div class=\"layui-input-inline\" style=\"width:85px;\">\r\n                      <select  name=\"mTsBezierv\" >\r\n                        <option value=\"b\" selected=\"selected\">强</option>\r\n                        <option value=\"m\">中</option>\r\n                        <option value=\"s\">弱</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </fieldset>\r\n              <fieldset  class=\"layui-elem-field\" style=\"margin-top:10px;\">\r\n                <legend>动画效果</legend>\r\n                <div class=\"layui-field-box\" style=\"padding-left:60px;\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans0\" title=\"无效果\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans1\" title=\"右切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans2\"  title=\"下切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans3\"  title=\"左切入\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans4\"  title=\"上切入\">\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans5\"  title=\"右切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans6\"  title=\"下切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans7\"  title=\"左切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans8\"  title=\"上切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans9\"  title=\"右切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans10\"   title=\"下切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans11\"   title=\"左切入切出\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans12\"  title=\"上切入切出\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans13\"  title=\"放大出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans14\"  title=\"缩小出现\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans15\"  title=\"翻转出现\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans16\"  title=\"缩放出现1\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans17\"  title=\"缩放出现2\">\r\n\r\n                  <div class=\"sepline\"></div>\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans18\"  title=\"旋转放大\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans19\"  title=\"旋转缩小\">\r\n                  <input class=\"radio-medium\" type=\"radio\" name=\"mTsAnt\"  value=\"atrans20\"  title=\"渐隐渐显\">\r\n                </div>\r\n              </fieldset>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"imgZfComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n\r\n\r\n\r\n    form.on('radio(linkMode)', function(data){\r\n      console.log(data)\r\n      onLinkModeChanged($layerElem, data.value)\r\n    })\r\n\r\n    form.on('submit(imgZfComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n      that.formData.animType = $layerElem.find('.animselect > div.active').data('val')\r\n      console.log(that.formData)\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('imgZfComponentForm', that.formData)\r\n  }\r\n  doUpdate(formData) {\r\n    let that = this\r\n    let bRadius=formData.bRadius ?  parseInt(formData.bRadius) :''\r\n    let $contentParnts= that.$content.parent().parent()\r\n    let $contentParnt= that.$content.parent()\r\n    let $mrCss=false\r\n    let mrxzOld= that.$content.attr(\"mrxz\")\r\n    if(formData.mrxz !=\"\"){\r\n      let mrxzCss =formData.mrxz+formData.mrxzv\r\n      isEmpty(mrxzOld) != true ? that.$content.removeClass(mrxzOld) :''\r\n      that.$content.addClass(mrxzCss)\r\n      that.$content.attr(\"mrxz\",mrxzCss)\r\n      $mrCss=true\r\n    }else{\r\n      if(isEmpty(mrxzOld) != true){\r\n        that.$content.removeClass(mrxzOld)\r\n        that.$content.removeAttr('mrxz')\r\n      }\r\n    }\r\n    $mrCss ? $contentParnts.addClass(\"mr\") : $contentParnts.removeClass(\"mr\")\r\n\r\n    let mTsDur,mTsDelay,Bezier\r\n    mTsDur=valEmpty(this.formData.mTsDur) !=\"\"  ? this.formData.mTsDur+'s ':''\r\n    mTsDelay=valEmpty(this.formData.mTsDelay) !=\"\"  ?  this.formData.mTsDelay+'s ':''\r\n    Bezier=mTsDur+BezierCss(this.formData.mTsBezier,this.formData.mTsBezierv)+mTsDelay\r\n\r\n\r\n    let $defPanel=this.$contentBox.find(\".on\")\r\n    let bgCss,bgImg,bgColor,bgPos\r\n    bgImg=this.formData.bgImg\r\n    bgColor=this.formData.bgColor\r\n    bgPos=this.formData.bgPos\r\n\r\n    bgCss=bgImage(bgImg,bgColor,'',bgPos,'')\r\n    $defPanel.css(\"background\",bgCss)\r\n    $defPanel.css(\"transition\",Bezier)\r\n\r\n    let $offPanel=this.$contentBox.find(\".off\")\r\n    let $mTsAntOld=this.$content.attr(\"mTsAnt\")\r\n    let mbgCss,mbgImg,mbgColor,mbgPos\r\n    mbgImg=this.formData.mbgImg\r\n    mbgColor=this.formData.mbgColor\r\n    mbgPos=this.formData.mbgPos\r\n\r\n    mbgCss=bgImage(mbgImg,mbgColor,'',mbgPos,'')\r\n\r\n    if(mbgImg !=\"\"){\r\n      $offPanel.remove()\r\n      let $mTsAnt=this.formData.mTsAnt\r\n      if($mTsAnt=='atrans5' || $mTsAnt=='atrans6' || $mTsAnt==='atrans7' || $mTsAnt==='atrans8' || $mTsAnt==='atrans9' || $mTsAnt==='atrans19' ){\r\n      this.$contentBox.find(\".on\").before(\"<div class='off' ></div>\")\r\n      }else{\r\n      this.$contentBox.find(\".on\").after(\"<div class='off'   ></div>\")\r\n      }\r\n      $offPanel=this.$contentBox.find(\".off\")\r\n      $offPanel.css(\"background\",mbgCss)\r\n      $offPanel.css(\"transition\",Bezier)\r\n\r\n      isEmpty($mTsAntOld) != true ?  this.$content.removeClass($mTsAntOld) :'';\r\n      this.$content.addClass($mTsAnt)\r\n      this.$content.attr(\"mTsAnt\",$mTsAnt)\r\n\r\n    }else{\r\n      $offPanel.remove();\r\n      isEmpty($mTsAntOld) != true ?  this.$content.removeClass($mTsAntOld) :'';\r\n      this.$content.attr(\"mTsAnt\",'')\r\n    }\r\n   if(formData.bgImg) that.$img.attr('src', formData.bgImg)\r\n    that.$img.bind('load', function() {\r\n      if (formData.bgImgSize === 'true') {\r\n        that.$el.width(that.$img.width())\r\n        that.$el.height(that.$img.height())\r\n      }\r\n    })\r\n\r\n    that.$content.css('border-radius', bRadius)\r\n    updateShadow(this.$content,formData)\r\n    //处理边框\r\n    updateBorder(this.$content,formData)\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $mrxzSelect = $propPanel.find('select[name=mrxz]')\r\n    $mrxzSelect.val(this.formData.mrxz)\r\n    let $mrxzvSelect = $propPanel.find('select[name=mrxzv]')\r\n    $mrxzvSelect.val(this.formData.mrxzv)\r\n    onDisabledChanged($propPanel,$mrxzSelect,this.formData.mrxz)\r\n\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    if (this.formData.bgImgSize === 'true') {\r\n      $bgImgSizeCheckBox.prop('checked', true)\r\n    } else {\r\n      $bgImgSizeCheckBox.prop('checked', false)\r\n    }\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n    if (this.formData.bgColor) {\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    let $mbgImgInput = $propPanel.find('input[type=text][name=mbgImg]')\r\n    $mbgImgInput.val(this.formData.mbgImg)\r\n    let $mbgColorInput = $propPanel.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.val(this.formData.mbgColor)\r\n    if (this.formData.mbgColor) {\r\n      $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.mbgColor)\r\n    }else{\r\n      $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    onLinkModeChanged($propPanel, this.formData.linkMode)\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.val(this.formData.bRadius)\r\n\r\n    //移上动画效果\r\n    let $mTsDurInput = $propPanel.find('input[type=text][name=mTsDur]')\r\n    $mTsDurInput.val(this.formData.mTsDur)\r\n    let $mTsDelayInput = $propPanel.find('input[type=text][name=mTsDelay]')\r\n    $mTsDelayInput.val(this.formData.mTsDelay)\r\n\r\n    let $mTsBezierSelect = $propPanel.find('select[name=mTsBezier]')\r\n    $mTsBezierSelect.val(this.formData.mTsBezier)\r\n\r\n    let $mTsBeziervSelect = $propPanel.find('select[name=mTsBezierv]')\r\n    $mTsBeziervSelect.val(this.formData.mTsBezierv)\r\n    let $mTsAntRadio = $propPanel.find('input[type=radio][name=mTsAnt]')\r\n    $mTsAntRadio.filter(`[value=\"${this.formData.mTsAnt}\"]`).prop('checked', true)\r\n\r\n    //边框处理\r\n    updatePropBorder($propPanel,this)\r\n  }\r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.img-zf-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n\r\n    setAntSpinvOption($propPanel.find('.ant-spin-v'))\r\n    setAntBezierOption($propPanel.find('.ant-bezier'))\r\n    editSideHtmlBorder($propPanel.find('.side-item-border'))\r\n\r\n    this.updatePropPanel()\r\n\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n\r\n    let $mrxzSelect = $propPanel.find('select[name=mrxz]')\r\n    $mrxzSelect.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mrxz: val})\r\n      onDisabledChanged($propPanel,$(this),val)\r\n    })\r\n\r\n    let $mrxzvSelect = $propPanel.find('select[name=mrxzv]')\r\n    $mrxzvSelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({mrxzv: val})\r\n    })\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.keyup((function() {\r\n      let val = $(this).val()\r\n      that.update({bgImg: val})\r\n    }))\r\n    let $bgImgSizeCheckBox = $propPanel.find('input[type=checkbox][name=bgImgSize]')\r\n    $bgImgSizeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.update({bgImgSize: val ? 'true' : 'false'})\r\n    });\r\n    let $bgPosSelect = $propPanel.find('select[name=bgPos]')\r\n    $bgPosSelect.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({bgPos: val})\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({bgColor: val})\r\n    })\r\n\r\n    //移上图片信息\r\n    let $mbgImgInput = $propPanel.find('input[type=text][name=mbgImg]')\r\n    $mbgImgInput.keyup((function() {\r\n      let val = $(this).val()\r\n      that.update({mbgImg: val})\r\n    }))\r\n    let $mbgPosSelect = $propPanel.find('select[name=mbgPos]')\r\n    $mbgPosSelect.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mbgPos: val})\r\n    })\r\n    let $mbgColorInput = $propPanel.find('input[type=text][name=mbgColor]')\r\n    $mbgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({mbgColor: val})\r\n    })\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({linkMode: val})\r\n      onLinkModeChanged($propPanel,val)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({href: val})\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.update({hrefMode: val ? '_blank' : ''})\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({wangID: val})\r\n    })\r\n    let $bRadiusInput = $propPanel.find('input[type=text][name=bRadius]')\r\n    $bRadiusInput.keyup(function() {\r\n      let val= $(this).val()\r\n      that.update({bRadius: val})\r\n    })\r\n\r\n    //移上动画\r\n    let $mTsDurInput = $propPanel.find('input[type=text][name=mTsDur]')\r\n    $mTsDurInput.keyup(function() {\r\n      let val= $(this).val()\r\n      that.update({mTsDur: val})\r\n    })\r\n    let $mTsDelayInput = $propPanel.find('input[type=text][name=mTsDelay]')\r\n    $mTsDelayInput.keyup(function() {\r\n      let val= $(this).val()\r\n      that.update({mTsDelay: val})\r\n    })\r\n    let $mTsBezierSelect = $propPanel.find('select[name=mTsBezier]')\r\n    $mTsBezierSelect.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mTsBezier: val})\r\n    })\r\n    let $mTsBeziervSelect = $propPanel.find('select[name=mTsBezierv]')\r\n    $mTsBeziervSelect.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mTsBezierv: val})\r\n    })\r\n    let $mTsAntRadio = $propPanel.find('input[type=radio][name=mTsAnt]')\r\n    $mTsAntRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({mTsAnt: val})\r\n    })\r\n\r\n    //边框初始化\r\n    initPorpBorder($propPanel,that)\r\n\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xzfm',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Component from './Component';\r\nimport { compareForm,valInt,valEmpty } from './common';\r\nimport { setFontOption} from './commonOption';\r\nimport {bgImage,textLine,conModeChanged} from './commonCss'\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\n\r\nexport default class TextComponent extends Component {\r\n　$content: JQuery\r\n  constructor() {\r\n    super('marquee-component', {  isEditPopup: false})\r\n    let content = `\r\n    <marquee style=\"width:100%;height:100%;overflow:hidden;\" scrollamount=\"4\" scrolldelay=\"0\" direction=\"right\" behavior=\"slide\"></marquee>\r\n      `\r\n    this.$contentBox.append(content)\r\n    this.$content = this.$contentBox.find('marquee')\r\n    this.initFormData()\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n\r\n    this.formData.family = 'arial' //字体\r\n    this.formData.fSize = 12\r\n    this.formData.color = '#000'\r\n    this.formData.bgColor = '#fff'\r\n    this.formData.lHeight =''  //行距 line-height\r\n    this.formData.spacing =''  //letterSpacing // 字  距\r\n    this.formData.indent =''  //textIndent 缩进\r\n\r\n    this.formData.weight = 600 //加粗\r\n    this.formData.fStyle = 'normal' //斜体\r\n    this.formData.oLine = '' //文字上边线 overline\r\n    this.formData.through = '' //文字中间线 line-through\r\n    this.formData.uLine = '' //文字下边线 underline\r\n    this.formData.align = 'center' //对齐\r\n    this.formData.content = '请设置文件内容' //反面内容\r\n\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'  //是否新窗口\r\n\r\n    this.formData.bgImg = 'http://image.suning.cn/uimg/sop/commodity/192796024482525085891100_x.jpg'\r\n\r\n    this.formData.dirtPos = 'left'\r\n    this.formData.behavior = 'scroll'\r\n    this.formData.dirt = 'left'\r\n    this.formData.amount = 5\r\n    this.formData.scrlw = 0\r\n    this.formData.scrlh = 0\r\n    this.formData.scjl = 0\r\n    this.formData.conMode ='txt' //  txt 文字  img 图片\r\n\r\n    this.doUpdate(this.formData)\r\n\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xgdb',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n  toHtml() {\r\n    let top, left, width, height,hrefMode,href,conMode,$scbox,scrollw,scrollh,whStyle\r\n    let htmlList=[]\r\n\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n\r\n    //滚动信息\r\n    let amount,delay,dirt,behavior,wzStyle,scjl,sccs\r\n    amount=valEmpty(this.formData.amount) !=\"\" ? ' scrollamount=\"'+this.formData.amount+'\"' :''\r\n    delay=valEmpty(this.formData.delay) !=\"\" ? ' scrolldelay=\"'+this.formData.delay+'\"' :''\r\n    dirt=this.formData.dirt\r\n    behavior=this.formData.behavior\r\n    scjl=valInt(this.formData.scjl) !=\"\" ? valInt(this.formData.scjl) : 0\r\n\r\n    conMode=valEmpty(this.formData.conMode)\r\n\r\n\r\n     $scbox=this.$contentBox.find('.sc-box')\r\n    if(conMode ===\"img\")\r\n       $scbox=this.$contentBox.find('.sc-box img')\r\n\r\n    scrollw=$scbox.width()\r\n    scrollh=$scbox.height()\r\n    whStyle=''\r\n    sccs='rel'\r\n    if(scjl !=\"\"){\r\n      if(dirt==='left' || dirt==='right'){\r\n        scrollw=scrollw+scjl\r\n        //whStyle+='margin-right:'+scjl+'px;'\r\n      }else if(dirt==='up' || dirt==='down'){\r\n        scrollh=scrollh+scjl\r\n        sccs='abs'\r\n        //whStyle+='margin-bottom:'+scjl+'px;'\r\n      }\r\n\r\n    }\r\n    whStyle+='width:'+scrollw+'px; height:'+scrollh+'px;overflow:hidden;'  \r\n \r\n    wzStyle='white-space:nowrap;word-break:break-all;'\r\n\r\n\r\n\r\n    href=valEmpty(this.formData.href) !=\"\" ?  ' href=\"'+this.formData.href+'\"':''\r\n    hrefMode=valEmpty(this.formData.hrefMode) ===\"_blank\" ?  ' target=\"'+this.formData.hrefMode+'\"':''\r\n\r\n\r\n    let family, fSize, color, bgColor,lHeight,spacing,indent,weight,fStyle,oLine,through,uLine,align,content,bgImg,onBgStyle,onlineStyle\r\n    content=valEmpty(this.formData.content)  !=\"\" ? this.formData.content :''\r\n    family=valEmpty(this.formData.family) !=\"\" ? 'font-family:'+this.formData.family+';' :''\r\n    fSize=valEmpty(this.formData.fSize) !=\"\" ? 'font-size:'+this.formData.fSize+'px;' :''\r\n    color=valEmpty(this.formData.color) !=\"\" ? 'color:'+this.formData.color+';' :''\r\n    lHeight=valEmpty(this.formData.lHeight) !=\"\" ? 'line-height:'+this.formData.lHeight+'px;' :''\r\n    spacing=valEmpty(this.formData.spacing) !=\"\" ? 'letter-spacing:'+this.formData.spacing+'px;' :''\r\n    indent=valEmpty(this.formData.indent) !=\"\" ? 'text-indent:'+this.formData.indent+'px;' :''\r\n    weight=valEmpty(this.formData.weight) !=\"\" ? 'font-weight:'+this.formData.weight+';' :''\r\n    fStyle=valEmpty(this.formData.fStyle) !=\"\" ? 'font-style:'+this.formData.fStyle+';' :''\r\n    align=valEmpty(this.formData.align) !=\"\" ? 'text-align:'+this.formData.align+';' :''\r\n\r\n    bgColor=valEmpty(this.formData.bgColor)\r\n\r\n\r\n    onBgStyle=bgColor !=\"\" ?  'background-color:'+bgColor+';' : ''\r\n\r\n    oLine=valEmpty(this.formData.oLine)\r\n    through=valEmpty(this.formData.through)\r\n    uLine=valEmpty(this.formData.uLine)\r\n    onlineStyle=textLine(oLine,through,uLine) //处理线\r\n    onlineStyle=onlineStyle !=\"\" ?  'text-decoration:'+onlineStyle+';' : ''\r\n\r\n    let htmlLink=''\r\n    let fm1=0\r\n    let fm2=0\r\n    let fm1Style=''\r\n    let fm2Style=''\r\n    let fm3Style=''\r\n    if(dirt==='left' || dirt==='right' ){\r\n      fm1=scrollw\r\n      fm2=scrollh*2  \r\n      fm1Style='right:'+fm1+'px;'\r\n      fm2Style='top:-'+scrollh+'px;right:0px;'\r\n      fm3Style='right:-'+fm1+'px;top:-'+fm2+'px;' \r\n\r\n    }else if(dirt==='up' || dirt==='down'){\r\n      fm1=scrollh\r\n      fm2=scrollh*3\r\n      fm1Style='top:-'+fm1+'px;background-color:red;'\r\n      fm2Style='top:0px;background-color: green;'\r\n      fm3Style='top:'+fm1+'px;background-color: #000;'\r\n    }\r\n    if(conMode==='txt'){\r\n      \r\n      if((dirt==='left' || dirt==='up' || dirt==='right') && behavior===\"scroll\"){\r\n        htmlLink ='<div class=\"rel\"  style=\"'+fm1Style+whStyle+wzStyle+onBgStyle+onlineStyle+family+fSize+color+lHeight+spacing+indent+weight+align+fStyle+'\" >'+content+'</div>'\r\n        htmlLink+='<div class=\"rel\"  style=\"'+fm2Style+whStyle+wzStyle+onBgStyle+onlineStyle+family+fSize+color+lHeight+spacing+indent+weight+align+fStyle+'\" >'+content+'</div>'\r\n        htmlLink+='<div class=\"rel\"  style=\"'+fm3Style+whStyle+wzStyle+onBgStyle+onlineStyle+family+fSize+color+lHeight+spacing+indent+weight+align+fStyle+'\" >'+content+'</div>'\r\n      }else{\r\n        htmlLink ='<div class=\"rel\"  style=\"'+whStyle+wzStyle+onBgStyle+onlineStyle+family+fSize+color+lHeight+spacing+indent+weight+align+fStyle+'\" >'+content+'</div>'\r\n      }\r\n    }else{\r\n      let bgImg=valEmpty(this.formData.bgImg) \r\n      let imgHtml= bgImg !=\"\" ? '<img  src=\"'+bgImg+'\" />': ''\r\n      if((dirt==='left' || dirt==='up' || dirt==='right') && behavior===\"scroll\"){\r\n        htmlLink='<div class=\"'+sccs+'\" style=\"'+fm1Style+whStyle+'\">'+imgHtml+'</div>'\r\n        htmlLink+='<div class=\"'+sccs+'\" style=\"'+fm2Style+whStyle+'\">'+imgHtml+'</div>'\r\n        htmlLink+='<div class=\"'+sccs+'\" style=\"'+fm3Style+whStyle+'\">'+imgHtml+'</div>'\r\n      }else{\r\n        htmlLink='<div class=\"'+sccs+'\" style=\"'+whStyle+'\">'+imgHtml+'</div>'\r\n      }\r\n    }\r\n    if(href !=\"\"){\r\n      htmlLink='<a '+href+hrefMode+'  >'+htmlLink+'</a>'\r\n    }\r\n\r\n\r\n    htmlLink='<marquee class=\"rel\" onmouseover=this.stop() onmouseout=this.start()  style=\"width:100%;height:100%;overflow:hidden;\" '+amount+delay+' direction=\"'+dirt+'\" behavior=\"'+behavior+'\">'+htmlLink+'</marquee>'\r\n\r\n    return '<div class=\"abs\" style=\"top: '+top+'; left:'+left+'; width:'+width+'px; height:'+height+'px;\" >'+htmlLink+'</div>'\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  //文本框预览样式\r\n  updatePreviewStyle($objElem){\r\n    let $defElem=$objElem.parent().parent().parent().find('.font-textarea .multi-textarea')\r\n    if($objElem.parent().hasClass(\"nromal-wrap\")){\r\n       $defElem=$objElem.parent().parent().find('.font-textarea .multi-textarea')\r\n    }\r\n    let $fontElem=$defElem.parent().prev()  //查找上一个兄弟节点，不是所有的兄弟节点\r\n    let isfontF= $fontElem.hasClass(\"font-f\")  ? true :false\r\n\r\n    if($defElem.length>0){\r\n      if(isfontF){\r\n        let deline=this.formData.muLine\r\n        if(this.formData.moLine){\r\n          deline+=' '+this.formData.moLine\r\n        }else{\r\n          if(this.formData.mthrough){\r\n            deline+=' '+this.formData.mthrough\r\n          }\r\n          if(deline ===\"\") deline='none'\r\n\r\n          $defElem.css(\"font-family\",this.formData.mfamily)\r\n          $defElem.css('color', this.formData.mcolor)\r\n          $defElem.css('background-color', this.formData.mbgColor)\r\n          $defElem.css('font-size', parseInt(this.formData.mfSize))\r\n          $defElem.css('line-height', this.formData.mlHeight+'px')\r\n          $defElem.css('letter-spacing', parseInt(this.formData.mspacing))\r\n          $defElem.css('text-indent', parseInt(this.formData.mindent))\r\n\r\n          $defElem.css('text-align', this.formData.malign)\r\n          $defElem.css(\"font-weight\",this.formData.mweight)\r\n          $defElem.css(\"font-style\",this.formData.mfStyle)\r\n          $defElem.css(\"text-decoration\",deline)\r\n        }\r\n      }else{\r\n        let deline=this.formData.uLine\r\n        if(this.formData.oLine){\r\n          deline+=' '+this.formData.oLine\r\n        }else{\r\n          if(this.formData.through){\r\n            deline+=' '+this.formData.through\r\n          }\r\n          if(deline ===\"\") deline='none'\r\n\r\n          $defElem.css(\"font-family\",this.formData.family)\r\n          $defElem.css('color', this.formData.color)\r\n          $defElem.css('background-color', this.formData.bgColor)\r\n          $defElem.css('font-size', parseInt(this.formData.fSize))\r\n          $defElem.css('line-height', this.formData.lHeight+'px')\r\n          $defElem.css('letter-spacing', parseInt(this.formData.spacing))\r\n          $defElem.css('text-indent', parseInt(this.formData.indent))\r\n\r\n          $defElem.css('text-align', this.formData.align)\r\n          $defElem.css(\"font-weight\",this.formData.weight)\r\n          $defElem.css(\"font-style\",this.formData.fStyle)\r\n          $defElem.css(\"text-decoration\",deline)\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n //弹出来设置文字选中 转换成小写：toLowerCase()\r\n  getFontActive($objElem){\r\n    let $elemInput=$objElem.find('input[type=hidden]')\r\n    let $attrName=$elemInput.attr('name').toLowerCase()\r\n    if($objElem.parent().hasClass(\"font-f\")){\r\n      $attrName = $attrName.substr(1)\r\n    }\r\n    if($objElem.hasClass(\"active\")){\r\n      $objElem.removeClass(\"active\")\r\n      switch($attrName) {\r\n        case 'weight':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'fstyle':\r\n          $elemInput.val('normal')\r\n          break;\r\n        case 'oline':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'through':\r\n          $elemInput.val('')\r\n          break;\r\n        case 'uline':\r\n          $elemInput.val('')\r\n          break;\r\n      }\r\n    }else{\r\n      $objElem.addClass(\"active\")\r\n      switch($attrName) {\r\n        case 'weight':\r\n          $elemInput.val(\"600\")\r\n          break;\r\n        case 'fstyle':\r\n          $elemInput.val('italic')\r\n          break;\r\n        case 'oline':\r\n          $elemInput.val('overline')\r\n          break;\r\n        case 'through':\r\n          $elemInput.val('line-through')\r\n          break;\r\n        case 'uline':\r\n          $elemInput.val('underline')\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  initPorpPanel() {\r\n    console.log('initTextPorpPanel')\r\n    let that = this\r\n\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.marquee-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    setFontOption($propPanel.find('.font-select'))\r\n\r\n    this.updatePropPanel();\r\n    //收缩 重新加载\r\n    let element = layui.element\r\n    element.render(\"collapse\")\r\n    //滚动属性\r\n    let $dirtSelect = $propPanel.find('select[name=dirt]')\r\n    $dirtSelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({dirt: val})\r\n    })\r\n    let $behaviorSelect = $propPanel.find('select[name=behavior]')\r\n    $behaviorSelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({behavior: val})\r\n    })\r\n    let $amountInput = $propPanel.find('input[type=text][name=amount]')\r\n    $amountInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({amount: val})\r\n    })\r\n    let $delayInput = $propPanel.find('input[type=text][name=delay]')\r\n    $delayInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({delay: val})\r\n    })\r\n    let $scjlInput = $propPanel.find('input[type=text][name=scjl]')\r\n    $scjlInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({scjl: val})\r\n    })\r\n\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n      that.update({hrefMode: val ? '_blank' : ''})\r\n    })\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({href: val})\r\n    })\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.change(function() {\r\n      let val= $(this).prop('value')\r\n      that.update({family: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({color: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({bgColor: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({fSize: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $lHeightInput = $propPanel.find('input[type=text][name=lHeight]')\r\n    $lHeightInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({lHeight: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]')\r\n    $spacingInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({spacing: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]')\r\n    $indentInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({indent: val})\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]')\r\n    $contentTextarea.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({content: val})\r\n    })\r\n\r\n    let $conModeRadio = $propPanel.find('input[type=radio][name=conMode]')\r\n    $conModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.update({conMode: val})\r\n      conModeChanged($propPanel, val)\r\n    })\r\n     let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({bgImg: val})\r\n    })\r\n\r\n\r\n\r\n    //正反  文字对齐 事件\r\n    let $alignRadio = $propPanel.find('.font-setting .font-item-radio')\r\n    $alignRadio.click(function() {\r\n      let val = $(this).attr('data-val')\r\n      let $alignParent=$(this).parent()\r\n      let isOff= $alignParent.hasClass(\"font-f\")  ? true :false\r\n      if(isOff){\r\n        that.update({malign: val})\r\n      }else{\r\n        that.update({align: val})\r\n      }\r\n      $alignParent.find('.font-item-radio').removeClass(\"active\")\r\n      $(this).addClass(\"active\")\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n    //转换成小写：toLowerCase()\r\n    let $fontCheckbox = $propPanel.find('.font-z .font-item-checkbox')\r\n    $fontCheckbox.click(function() {\r\n      let $elemInput=$(this).find('input[type=hidden]')\r\n      let $attrName = $elemInput.attr('name').toLowerCase()\r\n      if($(this).hasClass(\"active\")){\r\n        $(this).removeClass(\"active\")\r\n        switch($attrName) {\r\n          case 'weight':\r\n            that.update({weight: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'fstyle':\r\n            that.update({fStyle: 'normal'})\r\n            $elemInput.val(\"normal\")\r\n            break;\r\n          case 'oline':\r\n            that.update({oLine: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'through':\r\n            that.update({through: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n          case 'uline':\r\n            that.update({uLine: ''})\r\n            $elemInput.val(\"\")\r\n            break;\r\n        }\r\n      }else{\r\n        $(this).addClass(\"active\")\r\n        switch($attrName) {\r\n          case 'weight':\r\n            that.update({weight: '600'})\r\n            $elemInput.val(\"600\")\r\n            break;\r\n          case 'fstyle':\r\n            that.update({fStyle: 'italic'})\r\n            $elemInput.val(\"italic\")\r\n            break;\r\n          case 'oline':\r\n            that.update({oLine: 'overline'})\r\n            $elemInput.val(\"overline\")\r\n            break;\r\n          case 'through':\r\n            that.update({through: 'line-through'})\r\n            $elemInput.val(\"line-through\")\r\n            break;\r\n          case 'uline':\r\n            that.update({uLine: 'underline'})\r\n            $elemInput.val(\"underline\")\r\n            break;\r\n        }\r\n      }\r\n      that.updatePreviewStyle($(this))\r\n    })\r\n\r\n    $propPanel.find('.editor-btns').on('click', function() {\r\n      that.openEditDialog()\r\n    })\r\n  }\r\n  openEditDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let $layerElem = null;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '滚动文子/图片设置',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '600px'],\r\n      success: function(layerElem, index) {\r\n        $layerElem = $(layerElem)\r\n        setFontOption($layerElem.find('.font-select'))\r\n\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n\r\n        $layerElem.find(\".sp-preview-inner\").css(\"background-color\",'')\r\n\r\n\r\n        if (that.formData.color) {\r\n         let $colorInput=$layerElem.find('input[type=text][name=color]')\r\n         $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.color)\r\n        }\r\n        if (that.formData.bgColor) {\r\n         let $bgColorInput=$layerElem.find('input[type=text][name=bgColor]')\r\n         $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.bgColor)\r\n        }\r\n        if (that.formData.mcolor) {\r\n         let $mcolorInput=$layerElem.find('input[type=text][name=mcolor]')\r\n         $mcolorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mcolor)\r\n        }\r\n        if (that.formData.mbgColor) {\r\n         let $mbgColorInput=$layerElem.find('input[type=text][name=mbgColor]')\r\n         $mbgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",that.formData.mbgColor)\r\n        }\r\n\r\n        if(that.formData.weight==\"600\"){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(0)').addClass('active')\r\n        }\r\n\r\n        if(that.formData.fStyle=='italic'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(1)').addClass('active')\r\n        }\r\n        if(that.formData.oLine=='overline'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(2)').addClass('active')\r\n        }\r\n        if(that.formData.through=='line-through'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(3)').addClass('active')\r\n        }\r\n        if(that.formData.uLine=='underline'){\r\n          $layerElem.find('.font-z .font-item-checkbox:eq(4)').addClass('active')\r\n        }\r\n\r\n        $layerElem.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n\r\n\r\n\r\n        $layerElem.find('.font-setting .font-item-checkbox').on('click', function() {\r\n           that.getFontActive($(this));\r\n        })\r\n\r\n        $layerElem.find('.font-setting .font-item-radio').on('click', function() {\r\n          let $objElem=$(this)\r\n          $objElem.parent().find('.font-item-radio').removeClass(\"active\")\r\n          $objElem.addClass(\"active\")\r\n        })\r\n        conModeChanged($layerElem, that.formData.conMode)\r\n\r\n\r\n\r\n      },\r\n      content: `<form class=\"layui-form\" lay-filter=\"marqueeComponentForm\">\r\n        <div class=\"layui-tab layui-tab-brief\">\r\n          <ul class=\"layui-tab-title\">\r\n            <li class=\"layui-this\">默认设置</li>\r\n            <li>滚动动画</li>\r\n          </ul>\r\n          <div class=\"layui-tab-content\">\r\n            <div class=\"layui-tab-item layui-show\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">应用名称</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"appLabel\" class=\"layui-input\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">内容设置</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"conMode\" lay-filter=\"conMode\" value=\"txt\" title=\"文字\" >\r\n                  <input type=\"radio\" name=\"conMode\" lay-filter=\"conMode\" value=\"img\" title=\"图片\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item txt-box\">\r\n                <label class=\"layui-form-label\">文字内容</label>\r\n                <div class=\"layui-input-inline text-panel\" style=\"width:343px;\">\r\n                    <label class=\"label-con\" style=\"letter-spacing:13px;\">字体</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; height: 36px;\">\r\n                      <select class=\"font-select\"   name=\"family\" >\r\n                      </select>\r\n                    </div>\r\n                    <label class=\"label-con\">文字颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"color\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">文字大小</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 90px; \">\r\n                      <input type=\"text\" name=\"fSize\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">背景颜色</label>\r\n                    <div class=\"pagecolorpanel\"  >\r\n                        <div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color:transparent;\"></div></div></div>\r\n                        <input class=\"pagecolor\" name=\"bgColor\"  type=\"text\"  />\r\n                        <span class=\"clear-color-button\"></span>\r\n                    </div>\r\n                    <label class=\"label-con\">行  高</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"lHeight\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">字  距</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"spacing\" class=\"layui-input\">\r\n                    </div>\r\n                    <label class=\"label-con\">缩  进</label>\r\n                    <div class=\"labelpanel\"   style=\"width: 65px; \">\r\n                      <input type=\"text\" name=\"indent\" class=\"layui-input\">\r\n                    </div>\r\n                    <div class=\"font-setting font-z\">\r\n                      <span  title=\"加粗\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕅ</icon><input name=\"weight\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"斜体\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕆ</icon><input name=\"fStyle\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"上划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꔣ</icon><input name=\"oLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"中划线\" class=\"font-item-checkbox\" data-val=\"\"><icon>ꕇ</icon><input name=\"through\" type=\"hidden\"   value=\"\" /></span>\r\n                      <span  title=\"下划线\" class=\"font-item-checkbox\" data-val=\"\" ><icon>ꕈ</icon><input name=\"uLine\" type=\"hidden\"   value=\"\" /></span>\r\n                      <i class=\"spaceline\"></i>\r\n                      <span  title=\"文字左对齐\" class=\"font-item-radio\" data-val=\"left\" ><icon>ꕉ</icon></span>\r\n                      <span  title=\"文字居中对齐\" class=\"font-item-radio\"  data-val=\"center\" ><icon>ꕐ</icon></span>\r\n                      <span  title=\"文字右对齐\" class=\"font-item-radio\"  data-val=\"right\" ><icon>ꕑ</icon></span>\r\n                    </div>\r\n                    <textarea   name=\"content\"  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item img-box\">\r\n                <label class=\"layui-form-label\">图片地址</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"bgImg\" type=\"text\" class=\"layui-input\">\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item \">\r\n                <label class=\"layui-form-label\">链接地址</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"href\" class=\"layui-input\"></div>\r\n                <div><input name=\"hrefMode\" value=\"_blank\" type=\"checkbox\" lay-skin=\"primary\" title=\"新窗口打开\"></div>\r\n              </div>\r\n\r\n\r\n\r\n            </div>\r\n            <div class=\"layui-tab-item\">\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">滚动方式</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"behavior\" >\r\n                    <option value=\"scroll\" selected=\"selected\">循环滚动</option>\r\n                    <option value=\"slide\">单次滚动</option>\r\n                    <option value=\"alternate\">来回滚动</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">滚动方向</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <select   name=\"dirt\" >\r\n                    <option value=\"left\" selected=\"selected\">从右至左</option>\r\n                    <option value=\"right\">从左至右</option>\r\n                    <option value=\"down\">从上至下</option>\r\n                    <option value=\"up\">从下至上</option>\r\n                 </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"layui-form-item \">\r\n                <label class=\"layui-form-label\">滚动速度</label>\r\n                <div class=\"layui-input-inline\"><input type=\"text\" name=\"amount\" class=\"layui-input\"></div>\r\n              </div>\r\n              <div class=\"layui-form-item\">\r\n                <label class=\"layui-form-label\">起始位置</label>\r\n                <div class=\"layui-input-inline\">\r\n                  <input type=\"radio\" name=\"dirtPos\" lay-filter=\"dirtPos\" value=\"left\" title=\"左侧\" >\r\n                  <input type=\"radio\" name=\"dirtPos\" lay-filter=\"dirtPos\" value=\"right\" title=\"右侧\">\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <div class=\"layui-ft-btn\">\r\n            <button class=\"layui-btn\" lay-submit lay-filter=\"marqueeComponentForm\">确定</button>\r\n            <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>`\r\n    });\r\n    var form = layui.form\r\n    form.render();\r\n    form.on('radio(conMode)', function(data){\r\n      console.log(data)\r\n      conModeChanged($layerElem, data.value)\r\n    })\r\n\r\n    form.on('submit(marqueeComponentForm)', function(data) {\r\n      that.formData = data.field;\r\n      that.formData.align = $layerElem.find('.font-z .font-item-radio.active').data('val')\r\n      that.formData.malign = $layerElem.find('.font-f .font-item-radio.active').data('val')\r\n\r\n      that.update(that.formData)\r\n      that.updatePropPanel()\r\n\r\n      layer.close(layerNo)\r\n      return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。\r\n    });\r\n    form.val('marqueeComponentForm', that.formData)\r\n  }\r\n  doUpdate(formData) {\r\n    let that = this\r\n    const amount=this.formData.amount;\r\n    const dirt=this.formData.dirt\r\n    this.$content.attr(\"scrollamount\",amount)\r\n    this.$content.attr(\"scrolldelay\",this.formData.delay)\r\n    this.$content.attr(\"behavior\",this.formData.behavior)\r\n    this.$content.attr(\"direction\",this.formData.dirt)\r\n\r\n\r\n    let conMode=this.formData.conMode;\r\n    let $defPanel=that.$contentBox.find(\".sc-text\")\r\n    let $imgPanel=that.$contentBox.find(\".sc-img\")\r\n    if(conMode==='txt'){\r\n      let deline=this.formData.uLine;\r\n      if(this.formData.oLine){\r\n        deline+=' '+this.formData.oLine\r\n      }\r\n      if(this.formData.through){\r\n        deline+=' '+this.formData.through\r\n      }\r\n      if(deline ===\"\") deline='none'\r\n\r\n\r\n      if($defPanel.length <=0){\r\n        that.$content.append(\"<div class='sc-text sc-box'></div>\")\r\n        $defPanel=that.$contentBox.find(\".sc-text\")\r\n      }\r\n      $defPanel.css('background-color', this.formData.bgColor)\r\n      $defPanel.css(\"font-family\",this.formData.family)\r\n      $defPanel.css('color', this.formData.color)\r\n      $defPanel.css('font-size', parseInt(this.formData.fSize))\r\n      $defPanel.css('line-height', this.formData.lHeight+'px')\r\n      $defPanel.css('letter-spacing', parseInt(this.formData.spacing))\r\n      $defPanel.css('text-indent', parseInt(this.formData.indent))\r\n\r\n      $defPanel.css('display', 'inline-block')\r\n      $defPanel.css('text-align', this.formData.align)\r\n      $defPanel.css(\"font-weight\",this.formData.weight)\r\n      $defPanel.css(\"font-style\",this.formData.fStyle)\r\n      $defPanel.css(\"text-decoration\",deline)\r\n      $defPanel.text(formData.content)\r\n      $imgPanel.remove()\r\n    }else if(conMode==='img'){\r\n      $defPanel.remove()\r\n      if($imgPanel.length <=0)\r\n        that.$content.append('<div class=\"sc-img sc-box\"  ><img src=\"'+this.formData.bgImg+'\"  style=\"display: block;\"/></div>')\r\n      $imgPanel=that.$contentBox.find(\".sc-img img\")\r\n      $imgPanel.attr(\"src\",this.formData.bgImg)\r\n \r\n    }\r\n\r\n    let $scPanel=that.$contentBox.find(\".sc-box\")\r\n    that.formData.scrlw =$scPanel.width()\r\n    that.formData.scrlh =$scPanel.height()\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n  }\r\n  updatePropPanel(){\r\n    let that = this\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $dirtSelect = $propPanel.find('select[name=dirt]')\r\n    $dirtSelect.val(this.formData.dirt)\r\n    let $behaviorSelect = $propPanel.find('select[name=behavior]')\r\n    $behaviorSelect.val(this.formData.behavior)\r\n    let $amountInput = $propPanel.find('input[type=text][name=amount]')\r\n    $amountInput.val(this.formData.amount)\r\n    let $delaytInput = $propPanel.find('input[type=text][name=delay]')\r\n    $delaytInput.val(this.formData.delay)\r\n    let $scjlInput = $propPanel.find('input[type=text][name=scjl]')\r\n    $scjlInput.val(this.formData.scjl)\r\n\r\n    let $conModeRadio = $propPanel.find('input[type=radio][name=conMode]')\r\n    $conModeRadio.filter(`[value=\"${this.formData.conMode}\"]`).prop('checked', true)\r\n    conModeChanged($propPanel, this.formData.conMode)\r\n\r\n    let $bgImgInput = $propPanel.find('input[type=text][name=bgImg]')\r\n    $bgImgInput.val(this.formData.bgImg)\r\n\r\n    let $familySelect = $propPanel.find('select[name=family]')\r\n    $familySelect.val(this.formData.family)\r\n\r\n    let $colorInput = $propPanel.find('input[type=text][name=color]')\r\n    $colorInput.val(this.formData.color)\r\n\r\n    let $fSizeInput = $propPanel.find('input[type=text][name=fSize]')\r\n    $fSizeInput.val(this.formData.fSize)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n\r\n    let $lHeightInput = $propPanel.find('input[type=text][name=lHeight]')\r\n    $lHeightInput.val(this.formData.lHeight)\r\n\r\n    let $spacingInput = $propPanel.find('input[type=text][name=spacing]')\r\n    $spacingInput.val(this.formData.spacing)\r\n\r\n    let $indentInput = $propPanel.find('input[type=text][name=indent]')\r\n    $indentInput.val(this.formData.indent)\r\n\r\n    let $contentTextarea = $propPanel.find('textarea[name=content]')\r\n    $contentTextarea.val(this.formData.content)\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n\r\n    if (this.formData.color) {\r\n       $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.color)\r\n    }else{\r\n      $colorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n    if (this.formData.bgColor) {\r\n       $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n\r\n\r\n   //右侧  正面字体样式设置\r\n    $propPanel.find(`.font-setting span`).removeClass('active')\r\n    let $weightInput = $propPanel.find('.font-z input[type=hidden][name=weight]')\r\n    if(that.formData.weight==\"600\"){\r\n      $weightInput.val(\"600\")\r\n      $weightInput.parent().addClass(\"active\")\r\n    }else{\r\n      $weightInput.val(\"\")\r\n    }\r\n    let $fStyleInput = $propPanel.find('.font-z input[type=hidden][name=fStyle]')\r\n    if(that.formData.fStyle==\"italic\"){\r\n      $fStyleInput.val(\"italic\")\r\n      $fStyleInput.parent().addClass(\"active\")\r\n    }else{\r\n      $fStyleInput.val(\"normal\")\r\n    }\r\n    let $oLineInput = $propPanel.find('.font-z input[type=hidden][name=oLine]')\r\n    if(that.formData.oLine==\"overline\"){\r\n      $oLineInput.val(\"overline\")\r\n      $oLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $oLineInput.val(\"\")\r\n    }\r\n\r\n    let $throughInput = $propPanel.find('.font-z input[type=hidden][name=through]')\r\n    if(that.formData.through==\"line-through\"){\r\n      $throughInput.val(\"line-through\")\r\n      $throughInput.parent().addClass(\"active\")\r\n    }else{\r\n      $throughInput.val(\"\")\r\n    }\r\n    let $uLineInput = $propPanel.find('.font-z input[type=hidden][name=uLine]')\r\n    if(that.formData.uLine==\"underline\"){\r\n      $uLineInput.val(\"underline\")\r\n      $uLineInput.parent().addClass(\"active\")\r\n    }else{\r\n      $uLineInput.val(\"\")\r\n    }\r\n\r\n\r\n\r\n    $propPanel.find(`.font-z .font-item-radio[data-val=\"${that.formData.align}\"]`).addClass('active')\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\n\r\n","import './style/index.scss';\r\nimport './style/common.scss';\r\nimport './style/patch.scss';\r\nimport './style/component.scss';\r\nrequire('./patch')\r\nimport StageContainer from './StageContainer'\r\nimport ComponentBar from './ComponentBar'\r\nimport Header from './Header';\r\nimport PageConfig from './PageConfig';\r\nimport ToolBar from './ToolBar';\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!');\r\n}\r\n\r\n$(function() {\r\n  // let pageConfig = new PageConfig()\r\n  let stageCt = new StageContainer();\r\n  stageCt.createStage();\r\n  let componentBar = new ComponentBar(stageCt)\r\n  let toolbar = new ToolBar(stageCt)\r\n  let header = new Header(stageCt)\r\n})\r\n","Array.prototype.remove = function (val) {\r\n  var index = this.indexOf(val);\r\n  if (index > -1) {\r\n    this.splice(index, 1);\r\n  }\r\n};\r\n/*\r\nwindow.parseIntNative = window.parseInt\r\nfunction parseInt(num) {\r\n  if (num) {\r\n     return window.parseIntNative(num)\r\n  }\r\n  return ''\r\n}\r\nwindow.parseInt = parseInt\r\n*/\r\n ","import Stage from './Stage'\r\nimport PageConfig from './PageConfig';\r\nexport default class StageContainer {\r\n  $el: JQuery\r\n  stages: Array<Stage> = []\r\n  curStage: Stage = null\r\n  constructor() {\r\n    let $stageCt = $('.stage-ct');\r\n    this.stages = [];\r\n    this.$el = $stageCt;\r\n    this.setupHotkey()\r\n  }\r\n  createStage() {\r\n    let stage = new Stage();\r\n    stage.create(this.$el);\r\n    this.curStage = stage;\r\n    this.stages.push(stage);\r\n  }\r\n\r\n  setupHotkey() {\r\n    let that = this\r\n    let hotKeysArr = [\r\n      'up',\r\n      'down',\r\n      'left',\r\n      'right',\r\n      'del',\r\n      'ctrl+c',\r\n      'ctrl+v',\r\n      'ctrl+z',\r\n      'ctrl+y',\r\n      'ctrl+a',\r\n    ]\r\n    // @ts-ignore\r\n    hotkeys(hotKeysArr.join(','), function(event, handler) {\r\n      let curStage = that.curStage\r\n      event.preventDefault()\r\n      console.log(handler.key)\r\n      switch(handler.key) {\r\n        case hotKeysArr[0]:  {\r\n          curStage.move1PX('up')\r\n          break;\r\n        }\r\n        case hotKeysArr[1]:  {\r\n          curStage.move1PX('down')\r\n          break;\r\n        }\r\n        case hotKeysArr[2]:  {\r\n          curStage.move1PX('left')\r\n          break;\r\n        }\r\n        case hotKeysArr[3]:  {\r\n          curStage.move1PX('right')\r\n          break;\r\n        }\r\n        case hotKeysArr[4]: {\r\n          if (curStage && curStage.selectedComponents[0]) {\r\n            curStage.selectedComponents[0].deleteSelf()\r\n          }\r\n        }\r\n        case hotKeysArr[5]: {\r\n          console.log('copy')\r\n          break;\r\n        }\r\n        case hotKeysArr[6]: {\r\n          console.log('paste')\r\n          break;\r\n        }\r\n        case hotKeysArr[7]: {\r\n          break;\r\n        }\r\n        case hotKeysArr[8]: {\r\n          break;\r\n        }\r\n        case hotKeysArr[9]: {\r\n          break;\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","import Draggable from './Draggable';\r\nimport Ruler from './Ruler';\r\nimport Component from './Component';\r\nimport HotAreaComponent from './HotAreaComponent';\r\nimport ImgComponent from './ImgComponent';\r\nimport TextComponent from './TextComponent';\r\nimport WangComponent from './WangComponent';\r\nimport VideoComponent from './VideoComponent';\r\nimport ImgAntComponent from './ImgAntComponent';\r\nimport ImgZfComponent from './ImgZfComponent';\r\nimport MarqueeComponent from './MarqueeComponent';\r\n\r\nimport {bgImage} from './commonCss';\r\nimport ActionManager from \"./ActionManager\"\r\nexport default class Stage {\r\n  static STATE: Array<string> = ['hotarea', 'selection', 'handle']\r\n  EVENTS: Array<string> = []\r\n  isRuler: boolean = true\r\n  drags: Array<Draggable> = []\r\n  selectedComponents: Array<Component> = []\r\n  components: Array<Component> = []\r\n  $el: JQuery\r\n  $canvasWrap: JQuery\r\n  $canvasBox: JQuery\r\n  $scrollContent: JQuery\r\n  $canvas: JQuery\r\n  $componentTopBar: JQuery = null;\r\n  $componentBottomBar: JQuery = null;\r\n  $inputX: JQuery = null;\r\n  $inputY: JQuery = null;\r\n  $inputWidth: JQuery = null;\r\n  $inputHeight: JQuery = null;\r\n  focusComponent: Component = null;\r\n  myScroll: any\r\n  selector = null\r\n  paddingWidth: number\r\n  paddingHeight: number\r\n  ruler: Ruler\r\n  pageWidth: number = 1920\r\n  pageHeight: number = 2561\r\n  state: string = Stage.STATE[0]\r\n  propPanel: any = {}\r\n  actionManager: ActionManager = new ActionManager();\r\n  props: any = {\r\n    bgColor: '#FFFFFF',\r\n    position: '50% 0%',\r\n    overflow: 'hidden'\r\n  }\r\n  id: string\r\n  curMouseEvent: MouseEvent = null;\r\n  constructor() {\r\n    this.EVENTS = this.isTouch() ?\r\n    ['touchstart', 'touchmove', 'touchend'] : ['mousedown', 'mousemove', 'mouseup'];\r\n    this.id = this.getRandomStr(5)\r\n  }\r\n  create($stageCt) {\r\n    let canvasWidth = this.pageWidth;\r\n    let canvasHeight = this.pageHeight;\r\n    let $el = $('<div class=\"stage\"></div>');\r\n\r\n    let $canvasWrap, $scrollContent, $canvas;\r\n\r\n    $stageCt.append($el);\r\n\r\n    $canvasWrap = $(`\r\n      <div class=\"canvas-wrap\">\r\n        <div>\r\n          <div class=\"canvas-box\">\r\n            <div class=\"canvas\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n\r\n    this.paddingWidth = Math.ceil($el.width() / 100) * 100;\r\n    this.paddingHeight = Math.ceil($el.height() / 100) * 100;\r\n    let ruler;\r\n    if (this.isRuler) {\r\n      ruler = new Ruler();\r\n      ruler.create($el);\r\n      $el.append($canvasWrap);\r\n    } else {\r\n      $el.append($canvasWrap);\r\n      $canvasWrap.css('left', 0);\r\n      $canvasWrap.css('top', 0)\r\n    }\r\n\r\n    $scrollContent = $canvasWrap.find('> div');\r\n    $canvas = $canvasWrap.find('.canvas');\r\n    this.$canvas = $canvas;\r\n    this.$canvasBox = $canvasWrap.find('.canvas-box');\r\n    this.$canvasWrap = $canvasWrap;\r\n    this.$el = $el;\r\n    this.ruler = ruler;\r\n    this.$scrollContent = $scrollContent;\r\n    this.createIScroll()\r\n    this.layoutCanvas(canvasWidth, canvasHeight);\r\n    let $rulerX = ruler.$rulerX[0];\r\n    let $rulerY = ruler.$rulerY[0];\r\n    let EVENTS = this.EVENTS;\r\n    $rulerX.addEventListener(EVENTS[0], event => {\r\n      let $guideLine = $('<div class=\"guide-line guide-lineX\"><div></div></div>');\r\n      this.$el.append($guideLine)\r\n      let drag = new Draggable($guideLine[0], {\r\n        snapAnchor: $guideLine[0].children[0],\r\n        minLeft: 20,\r\n        axis: 'y',\r\n        cursor: 'row-resize',\r\n        resizable: false,\r\n      })\r\n      $guideLine.css('top', (event.clientY - this.$el[0].getBoundingClientRect().top - $guideLine[0].children[0]['offsetTop']) + 'px')\r\n      drag.start(event)\r\n      drag.onStop = function(event) {\r\n        if (drag.el.offsetTop <= 15) {\r\n          $(drag.el).remove();\r\n        }\r\n      }\r\n    })\r\n\r\n    $rulerY.addEventListener(EVENTS[0], event => {\r\n      let $guideLine = $('<div class=\"guide-line guide-lineY\"><div></div></div>');\r\n      this.$el.append($guideLine)\r\n\r\n      let drag = new Draggable($guideLine[0], {\r\n        snapAnchor: $guideLine[0].children[0],\r\n        minTop: 20,\r\n        axis: 'x',\r\n        cursor: 'col-resize',\r\n        resizable: false,\r\n      })\r\n      $guideLine.css('left', (event.clientX - this.$el[0].getBoundingClientRect().left - $guideLine[0].children[0]['offsetLeft']) + 'px')\r\n      drag.start(event)\r\n      drag.onStop = function(event) {\r\n        if (drag.el.offsetLeft <= 15) {\r\n          $(drag.el).remove();\r\n        }\r\n      }\r\n    })\r\n\r\n    this.selector = $scrollContent.selectable({\r\n      disabled: true,\r\n      distance: 1,\r\n      filter: \".draggable\",\r\n      selected: ( event, ui ) => {\r\n        this.selectComponentByElem(ui.selected);\r\n      }\r\n    });\r\n\r\n    this.setupEvent();\r\n    this.createComponentToolbar();\r\n    this.initPorpPanel()\r\n\r\n    this.checkStore()\r\n    this.autoStore()\r\n  }\r\n\r\n  selectComponentByElem(elem) {\r\n    for (let c of this.components) {\r\n      if (c.$el[0] === elem) {\r\n        this.selectComponent(c, 1)\r\n      }\r\n    }\r\n  }\r\n\r\n  createIScroll(disableMouse = true, x = 0, y = 0) {\r\n    // @ts-ignore\r\n    this.myScroll = new IScroll(this.$canvasWrap[0], {\r\n      scrollX: true,\r\n      freeScroll: true,\r\n      startX: x,\r\n      startY: y,\r\n      probeType: 3,\r\n      scrollbars: true,\r\n      mouseWheel: true,\r\n      HWCompositing: false,\r\n      interactiveScrollbars: true,\r\n      disableMouse: disableMouse,\r\n      disablePointer: disableMouse,\r\n      disableTouch: disableMouse\r\n    });\r\n    let ruler = this.ruler\r\n    this.myScroll.on('scroll', function() {\r\n      if (ruler) {\r\n        ruler.setX(this.x);\r\n        ruler.setY(this.y)\r\n      }\r\n    });\r\n  }\r\n\r\n  layoutCanvas(canvasWidth, canvasHeight) {\r\n    let startX = 0, startY = 0, marginLeft = 0, marginTop = 0;\r\n    let scrollContentWidth = canvasWidth, scrollContentHeight = canvasHeight;\r\n    marginLeft = this.paddingWidth / 2;\r\n    marginTop = this.paddingHeight / 2;\r\n    scrollContentWidth = Math.ceil(canvasWidth / 50) * 50 + this.paddingWidth;\r\n    scrollContentHeight = Math.ceil(canvasHeight / 50) * 50 + this.paddingHeight;\r\n    if (canvasWidth < this.$canvasWrap.width()) {\r\n      startX = scrollContentWidth / 2 - this.$canvasWrap.width() / 2;\r\n    } else {\r\n      startX = this.paddingWidth / 2;\r\n    }\r\n    if (canvasHeight < this.$canvasWrap.height()) {\r\n      startY = scrollContentHeight / 2 -this.$canvasWrap.height() / 2;\r\n    } else {\r\n      startY = this.paddingHeight / 2\r\n    }\r\n    this.ruler.update(canvasWidth, canvasHeight, this.paddingWidth, this.paddingHeight);\r\n    if (this.ruler) {\r\n      this.ruler.setX(-startX);\r\n      this.ruler.setY(-startY);\r\n    }\r\n    this.$canvas.width(canvasWidth)\r\n    this.$canvas.height(canvasHeight)\r\n    // this.$canvas.css('margin-left', marginLeft + 'px')\r\n    // this.$canvas.css('margin-top', marginTop + 'px')\r\n    this.$canvasBox.width(canvasWidth)\r\n    this.$canvasBox.height(canvasHeight)\r\n    this.$canvasBox.css('margin-left', marginLeft + 'px')\r\n    this.$canvasBox.css('margin-top', marginTop + 'px')\r\n    this.$scrollContent.width(scrollContentWidth)\r\n    this.$scrollContent.height(scrollContentHeight)\r\n    this.myScroll.scrollTo(-startX, -startY)\r\n    this.myScroll.refresh()\r\n  }\r\n\r\n  setCanvasSize(canvasWidth, canvasHeight) {\r\n    this.pageWidth = canvasWidth\r\n    this.pageHeight = canvasHeight\r\n    this.layoutCanvas(canvasWidth, canvasHeight)\r\n  }\r\n\r\n\r\n  setupEvent() {\r\n    let EVENTS = this.EVENTS;\r\n\r\n    let stageElem = this.$el[0]\r\n    let canvasElem = this.$canvas[0];\r\n    stageElem.addEventListener(EVENTS[1], event => {\r\n      let canvasRect = canvasElem.getBoundingClientRect();\r\n      let eventInfo: any = this.getEventInfo(event);\r\n      let left = eventInfo.clientX - canvasRect.left;\r\n      let top = eventInfo.clientY - canvasRect.top;\r\n      if (left >= 0 && top >= 0 && left < this.$canvas.width() && top < this.$canvas.height()) {\r\n        this.ruler.setCursorPos(left, top)\r\n        this.ruler.showCursor();\r\n      } else {\r\n        this.ruler.hideCursor();\r\n      }\r\n    });\r\n\r\n\r\n    canvasElem.addEventListener(EVENTS[1], (event: MouseEvent) => {\r\n      this.curMouseEvent = event;\r\n      if (this.focusComponent) {\r\n        let offsetX = event.clientX - this.$canvas.offset().left;\r\n        let offsetY = event.clientY - this.$canvas.offset().top;\r\n        let size = this.$componentTopBar.height();\r\n        let left = this.focusComponent.left();\r\n        let top = this.focusComponent.top();\r\n        let width = this.focusComponent.width();\r\n        let height = this.focusComponent.height();\r\n        if (width < this.$componentBottomBar.width()) {\r\n          width = this.$componentBottomBar.width();\r\n        }\r\n        if (height < this.$componentBottomBar.height()) {\r\n          height = this.$componentBottomBar.height();\r\n        }\r\n        if (offsetX < left - size || offsetX > left + width + size ||\r\n          offsetY < top - size || offsetY > top + height + size) {\r\n          this.hideComponentToolbar();\r\n        }\r\n      }\r\n    });\r\n\r\n    canvasElem.addEventListener(EVENTS[0], event => {\r\n      if (event.target !== canvasElem) {\r\n        return\r\n      }\r\n      this.unselectComponent();\r\n      if (this.state !== Stage.STATE[0]) {\r\n        return\r\n      }\r\n      let canvasRect = canvasElem.getBoundingClientRect();\r\n      let that = this;\r\n      let eventInfo: any = this.getEventInfo(event);\r\n      let startX = eventInfo.clientX;\r\n      let startY = eventInfo.clientY;\r\n      let component = null\r\n      function move(event) {\r\n        if (component === null) {\r\n          component = new HotAreaComponent();\r\n          that.addComponent(component)\r\n          that.selectComponent(component)\r\n        }\r\n        event = that.getEventInfo(event)\r\n        let curStartX = event.clientX;\r\n        let curStartY = event.clientY;\r\n        let left, top, width, height;\r\n        if (curStartX < startX) {\r\n          left = curStartX;\r\n          width = startX -curStartX;\r\n        } else {\r\n          left = startX;\r\n          width = curStartX - startX;\r\n        }\r\n\r\n        if (curStartY< startY) {\r\n          top = curStartY;\r\n          height = startY -curStartY;\r\n        } else {\r\n          top = startY;\r\n          height = curStartY - startY;\r\n        }\r\n        that.setElementPos(component.$el, left - canvasRect.left, top - canvasRect.top, width, height)\r\n        that.setComponentToolbarPos();\r\n        component.resetPositionInfo()\r\n      }\r\n      function end(event) {\r\n        if (component) {\r\n          if (component.width() < component.minWidth || component.height() < component.minHeight) {\r\n            that.removeComponent(component);\r\n          }\r\n        }\r\n        document.removeEventListener(EVENTS[1], move)\r\n        document.removeEventListener(EVENTS[2], end)\r\n      }\r\n\r\n      document.addEventListener(EVENTS[1], move)\r\n      document.addEventListener(EVENTS[2], end)\r\n    })\r\n  }\r\n\r\n  setState(state) {\r\n    this.state = state\r\n    if (state === Stage.STATE[1]) {\r\n      this.selector.selectable('option', 'disabled', false);\r\n    } else {\r\n      this.selector.selectable('option', 'disabled', true);\r\n    }\r\n\r\n    if (state === Stage.STATE[2]) {\r\n      this.$canvas.addClass('handle')\r\n      let x = this.myScroll.x\r\n      let y = this.myScroll.y\r\n      this.myScroll.destroy()\r\n      this.createIScroll(false, x, y)\r\n    } else {\r\n      this.$canvas.removeClass('handle')\r\n      let x = this.myScroll.x\r\n      let y = this.myScroll.y\r\n      this.myScroll.destroy()\r\n      this.createIScroll(true, x, y)\r\n    }\r\n\r\n  }\r\n\r\n  unselectComponent(component = null) {\r\n    // if (component) {\r\n    //   component.unselect();\r\n    //   // @ts-ignore\r\n    //   this.selectedComponents.remove(component)\r\n    //   return\r\n    // }\r\n    for (let component of this.selectedComponents) {\r\n      component.unselect()\r\n    }\r\n    this.selectedComponents = []\r\n  }\r\n\r\n  selectComponent(component, flag = 0) {\r\n    if (flag === 0) {\r\n      if (this.selectedComponents.length > 0) {\r\n        this.unselectComponent(this.selectedComponents[0])\r\n      }\r\n    }\r\n    component.select();\r\n    this.selectedComponents.push(component);\r\n  }\r\n\r\n  setElementPos($elem, left, top, width, height) {\r\n    $elem.css('left', left + 'px')\r\n    $elem.css('top', top + 'px')\r\n    $elem.css('width', width + 'px')\r\n    $elem.css('height', height + 'px')\r\n  }\r\n\r\n  isTouch() {\r\n    return 'ontouchstart' in window;\r\n  }\r\n\r\n  getEventInfo(event) {\r\n    return this.isTouch() ? event.targetTouches[0] : event\r\n  }\r\n\r\n\r\n  removeComponent(component) {\r\n    component.remove();\r\n    // @ts-ignore\r\n    this.components.remove(component)\r\n  }\r\n\r\n  addComponent(component) {\r\n    component.mount(this);\r\n    this.components.push(component);\r\n  }\r\n\r\n  setComponentAllowOverstep(allowOverstep) {\r\n    this.components.forEach((component) => {\r\n      if (allowOverstep) {\r\n        component['drag'].option('containment', false)\r\n      } else {\r\n        component['drag'].option('containment', 'parent')\r\n      }\r\n    })\r\n  }\r\n\r\n  generateJsonCode() {\r\n    this.props.width = this.pageWidth\r\n    this.props.height = this.pageHeight\r\n    this.props.app = []\r\n    this.components.forEach((component) => {\r\n      this.props.app.push(component.getProps())\r\n    })\r\n    return JSON.stringify(this.props)\r\n  }\r\n\r\n  generateHtmlCode() {\r\n    let appsHtml = []\r\n    this.components.forEach((component) => {\r\n      appsHtml.push(component.toHtml())\r\n    })\r\n    let bgRound=bgImage(this.props.bgImg,this.props.bgColor,this.props.repeat,this.props.position,this.props.attachment)\r\n    return `<div class=\"rel\" style=\"position: relative; overflow: hidden;width: ${this.pageWidth}px; height: ${this.pageHeight}px;background: ${bgRound};\">\r\n      ${appsHtml.join('')}\r\n    </div>`\r\n  }\r\n\r\n  checkStore() {\r\n    let data = localStorage.getItem('data')\r\n    let that = this\r\n    if (data) {\r\n      let layer = layui.layer;\r\n      layer.confirm('检测到您之前有正在编辑的内容，是否继续上次的操作？',  {\r\n        btn: ['确定','关闭'],\r\n        icon: 3,\r\n        title:'提示'\r\n      }, function(idx) {\r\n        layer.close(idx)\r\n        let jsonObj = JSON.parse(data)\r\n        that.loadProp(jsonObj)\r\n      }, function() {\r\n      });\r\n    }\r\n  }\r\n\r\n  autoStore() {\r\n    let that = this\r\n    setInterval(function() {\r\n      if (that.components.length > 0) {\r\n        let jsonCode = that.generateJsonCode()\r\n        localStorage.setItem('data', jsonCode)\r\n      }\r\n    }, 3000)\r\n  }\r\n\r\n  moveBy(dir, com, px) {\r\n    if (com) {\r\n      if (dir === 'up') {\r\n        let top = parseInt(com.$el.css('top'))\r\n        top -= px\r\n        if (!this.props.allowOverstep) {\r\n          if (top < 0) {\r\n            top = 0\r\n          }\r\n        }\r\n        com.$el.css('top', top)\r\n      }\r\n      else if (dir === 'down') {\r\n        let h = com.height()\r\n        let top = parseInt(com.$el.css('top'))\r\n        top += px\r\n        if (!this.props.allowOverstep) {\r\n          if (top + h > this.props.height) {\r\n            top = this.props.height - h\r\n          }\r\n        }\r\n        com.$el.css('top', top)\r\n      }\r\n      else if (dir === 'left') {\r\n        let left = parseInt(com.$el.css('left'))\r\n        left -= px\r\n        if (!this.props.allowOverstep) {\r\n          if (left < 0) {\r\n            left = 0\r\n          }\r\n        }\r\n        com.$el.css('left', left)\r\n      }\r\n      else if (dir === 'right') {\r\n        let w = com.width()\r\n        let left = parseInt(com.$el.css('left'))\r\n        left += px\r\n        if (!this.props.allowOverstep) {\r\n          if (left + w > this.props.width) {\r\n            left = this.props.width - w\r\n          }\r\n        }\r\n        com.$el.css('left', left)\r\n      }\r\n      com.resetPositionInfo()\r\n    }\r\n  }\r\n\r\n  move1PX(dir) {\r\n    this.moveBy(dir, this.selectedComponents[0], 1)\r\n  }\r\n  getRandomStr(len) {\r\n    let charArr = []\r\n    const chars = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n    while (len--) {\r\n      charArr.push(chars[Math.floor(chars.length * Math.random())])\r\n    }\r\n    return charArr.join('')\r\n  }\r\n\r\n  clear() {\r\n    this.components.forEach((component) => {\r\n      component.remove()\r\n    })\r\n    this.components = []\r\n  }\r\n\r\n  // drag scroll scene\r\n  dragScrollTimer = null\r\n  dragScroll(event, drag) {\r\n    let { left, top, width, height } = this.$canvasWrap[0].getBoundingClientRect()\r\n    let leftScrollLimit = -this.paddingWidth / 2\r\n    let rightScrolLimit = -(this.pageWidth + this.paddingWidth / 2 - this.$canvasWrap.width())\r\n    let topScrollLimit = -this.paddingHeight / 2\r\n    let bottomScrolLimit = -(this.pageHeight + this.paddingHeight / 2 - this.$canvasWrap.height())\r\n    let scrollSpeed = 2\r\n    if (event.clientX < left) {\r\n      this.dragScrollTimer = setInterval(() => {\r\n        if (drag.dragStatus === 2) {\r\n          if (this.myScroll.x < leftScrollLimit) {\r\n            this.myScroll.scrollBy(scrollSpeed, 0)\r\n            this.ruler.setX(this.myScroll.x);\r\n          } else {\r\n            this.myScroll.scrollTo(leftScrollLimit, this.myScroll.y)\r\n            clearInterval(this.dragScrollTimer)\r\n          }\r\n        } else {\r\n          clearInterval(this.dragScrollTimer)\r\n        }\r\n      }, 10)\r\n    } else if (event.clientX > left + width - 10) {\r\n      this.dragScrollTimer = setInterval(() => {\r\n        if (drag.dragStatus === 2) {\r\n          if (this.myScroll.x > rightScrolLimit) {\r\n            this.myScroll.scrollBy(-scrollSpeed, 0)\r\n            this.ruler.setX(this.myScroll.x)\r\n          } else {\r\n            this.myScroll.scrollTo(rightScrolLimit, this.myScroll.y)\r\n            clearInterval(this.dragScrollTimer)\r\n          }\r\n        } else {\r\n          clearInterval(this.dragScrollTimer)\r\n        }\r\n      }, 10)\r\n    } else if (event.clientY < top) {\r\n      this.dragScrollTimer = setInterval(() => {\r\n        if (drag.dragStatus === 2) {\r\n          if (this.myScroll.y < topScrollLimit) {\r\n            this.myScroll.scrollBy(0, scrollSpeed)\r\n            this.ruler.setY(this.myScroll.y)\r\n          } else {\r\n            this.myScroll.scrollTo(this.myScroll.x, topScrollLimit)\r\n            clearInterval(this.dragScrollTimer)\r\n          }\r\n        } else {\r\n          clearInterval(this.dragScrollTimer)\r\n        }\r\n      }, 10)\r\n    } else if (event.clientY > top + height - 10) {\r\n      this.dragScrollTimer = setInterval(() => {\r\n        if (drag.dragStatus === 2) {\r\n          if (this.myScroll.y > bottomScrolLimit) {\r\n            this.myScroll.scrollBy(0, -scrollSpeed)\r\n            this.ruler.setY(this.myScroll.y)\r\n          } else {\r\n            this.myScroll.scrollTo(this.myScroll.x, bottomScrolLimit)\r\n            clearInterval(this.dragScrollTimer)\r\n          }\r\n        } else {\r\n          clearInterval(this.dragScrollTimer)\r\n        }\r\n      }, 10)\r\n    }\r\n\r\n    // console.log(left, top)\r\n    // console.log(event.clientX, event.clientY)\r\n  }\r\n\r\n  loadProp(props) {\r\n    this.props = props;\r\n    let propPanel = this.propPanel\r\n    let { $el, $inputWidth, $alignSelect, $inputHeight, $allowOverstep, $inputBg } = propPanel\r\n    $inputWidth.val(props.width)\r\n    $inputHeight.val(props.height)\r\n    $inputBg.val(props.bgImg)\r\n    $alignSelect.val(props.position)\r\n    if (props.bgColor === 'transparent') {\r\n      this.$canvasBox.addClass('bg-trans')\r\n      this.$canvas.css('background-color', 'transparent')\r\n      $('#inputBgColor').val('').change()\r\n    } else {\r\n      this.$canvasBox.removeClass('bg-trans')\r\n      this.$canvas.css('background-color', props.bgColor)\r\n      $('#inputBgColor').val(props.bgColor).change()\r\n    }\r\n    if (props.overflow === 'hidden') {\r\n      $allowOverstep.removeClass('active')\r\n      this.setComponentAllowOverstep(false)\r\n    } else if (props.overflow === 'visible')  {\r\n      $allowOverstep.addClass('active')\r\n      this.setComponentAllowOverstep(true)\r\n    }\r\n    if (props.repeat === 'repeat') {\r\n      $el.find('.page-check[data-val=repeat]').addClass('active')\r\n    }\r\n    if (props.attachment) {\r\n      $el.find('.page-check[data-val=fixed]').addClass('active')\r\n    }\r\n    this.setBackground()\r\n    this.setCanvasSize(props.width, props.height)\r\n    this.loadApp(props.app)\r\n  }\r\n  loadApp(apps) {\r\n    this.clear()\r\n    apps.forEach(app => {\r\n      let component: Component = null\r\n      if (app.appType === 'xrq') {\r\n        component = new HotAreaComponent\r\n      } else if (app.appType === 'xdtb') {\r\n        component = new ImgComponent\r\n      } else if (app.appType === 'xtcl') {\r\n        component = new ImgAntComponent\r\n      } else if (app.appType === 'xwzb') {\r\n        component = new TextComponent\r\n      } else if (app.appType === 'wangh') {\r\n        component = new WangComponent\r\n      } else if (app.appType === 'xvb') {\r\n        component = new VideoComponent\r\n      }else if (app.appType === 'xzfm') {\r\n        component = new ImgZfComponent\r\n      }else if (app.appType === 'xgdb') {\r\n        component = new MarqueeComponent\r\n      }\r\n      component.formData = app.config\r\n      component.update(component.formData)\r\n      component.setPosition(app.pos)\r\n      this.addComponent(component)\r\n    })\r\n  }\r\n\r\n  calcWidth() {\r\n    let width = 0\r\n    let left = 0\r\n    for (let component of this.components) {\r\n      let l = parseInt(component.$el.css('left'))\r\n      let w = component.width()\r\n      if (l > left) {\r\n        left = l\r\n        width = l + w\r\n      }\r\n    }\r\n    return width\r\n  }\r\n\r\n  calcHeight() {\r\n    let height = 0\r\n    let top = 0\r\n    for (let component of this.components) {\r\n      let t = parseInt(component.$el.css('top'))\r\n      let h = component.height()\r\n      if (t > top) {\r\n        top = t\r\n        height = t + h\r\n      }\r\n    }\r\n    return height\r\n  }\r\n\r\n  setBackground() {\r\n    let attachment = this.props.attachment ? this.props.attachment : 'scroll'\r\n    let repeat = this.props.repeat ? this.props.repeat : 'no-repeat'\r\n    let position = this.props.position\r\n    let bgImg = this.props.bgImg\r\n    //let bgImg = this.props.bgImg ? `url(\"${this.props.bgImg}\")` : 'none'\r\n    /*  注释的 2020.2.24 ydx\r\n    this.$canvas.css('background-image', bgImg)\r\n    this.$canvas.css('background-repeat', repeat)\r\n    this.$canvas.css('background-position', position)\r\n    // this.$canvas.css('background-attachment', attachment)\r\n    this.$canvas.css('background-color', this.props.bgColor)*/\r\n    let bgImgs= bgImage(bgImg,this.props.bgColor,repeat,position,attachment)\r\n    this.$canvas.css('background', bgImgs)\r\n  }\r\n\r\n  initPorpPanel() {\r\n    let $el = $('.page-config');\r\n    let $inputWidth = $el.find('.input-width');\r\n    let $inputHeight = $el.find('.input-height');\r\n    let $inputBg = $el.find('.input-bg');\r\n    let $calcWidth = $el.find('.calc-width');\r\n    let $calcHeight = $el.find('.calc-height');\r\n    let $alignSelect = $el.find('.align-select');\r\n    let $allowOverstep = $el.find('#allowOverstep')\r\n    this.propPanel = {\r\n      $el: $el,\r\n      $inputWidth: $inputWidth,\r\n      $inputHeight: $inputHeight,\r\n      $alignSelect: $alignSelect,\r\n      $inputBg: $inputBg,\r\n      $allowOverstep: $allowOverstep\r\n    }\r\n    $inputWidth.val(this.pageWidth)\r\n    $inputHeight.val(this.pageHeight)\r\n    let align = '50% 0'\r\n    let that = this;\r\n    // @ts-ignore\r\n    //颜色选择器\r\n    $(document).spectrum({\r\n      showPalette : !0,\r\n      maxSelectionSize : 18,\r\n      showInitial : !0,\r\n      preferredFormat : 'hex',\r\n      showButtons : !1,\r\n      palette: [\r\n          ['#000','#444','#666','#999','#ccc','#eee'],\r\n          ['#f00','#f90','#ff0','#0f0','#0ff','#00f'],\r\n          ['#900','#b45f06','#bf9000','#38761d','#134f5c','#0b5394']\r\n      ],\r\n      move: function(color, $input) {\r\n        let id = $input.attr('id')\r\n        if (id === 'inputBgColor' && that) {\r\n          if (!color) {\r\n            that.$canvasBox.addClass('bg-trans');\r\n            that.props.bgColor = 'transparent'\r\n          }\r\n          if (typeof color === 'object') {\r\n            let colorHex = color.toHexString()\r\n            that.$canvasBox.removeClass('bg-trans')\r\n            that.props.bgColor = colorHex\r\n          }\r\n          that.setBackground()\r\n        }\r\n      }\r\n    }).spectrum.freshSpan();\r\n\r\n    $inputWidth.bind('input', function() {\r\n      that.pageWidth = +$(this).val();\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    });\r\n\r\n    $inputHeight.bind('input', function() {\r\n      that.pageHeight = +$(this).val();\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    });\r\n\r\n    $inputBg.bind('input', function() {\r\n      let img = $(this).val()\r\n      that.props.bgImg = img\r\n      that.setBackground()\r\n    })\r\n    $alignSelect.change(function() {\r\n      let alignValue = $(this).val()\r\n      that.props.position = alignValue\r\n      that.setBackground()\r\n    })\r\n\r\n    $allowOverstep.bind('click', function() {\r\n      if ($allowOverstep.hasClass('active')) {\r\n        $allowOverstep.removeClass('active')\r\n        that.props.overflow = 'hidden'\r\n        that.setComponentAllowOverstep(false)\r\n      } else {\r\n        $allowOverstep.addClass('active')\r\n        that.props.overflow = 'visible'\r\n        that.setComponentAllowOverstep(true)\r\n      }\r\n    })\r\n    that.setBackground()\r\n    $el.find('.bgImg-box .page-check').bind('click', function() {\r\n      let $this = $(this)\r\n      let val = $this.data('val')\r\n      console.log(val)\r\n      if ($this.hasClass('active')) {\r\n        $this.removeClass('active')\r\n        if (val === 'repeat') {\r\n          that.props.repeat = ''\r\n        }\r\n        if (val === 'fixed') {\r\n          that.props.attachment = ''\r\n        }\r\n      } else {\r\n        $this.addClass('active')\r\n        if (val === 'repeat') {\r\n          that.props.repeat = 'repeat'\r\n        }\r\n        if (val === 'fixed') {\r\n          that.props.attachment = 'fixed'\r\n        }\r\n      }\r\n      that.setBackground()\r\n    })\r\n\r\n    $calcWidth.bind('click', function() {\r\n      let w = that.calcWidth()\r\n      $inputWidth.val(w)\r\n      that.pageWidth = w;\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    })\r\n    $calcHeight.bind('click', function() {\r\n      let h = that.calcHeight()\r\n      $inputHeight.val(h)\r\n      that.pageHeight = h;\r\n      that.setCanvasSize(that.pageWidth, that.pageHeight)\r\n    })\r\n  }\r\n  createComponentToolbar() {\r\n    this.$componentTopBar = $(` <div class=\"top-bar\">\r\n        <span class=\"setting\" title=\"编辑\"></span>\r\n        <span class=\"lock lock-pos\" title=\"锁定位置\"></span>\r\n        <span class=\"copy\" title=\"复制\"></span>\r\n        <span class=\"delete\" title=\"删除\"></span>\r\n      </div>`);\r\n    this.$componentBottomBar = $(` <div class=\"bottom-bar\">\r\n        <span>X:<input type=\"text\" value=\"0\"></span>\r\n        <span>Y:<input type=\"text\" value=\"0\"></span>\r\n        <span class=\"width-input\">宽:<input type=\"text\" value=\"0\"></span>\r\n        <span class=\"height-input\">高:<input type=\"text\" value=\"0\"></span>\r\n        <span class=\"confirm\">确定</span>\r\n      </div>`);\r\n    this.$canvas.append(this.$componentTopBar);\r\n    this.$canvas.append(this.$componentBottomBar);\r\n\r\n    this.$inputX = this.$componentBottomBar.find('span:nth-child(1) input');\r\n    this.$inputY = this.$componentBottomBar.find('span:nth-child(2) input');\r\n    this.$inputWidth = this.$componentBottomBar.find('span:nth-child(3) input');\r\n    this.$inputHeight = this.$componentBottomBar.find('span:nth-child(4) input');\r\n\r\n    let that = this;\r\n    this.$componentTopBar.find('.setting').on('mousedown', function() {\r\n      if (that.focusComponent && that.focusComponent.isEditPopup) {\r\n        that.focusComponent.openEditDialog();\r\n      }\r\n    })\r\n\r\n    this.$componentBottomBar.find('.confirm').on('mousedown', function() {\r\n      let x = that.$inputX.val()\r\n      let y = that.$inputY.val()\r\n      let width = that.$inputWidth.val()\r\n      let height = that.$inputHeight.val()\r\n      that.focusComponent && that.focusComponent.setPosition({\r\n        w: width,\r\n        h: height,\r\n        l: x,\r\n        t: y\r\n      }, true)\r\n      that.setComponentToolbarPos();\r\n    })\r\n\r\n    this.$componentTopBar.find('.lock-pos').on('mousedown', function() {\r\n      let $this = $(this)\r\n      if (that.focusComponent.isLockedPos) {\r\n        that.focusComponent.isLockedPos = false\r\n        $this.removeClass('unlock')\r\n        $this.addClass('lock')\r\n        $this.attr('title', '锁定位置')\r\n        that.focusComponent.drag.enable()\r\n      } else {\r\n        that.focusComponent.isLockedPos = true\r\n        $this.removeClass('lock')\r\n        $this.addClass('unlock')\r\n        $this.attr('title', '解除锁定')\r\n        that.focusComponent.drag.disable()\r\n      }\r\n    })\r\n\r\n    this.$componentTopBar.find('.delete').on('mousedown', (event) => {\r\n      event.stopPropagation();\r\n      that.focusComponent.deleteSelf();\r\n    })\r\n\r\n    this.$componentTopBar.find('.copy').on('click', function(event) {\r\n      that.focusComponent.clone();\r\n    })\r\n  }\r\n  resetComponentPositionInfo() {\r\n    if (this.focusComponent) {\r\n      let left = this.focusComponent.left();\r\n      let top = this.focusComponent.top();\r\n      this.$inputX.val(left);\r\n      this.$inputY.val(top);\r\n      this.$inputWidth.val(this.focusComponent.width());\r\n      this.$inputHeight.val(this.focusComponent.height());\r\n    }\r\n  }\r\n  setComponentToolbarPos() {\r\n    if (this.focusComponent) {\r\n      let topBarTop = this.focusComponent.top() - this.$componentTopBar.height();\r\n      let bottomBarTop = this.focusComponent.top() + this.focusComponent.height();\r\n      let topBarLeft = this.focusComponent.left();\r\n      this.$componentTopBar.css('top', topBarTop);\r\n      this.$componentTopBar.css('left', topBarLeft);\r\n      this.$componentBottomBar.css('top', bottomBarTop);\r\n      this.$componentBottomBar.css('left', topBarLeft);\r\n    }\r\n  }\r\n  showComponentToolbar(component: Component) {\r\n    if (this.focusComponent) {\r\n      return;\r\n    }\r\n    this.focusComponent = component;\r\n    if (!component.isEditPopup) {\r\n      this.$componentTopBar.find('.setting').hide();\r\n    } else {\r\n      this.$componentTopBar.find('.setting').show();\r\n    }\r\n    if (!component.enableResize) {\r\n      this.$componentBottomBar.find('.width-input, .height-input').hide();\r\n    } else {\r\n      this.$componentBottomBar.find('.width-input, .height-input').show();\r\n    }\r\n    this.$componentTopBar.show();\r\n    this.$componentBottomBar.show();\r\n    this.setComponentToolbarPos();\r\n    this.resetComponentPositionInfo();\r\n  }\r\n  hideComponentToolbar() {\r\n    if (!this.focusComponent) {\r\n      return;\r\n    }\r\n    this.$componentTopBar.hide();\r\n    this.$componentBottomBar.hide();\r\n    this.focusComponent = null;\r\n  }\r\n}\r\n","export default class Ruler {\r\n  $el: JQuery\r\n  $rulerX: JQuery\r\n  $rulerY: JQuery\r\n  $cursorPosX: JQuery\r\n  $cursorPosY: JQuery\r\n  canvasWidth: number\r\n  canvasHeight: number\r\n  paddingWidth: number\r\n  paddingHeight: number\r\n  width: number\r\n  height: number\r\n  constructor() {\r\n  }\r\n  create($ct) {\r\n    let $el = $(`\r\n      <div class=\"ruler\">\r\n        <div class=\"rulerX\">\r\n          <div>\r\n            <div class=\"cursor-pos\"><span>0</span></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"rulerY\">\r\n          <div>\r\n            <div class=\"cursor-pos\"><span>0</span></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n    let $rulerX = $el.find('.rulerX > div');\r\n    let $rulerY = $el.find('.rulerY > div');\r\n    this.$el = $el;\r\n    this.$rulerX = $rulerX;\r\n    this.$rulerY = $rulerY;\r\n    this.$cursorPosX = $rulerX.find('.cursor-pos');\r\n    this.$cursorPosY = $rulerY.find('.cursor-pos');\r\n    $ct.append(this.$el);\r\n  }\r\n  draw() {\r\n    let canvasWidth = this.canvasWidth;\r\n    let canvasHeight = this.canvasHeight;\r\n    let paddingWidth = this.paddingWidth;\r\n    let paddingHeight = this.paddingHeight;\r\n    // let paddingWidth = Math.ceil(canvasWidth / 3 / 50) * 50 * 2;\r\n    // paddingWidth = 1400;\r\n    let rulerWidth = Math.ceil(canvasWidth / 50) * 50 + paddingWidth;\r\n    // let paddingHeight = Math.ceil(canvasHeight / 3 / 50) * 50 * 2;\r\n    // paddingHeight = 700;\r\n    let rulerHeight = Math.ceil(canvasHeight / 50) * 50 + paddingHeight;\r\n\r\n    this.paddingHeight = paddingHeight;\r\n    this.paddingWidth = paddingWidth;\r\n    this.width = rulerWidth;\r\n    this.height = rulerHeight;\r\n\r\n    let initXValue = -(paddingWidth / 2);\r\n    let ruleXSpans = '';\r\n    for (let i = 0; i < rulerWidth / 50; i++) {\r\n      ruleXSpans += `<span>${Math.abs(initXValue + i * 50)}</span>`;\r\n    }\r\n\r\n    let initYValue = -(paddingHeight / 2);\r\n    let ruleYSpans = '';\r\n    for (let i = 0; i < rulerHeight / 50; i++) {\r\n      ruleYSpans += `<span>${Math.abs(initYValue + i * 50)}</span>`;\r\n    }\r\n    this.$rulerX.append(ruleXSpans)\r\n    this.$rulerX.width(rulerWidth)\r\n\r\n    this.$rulerY.append(ruleYSpans)\r\n    this.$rulerY.height(rulerHeight)\r\n  }\r\n\r\n  update(canvasWidth, canvasHeight, paddingWidth, paddingHeight) {\r\n    this.canvasWidth = canvasWidth;\r\n    this.canvasHeight = canvasHeight;\r\n    this.paddingWidth = paddingWidth;\r\n    this.paddingHeight = paddingHeight;\r\n    this.$rulerX.find('> span').remove();\r\n    this.$rulerY.find('> span').remove();\r\n    this.draw();\r\n  }\r\n\r\n  showCursor() {\r\n    this.$cursorPosX.show();\r\n    this.$cursorPosY.show();\r\n  }\r\n  hideCursor() {\r\n    this.$cursorPosX.hide();\r\n    this.$cursorPosY.hide();\r\n  }\r\n\r\n  setCursorPos(x, y) {\r\n    this.$cursorPosX.css('left', (this.paddingWidth / 2 + x) + 'px')\r\n    this.$cursorPosY.css('top', (this.paddingHeight / 2 + y) + 'px')\r\n    this.$cursorPosX.find('span').text(Math.ceil(x))\r\n    this.$cursorPosY.find('span').text(Math.ceil(y))\r\n  }\r\n\r\n  setX(x) {\r\n    this.$rulerX.css('left', x + 'px')\r\n  }\r\n\r\n  setY(y) {\r\n    this.$rulerY.css('top', y + 'px')\r\n  }\r\n}\r\n\r\n","import Component from './Component';\r\nimport { wwUrl,onLinkModeChanged} from './commonCss'\r\nimport { compareForm,valEmpty} from \"./common\"\r\nimport UpdateFormAction from \"./UpdateFormAction\"\r\nexport default class HotAreaComponent extends Component {\r\n  $content: JQuery\r\n  constructor() {\r\n    super('hotarea-component')\r\n    let $lHtml = `\r\n        <div class=\"hot-area-box\"></div>\r\n      `\r\n    this.$contentBox.append($lHtml)\r\n    this.$content = this.$contentBox.find('.hot-area-box')\r\n\r\n    this.initFormData()\r\n\r\n  }\r\n  initFormData() {\r\n    this.formData.appLabel = ''\r\n    this.formData.linkMode = 'urlink'\r\n    this.formData.href = ''\r\n    this.formData.hrefMode ='_blank'\r\n    this.formData.wangID = ''\r\n    this.doUpdate(this.formData)\r\n  }\r\n  getProps() {\r\n    let config = this.formData;\r\n    config.appID = `${this.stage.id}-${this.id}`\r\n    return {\r\n      'appType': 'xrq',\r\n      'config': config,\r\n      'pos': {\r\n        w: this.width(),\r\n        h: this.height(),\r\n        l: parseInt(this.$el.css('left')),\r\n        t: parseInt(this.$el.css('top'))\r\n      }\r\n    }\r\n  }\r\n\r\n  toHtml() {\r\n    let top, left, width, height,url,bgColor,hrefMode\r\n\r\n    top = this.$el.css('top')\r\n    left = this.$el.css('left')\r\n    width = this.$el.width()\r\n    height = this.$el.height()\r\n    bgColor=valEmpty(this.formData.bgColor)  !=\"\" ? 'background-color:'+this.formData.bgColor+';' :''\r\n    url = wwUrl(this.formData.href,this.formData.linkMode,this.formData.wangID,22)\r\n    hrefMode=valEmpty(this.formData.hrefMode) ===\"_blank\" ? ' target=\"_blank\" ' : '';\r\n    url=url !=\"\" ? ' href=\"'+url+'\"' : '';\r\n\r\n    return '<a '+url+hrefMode+' class=\"abs\"  style=\"top: '+top+'; left:'+left+'; width:'+width+'px; height:'+height+'px;display:inline-block;'+bgColor+'\"></a>'\r\n\r\n   /*\r\n    return `\r\n      <a href=\"${url}\" target=\"${this.formData.hrefMode || ''}\" style=\"position: absolute; top: ${top}; left: ${left}; width: ${width}px; height: ${height}px;background-color: ${bgColor};display:inline-block; \">\r\n\r\n      </a>\r\n    `*/\r\n  }\r\n  updatePropPanel() {\r\n    let $propPanel = this.$propPanel\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.filter(`[value=\"${this.formData.linkMode}\"]`).prop('checked', true)\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.val(this.formData.href)\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    if (this.formData.hrefMode === '_blank') {\r\n      $hrefModeCheckBox.prop('checked', true)\r\n    } else {\r\n      $hrefModeCheckBox.prop('checked', false)\r\n    }\r\n    onLinkModeChanged($propPanel, this.formData.linkMode)\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.val(this.formData.wangID)\r\n\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.val(this.formData.bgColor)\r\n    if (this.formData.bgColor) {\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",this.formData.bgColor)\r\n    }else{\r\n      $bgColorInput.prev().find(\".sp-preview-inner\").css(\"background-color\",'')\r\n    }\r\n\r\n  } \r\n  initPorpPanel() {\r\n    let that = this\r\n    $('.prop-setting-ct > div').hide()\r\n    let $propPanel = $('.area-com-prop-panel')\r\n    this.$propPanel = $propPanel\r\n\r\n    $propPanel.show()\r\n    $propPanel.find('*').off()\r\n\r\n    this.updatePropPanel()\r\n\r\n    let $linkModeRadio = $propPanel.find('input[type=radio][name=linkMode]')\r\n    $linkModeRadio.change(function() {\r\n      let val = $(this).prop('value')\r\n      that.formData.linkMode = val\r\n      onLinkModeChanged($propPanel, that.formData.linkMode)\r\n    })\r\n\r\n    let $hrefInput = $propPanel.find('input[type=text][name=href]')\r\n    $hrefInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({href:val})\r\n    })\r\n\r\n    let $hrefModeCheckBox = $propPanel.find('input[type=checkbox][name=hrefMode]')\r\n    $hrefModeCheckBox.change(function() {\r\n      let val = $(this).is(':checked')\r\n       that.update({hrefMode:val ? '_blank' : ''})\r\n    })\r\n\r\n    let $wangIDInput = $propPanel.find('input[type=text][name=wangID]')\r\n    $wangIDInput.keyup(function() {\r\n      let val = $(this).val()\r\n      that.update({wangID:val})\r\n    })\r\n    let $bgColorInput = $propPanel.find('input[type=text][name=bgColor]')\r\n    $bgColorInput.change(function() {\r\n      let val = $(this).val()\r\n      that.update({bgColor:val})\r\n    })\r\n  }\r\n  doUpdate(formData){\r\n    let that = this\r\n    if(formData.bgColor !=\"\"){\r\n       that.$content.css('background-color',formData.bgColor)\r\n       }else{\r\n       that.$content.css('background-color','transparent')\r\n     }\r\n  }\r\n  update(formData) {\r\n    let newFormData = JSON.parse(JSON.stringify(this.formData));\r\n    for (let k in formData) {\r\n      newFormData[k] = formData[k];\r\n    }\r\n    if (!compareForm(newFormData, this.formData)) {\r\n      let updateFormAction = new UpdateFormAction(this);\r\n      updateFormAction.setOldFormData(this.formData);\r\n      updateFormAction.setNewFormData(newFormData);\r\n      this.stage.actionManager.execute(updateFormAction)\r\n    }\r\n\r\n  }\r\n  openEditDialog() {\r\n\r\n  }\r\n}\r\n","import Action from \"./Action\"\r\nimport Component from \"./Component\"\r\n\r\nexport default class SetPositionAction implements Action {\r\n  originPos: any = null;\r\n  endPos: any = null;\r\n  component: Component = null;\r\n  constructor(component: Component) {\r\n    this.component = component;\r\n  }\r\n  setOriginPos(originPos) {\r\n    this.originPos = originPos;\r\n  }\r\n  setEndPos(endPos) {\r\n    this.endPos = endPos;\r\n  }\r\n  do() {\r\n    if (this.component && this.endPos) {\r\n      this.component.$el.width(this.endPos.w);\r\n      this.component.$el.height(this.endPos.h);\r\n      this.component.$el.css('left', this.endPos.l + 'px')\r\n      this.component.$el.css('top', this.endPos.t + 'px')\r\n      this.component.stage.selectComponent(this.component)\r\n    }\r\n  }\r\n\r\n  undo() {\r\n    if (this.component && this.originPos) {\r\n      this.component.$el.width(this.originPos.w);\r\n      this.component.$el.height(this.originPos.h);\r\n      this.component.$el.css('left', this.originPos.l + 'px')\r\n      this.component.$el.css('top', this.originPos.t + 'px')\r\n      this.component.stage.selectComponent(this.component)\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"../assets/wang2.gif\";","module.exports = \"../assets/wang1.gif\";","import Action from \"./Action\"\r\n\r\nexport default class ActionManager {\r\n  redoStack: Array<Action> = [];\r\n  undoStack: Array<Action> = [];\r\n  execute(action: Action) {\r\n    action.do();\r\n    this.undoStack.push(action);\r\n    this.redoStack = [];\r\n  }\r\n  undo() {\r\n    if (this.undoStack.length === 0) {\r\n      return;\r\n    }\r\n    const action = this.undoStack.pop();\r\n    action.undo();\r\n    this.redoStack.push(action);\r\n  }\r\n  redo() {\r\n    if (this.redoStack.length === 0) {\r\n      return;\r\n    }\r\n    const action = this.redoStack.pop();\r\n    action.do();\r\n    this.undoStack.push(action);\r\n  }\r\n}\r\n","import ImgComponent from './ImgComponent'\r\nimport TextComponent from './TextComponent'\r\nimport StageContainer from './StageContainer';\r\nimport Stage from './Stage';\r\nimport WangComponent from './WangComponent';\r\nimport VideoComponent from './VideoComponent';\r\nimport ImgAntComponent from './ImgAntComponent';\r\nimport ImgZfComponent from './ImgZfComponent';\r\nimport MarqueeComponent from './MarqueeComponent';\r\nimport Action from \"./Action\"\r\nexport default class ComponentBar {\r\n  stageCt: StageContainer\r\n  $el: JQuery\r\n  constructor(stageCt) {\r\n    this.stageCt = stageCt;\r\n    let $el = $('.component-bar');\r\n    this.$el = $el;\r\n    let curStage: Stage = stageCt.curStage\r\n    $el.find('li').bind('mousedown', function(event) {\r\n      let name = $(this).data('name')\r\n      let component = null;\r\n      let initX = Math.abs(curStage.myScroll.x) - curStage.paddingWidth / 2\r\n      let initY = Math.abs(curStage.myScroll.y) - curStage.paddingHeight / 2\r\n      if (name === 'img-component') {\r\n        component = new ImgComponent();\r\n      } else if (name === 'img-ant-component') {\r\n        component = new ImgAntComponent();\r\n      }else if (name === 'text-component') {\r\n        component = new TextComponent();\r\n      } else if (name === 'wang-component') {\r\n        component = new WangComponent();\r\n      } else if (name === 'video-component') {\r\n        component = new VideoComponent();\r\n      }else if (name === 'img-zf-component') {\r\n        component = new ImgZfComponent();\r\n      }else if (name === 'marquee-component') {\r\n        component = new MarqueeComponent();\r\n      }\r\n      component.$el.css('left', Math.max(initX, 0) + 'px')\r\n      component.$el.css('top', Math.max(initY, 0) + 'px')\r\n\r\n      curStage.actionManager.execute({\r\n        do() {\r\n          curStage.addComponent(component)\r\n          curStage.selectComponent(component)\r\n        }, undo() {\r\n          curStage.removeComponent(component)\r\n          curStage.unselectComponent(component)\r\n          if (curStage.components.length > 0) {\r\n            curStage.selectComponent(curStage.components[curStage.components.length - 1])\r\n          }\r\n        }\r\n      });\r\n    })\r\n  }\r\n}\r\n","import StageContainer from \"./StageContainer\";\r\n\r\nexport default class Header {\r\n  $el: JQuery\r\n  stageCt: StageContainer\r\n  constructor(stageCt: StageContainer) {\r\n    this.stageCt = stageCt\r\n    this.$el = $('.header')\r\n    let that = this;\r\n    this.$el.find('.export-btn').bind('click', function() {\r\n      that.openExportDialog()\r\n    })\r\n    this.$el.find('.import-btn').bind('click', function() {\r\n      that.openImportDialog()\r\n    })\r\n    this.$el.find('.undo-btn').bind('click', function() {\r\n      that.stageCt.curStage.actionManager.undo();\r\n    })\r\n\r\n    this.$el.find('.redo-btn').bind('click', function() {\r\n      that.stageCt.curStage.actionManager.redo();\r\n    })\r\n\r\n    this.$el.find('.preview-btn').bind('click', function() {\r\n      let previewWin = window.open('')\r\n      let url = window.location.href\r\n      previewWin.document.write(`<html><head><title></title><link rel=\"stylesheet\" type=\"text/css\" href=\"${url}css/common.css\"></head><body>`);\r\n      previewWin.document.write(that.stageCt.curStage.generateHtmlCode());\r\n      previewWin.document.write('</body></html>');\r\n      previewWin.focus()\r\n      previewWin.document.title = '预览'\r\n    })\r\n\r\n  }\r\n\r\n  generateJsonCode() {\r\n    let curStage = this.stageCt.curStage\r\n  }\r\n\r\n  openImportDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '导入代码',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '550px'],\r\n      success: function(layerElem, index) {\r\n        let $layerElem = $(layerElem)\r\n        let $jsonTextArea = $layerElem.find('#jsonTextArea')\r\n        $layerElem.find('.confirm-btn').bind('click', function() {\r\n          let jsonStr = $jsonTextArea.val().toString()\r\n          let jsonObj = JSON.parse(jsonStr)\r\n          that.stageCt.curStage.loadProp(jsonObj)\r\n          layer.close(index)\r\n        })\r\n        $layerElem.find('.cancel-btn').on('click', function() {\r\n          layer.close(index)\r\n        })\r\n      },\r\n      content: `\r\n        <div class=\"codegen\" style=\"padding: 10px 10px\">\r\n          <div class=\"layui-tab\">\r\n            <ul class=\"layui-tab-title\" style=\"font-size: 12px\">\r\n              <li style=\"font-size: 14px\" class=\"layui-this\">将代码放下面 如不会操作 请拨电话:189-0079-2453  或加扣扣 458243665</li>\r\n              <li style=\"font-size: 12px;display:none;\">追加导入</li>\r\n            </ul>\r\n            <div class=\"layui-tab-content\" style=\"padding: 0px;\">\r\n              <div class=\"layui-tab-item layui-show\">\r\n                <textarea id=\"jsonTextArea\"style=\"float:left;width:100%;height:320px;border-top: 0px;   margin-top: 1px;\" spellcheck=\"false\"></textarea>\r\n              </div>\r\n              <div class=\"layui-tab-item\">\r\n                <textarea id=\"htmlTextArea\"style=\"float:left;width:100%;height:320px;\" spellcheck=\"false\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"layui-form-item\" style=\"margin-top:15px;\">\r\n            <div class=\"layui-ft-btn\" style=\"text-align:center;padding-top: 20px\">\r\n              <button class=\"layui-btn confirm-btn\">确定</button>\r\n              <button type=\"button\" class=\"cancel-btn layui-btn layui-btn-primary\">取消</button>\r\n            </div>\r\n          </div>\r\n        </div>`\r\n    });\r\n\r\n  }\r\n\r\n  openExportDialog() {\r\n    let that = this;\r\n    let layer = layui.layer;\r\n    let layerNo = layer.open({\r\n      type: 1,\r\n      title: '生成代码',\r\n      skin: 'layui-layer-rim', //加上边框\r\n      area: ['600px', '550px'],\r\n      success: function(layerElem, index) {\r\n        let $layerElem = $(layerElem)\r\n        let $jsonTextArea = $layerElem.find('#jsonTextArea')\r\n        let $htmlTextArea = $layerElem.find('#htmlTextArea')\r\n        let jsonCodeStr = that.stageCt.curStage.generateJsonCode()\r\n        let jsonCodeObj = JSON.parse(jsonCodeStr)\r\n        $jsonTextArea.val(jsonCodeStr)\r\n        $htmlTextArea.val(that.stageCt.curStage.generateHtmlCode())\r\n        $layerElem.find('.page-width').val(that.stageCt.curStage.pageWidth)\r\n        $layerElem.find('.page-height').val(that.stageCt.curStage.pageHeight)\r\n        let $codeSize = $layerElem.find('.code-size')\r\n        $codeSize.text((jsonCodeStr.length / 1024).toFixed(2))\r\n        let $curSelectedRadio = null\r\n        if (jsonCodeObj.overflow === 'hidden') {\r\n          $curSelectedRadio = $layerElem.find('.cfgl-radio-hidden')\r\n          $curSelectedRadio.addClass('cfgl-radio-checked')\r\n        } else {\r\n          $curSelectedRadio = $layerElem.find('.cfgl-radio-visible')\r\n          $curSelectedRadio.addClass('cfgl-radio-checked')\r\n        }\r\n        $layerElem.find('.cfgl-radio').bind('click', function() {\r\n          let $this = $(this)\r\n          if ($curSelectedRadio == $this) {\r\n            return\r\n          }\r\n          $curSelectedRadio.removeClass('cfgl-radio-checked')\r\n          $curSelectedRadio = $this\r\n          $curSelectedRadio.addClass('cfgl-radio-checked')\r\n          let k = $curSelectedRadio.data('k')\r\n          jsonCodeObj.overflow = k\r\n          $jsonTextArea.val(JSON.stringify(jsonCodeObj))\r\n        })\r\n\r\n        $layerElem.find('.copy-box button').bind('click', function() {\r\n          // @ts-ignore\r\n          $jsonTextArea[0].select()\r\n          document.execCommand('copy')\r\n        })\r\n\r\n      },\r\n      content: `\r\n        <div class=\"codegen\" style=\"padding: 15px 10px\">\r\n          <div class=\"codegen-head\">\r\n            <ul>\r\n              <li>\r\n                <label><span style=\"margin-left:10px;\">当前模块宽</span>&nbsp;</label>\r\n                <input class=\"page-width\" style=\"width:40px;\" type=\"text\" spellcheck=\"false\">\r\n                <label>&nbsp;&nbsp;高&nbsp;</label>\r\n                <input class=\"page-height\" style=\"width:40px;\" type=\"text\" spellcheck=\"false\">\r\n                <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当内容超出模块范围时：&nbsp;</label>\r\n                <div id=\"rm_o1\">\r\n                  <input class=\"cfgl-rr\" type=\"radio\" id=\"m_o2\" name=\"overflowMode\" value=\"visible\" spellcheck=\"false\">\r\n                  <label class=\"cfgl-radio cfgl-radio-visible\" for=\"m_o2\" data-k=\"visible\" style=\"border-right:none;border-radius:2px 0 0 2px;\">显示</label>\r\n                  <input class=\"cfgl-rr\" type=\"radio\" id=\"m_o1\" name=\"overflowMode\" checked=\"checked\" value=\"hidden\" spellcheck=\"false\">\r\n                  <label class=\"cfgl-radio cfgl-radio-hidden\" for=\"m_o1\" data-k=\"hidden\" style=\"border-left:none;border-radius:0 2px 2px 0;\">裁掉</label>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"layui-tab\">\r\n            <ul class=\"layui-tab-title\" style=\"font-size: 12px;display: none;\">\r\n              <li style=\"font-size: 14px;\" class=\"layui-this\">JSON代码 </li>\r\n              <li style=\"font-size: 12px;\" style=\"\">HTML代码</li>\r\n            </ul>\r\n            <div class=\"layui-tab-content\">\r\n              <div class=\"layui-tab-item layui-show\">\r\n                <textarea id=\"jsonTextArea\"style=\" width:100%;height:300px;\" readonly spellcheck=\"false\"></textarea>\r\n              </div>\r\n              <div class=\"layui-tab-item\">\r\n                <textarea id=\"htmlTextArea\"style=\"float:left;width:100%;height:300px;\" readonly spellcheck=\"false\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div  style=\"color:red;margin-left: 10px;font-size:14px;\">   如不会操作 请拨电话:189-0079-2453  或加扣扣 458243665</div>\r\n          <div class=\"code-size-box\"><span>代码量:</span><span><span class=\"code-size\">0</span>KB</span></div>\r\n          <div class=\"copy-box\"><button type=\"button\" class=\"layui-btn layui-btn-sm layui-btn-primary\">复制代码</button></div>\r\n        </div>`\r\n    });\r\n  }\r\n}\r\n","import ToolConfig from './ToolConfig'\r\nimport StageContainer from './StageContainer';\r\nexport default class Toolbar {\r\n  $el: JQuery\r\n  stageCt: StageContainer\r\n  constructor(stageCt) {\r\n    this.stageCt = stageCt\r\n    let $settingBar = $('.setting-bar')\r\n    let $pageConfig = $settingBar.find('.page-config')\r\n    let $assistConfig = $settingBar.find('.assist-config')\r\n    let $magnetConfig = $settingBar.find('.magnet-config')\r\n    let $curSetting = $pageConfig\r\n    let $el = $('.toolbar')\r\n    let $curItem = $el.find('.group3.active')\r\n    let $curItemOfGroup1 = $el.find('.group1.active')\r\n    this.$el = $el\r\n    let that = this\r\n    $el.find('li').on('click', function(event) {\r\n      let $this = $(this)\r\n      let name = $this.data('name')\r\n      if (name === 'draggable') {\r\n        ToolConfig.draggable = !ToolConfig.draggable\r\n        let $icon = $this.find('icon')\r\n        if (ToolConfig.draggable) {\r\n          $icon.text('ꑸ')\r\n          $icon.removeClass('color0')\r\n          $icon.addClass('color1')\r\n        } else {\r\n          $icon.text('ꑹ')\r\n          $icon.removeClass('color1')\r\n          $icon.addClass('color0')\r\n        }\r\n      } else if (name === 'assist' || name === 'magnet' || name === 'page') {\r\n        let $setting = $(`.${name}-config`)\r\n        if (!$curSetting.is($setting)) {\r\n          $curSetting.hide()\r\n          $curSetting = $setting\r\n          $curSetting.show()\r\n          $curItem.removeClass('active')\r\n          $this.addClass('active')\r\n          $curItem = $this\r\n        }\r\n      } else if (name === 'hotarea' || name === 'selection' || name === 'handle') {\r\n        if ($this !== $curItemOfGroup1) {\r\n          $curItemOfGroup1.removeClass('active')\r\n          $this.addClass('active')\r\n          $curItemOfGroup1 = $this\r\n          that.stageCt.curStage.setState(name)\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","export default class ToolConfig {\r\n  static draggable: boolean = true\r\n}\r\n"],"sourceRoot":""}